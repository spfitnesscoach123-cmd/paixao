{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"REVENUECAT_CONFIG\", {\n    enumerable: true,\n    get: function () {\n      return REVENUECAT_CONFIG;\n    }\n  });\n  Object.defineProperty(exports, \"getPremiumEntitlement\", {\n    enumerable: true,\n    get: function () {\n      return getPremiumEntitlement;\n    }\n  });\n  Object.defineProperty(exports, \"getSubscriptionExpirationDate\", {\n    enumerable: true,\n    get: function () {\n      return getSubscriptionExpirationDate;\n    }\n  });\n  Object.defineProperty(exports, \"checkPremiumAccessFromInfo\", {\n    enumerable: true,\n    get: function () {\n      return checkPremiumAccessFromInfo;\n    }\n  });\n  Object.defineProperty(exports, \"hasProEntitlement\", {\n    enumerable: true,\n    get: function () {\n      return hasProEntitlement;\n    }\n  });\n  Object.defineProperty(exports, \"isInTrialPeriod\", {\n    enumerable: true,\n    get: function () {\n      return isInTrialPeriod;\n    }\n  });\n  Object.defineProperty(exports, \"getManagementURL\", {\n    enumerable: true,\n    get: function () {\n      return getManagementURL;\n    }\n  });\n  Object.defineProperty(exports, \"getApiKey\", {\n    enumerable: true,\n    get: function () {\n      return getApiKey;\n    }\n  });\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // RevenueCat configuration\n  // These keys should be configured in RevenueCat dashboard\n  const REVENUECAT_CONFIG = {\n    // Public API keys from RevenueCat dashboard (safe to include in client code)\n    APPLE_API_KEY: process.env.EXPO_PUBLIC_REVENUECAT_APPLE_KEY || '',\n    GOOGLE_API_KEY: process.env.EXPO_PUBLIC_REVENUECAT_GOOGLE_KEY || '',\n    // Entitlement identifier configured in RevenueCat dashboard\n    // IMPORTANTE: Usar \"premium\" como identificador do entitlement\n    PREMIUM_ENTITLEMENT_ID: 'premium',\n    // Product identifiers (must match App Store Connect / Google Play Console)\n    PRODUCT_IDS: {\n      PRO_MONTHLY: 'com.peakperform.pro.monthly'\n    },\n    // Offering identifier\n    DEFAULT_OFFERING: 'default'\n  };\n\n  // Type definitions for RevenueCat\n\n  /**\n   * FONTE ÚNICA DA VERDADE: expirationDate\n   * \n   * O acesso premium é determinado EXCLUSIVAMENTE pela expirationDate do entitlement \"premium\".\n   * \n   * Regras:\n   * - premium = expirationDate > now\n   * - NÃO usar: entitlements.active, isActive, isTrial, isSubscribed, isCancelled, cache\n   * \n   * Comportamento:\n   * 1. Trial ativo → acesso completo\n   * 2. Trial cancelado mas dentro do período → acesso completo\n   * 3. Assinatura ativa → acesso completo\n   * 4. Assinatura cancelada mas dentro do período → acesso completo\n   * 5. expirationDate < now → bloquear acesso\n   */\n\n  /**\n   * Obtém o entitlement \"premium\" de entitlements.all (NÃO de entitlements.active)\n   * Isso garante que temos acesso à expirationDate mesmo após cancelamento\n   */\n  const getPremiumEntitlement = customerInfo => {\n    if (!customerInfo) return null;\n\n    // IMPORTANTE: Buscar de entitlements.all, NÃO de entitlements.active\n    // entitlements.all contém todos os entitlements, incluindo cancelados\n    const entitlement = customerInfo.entitlements.all[REVENUECAT_CONFIG.PREMIUM_ENTITLEMENT_ID];\n    return entitlement || null;\n  };\n\n  /**\n   * Obtém a data de expiração do entitlement premium\n   * Esta é a ÚNICA fonte de verdade para determinar acesso\n   */\n  const getSubscriptionExpirationDate = customerInfo => {\n    const entitlement = getPremiumEntitlement(customerInfo);\n    if (!entitlement || !entitlement.expirationDate) {\n      return null;\n    }\n    return new Date(entitlement.expirationDate);\n  };\n\n  /**\n   * FUNÇÃO PRINCIPAL: Verifica se o usuário tem acesso premium\n   * \n   * REGRA ÚNICA: premium = expirationDate > now\n   * \n   * NÃO usa: isActive, isTrial, entitlements.active, etc.\n   */\n  const checkPremiumAccessFromInfo = customerInfo => {\n    const entitlement = getPremiumEntitlement(customerInfo);\n    if (!entitlement || !entitlement.expirationDate) {\n      console.log('[PREMIUM] No entitlement or expirationDate found');\n      return false;\n    }\n    const expirationDate = new Date(entitlement.expirationDate);\n    const now = new Date();\n    const hasAccess = expirationDate > now;\n    console.log('[PREMIUM] Premium entitlement:', entitlement);\n    console.log('[PREMIUM] Expiration date:', entitlement.expirationDate);\n    console.log('[PREMIUM] Current date:', now.toISOString());\n    console.log('[PREMIUM] Premium access:', hasAccess);\n    return hasAccess;\n  };\n\n  /**\n   * @deprecated Use checkPremiumAccessFromInfo instead\n   * Mantido para compatibilidade, mas internamente usa a nova lógica\n   */\n  const hasProEntitlement = customerInfo => {\n    return checkPremiumAccessFromInfo(customerInfo);\n  };\n\n  /**\n   * Verifica se está em período de trial (informativo apenas, NÃO afeta acesso)\n   * O acesso é determinado EXCLUSIVAMENTE pela expirationDate\n   */\n  const isInTrialPeriod = customerInfo => {\n    const entitlement = getPremiumEntitlement(customerInfo);\n    if (!entitlement) return false;\n    return entitlement.periodType === 'trial';\n  };\n\n  /**\n   * Helper to get management URL for subscription\n   */\n  const getManagementURL = customerInfo => {\n    if (!customerInfo) return null;\n    return customerInfo.managementURL;\n  };\n\n  /**\n   * Get platform-specific API key\n   */\n  const getApiKey = () => {\n    if (Platform.default.OS === 'ios') {\n      return REVENUECAT_CONFIG.APPLE_API_KEY;\n    } else if (Platform.default.OS === 'android') {\n      return REVENUECAT_CONFIG.GOOGLE_API_KEY;\n    }\n    return '';\n  };\n  var _default = REVENUECAT_CONFIG;\n});","lineCount":190,"map":[[12,2,190,0,"Object"],[12,8,190,0],[12,9,190,0,"defineProperty"],[12,23,190,0],[12,24,190,0,"exports"],[12,31,190,0],[13,4,190,0,"enumerable"],[13,14,190,0],[14,4,190,0,"get"],[14,7,190,0],[14,18,190,0,"get"],[14,19,190,0],[15,6,190,0],[15,13,190,0,"_default"],[15,21,190,0],[16,4,190,0],[17,2,190,0],[18,2,5,0,"Object"],[18,8,5,0],[18,9,5,0,"defineProperty"],[18,23,5,0],[18,24,5,0,"exports"],[18,31,5,0],[19,4,5,0,"enumerable"],[19,14,5,0],[20,4,5,0,"get"],[20,7,5,0],[20,18,5,0,"get"],[20,19,5,0],[21,6,5,0],[21,13,5,0,"REVENUECAT_CONFIG"],[21,30,5,0],[22,4,5,0],[23,2,5,0],[24,2,100,0,"Object"],[24,8,100,0],[24,9,100,0,"defineProperty"],[24,23,100,0],[24,24,100,0,"exports"],[24,31,100,0],[25,4,100,0,"enumerable"],[25,14,100,0],[26,4,100,0,"get"],[26,7,100,0],[26,18,100,0,"get"],[26,19,100,0],[27,6,100,0],[27,13,100,0,"getPremiumEntitlement"],[27,34,100,0],[28,4,100,0],[29,2,100,0],[30,2,114,0,"Object"],[30,8,114,0],[30,9,114,0,"defineProperty"],[30,23,114,0],[30,24,114,0,"exports"],[30,31,114,0],[31,4,114,0,"enumerable"],[31,14,114,0],[32,4,114,0,"get"],[32,7,114,0],[32,18,114,0,"get"],[32,19,114,0],[33,6,114,0],[33,13,114,0,"getSubscriptionExpirationDate"],[33,42,114,0],[34,4,114,0],[35,2,114,0],[36,2,131,0,"Object"],[36,8,131,0],[36,9,131,0,"defineProperty"],[36,23,131,0],[36,24,131,0,"exports"],[36,31,131,0],[37,4,131,0,"enumerable"],[37,14,131,0],[38,4,131,0,"get"],[38,7,131,0],[38,18,131,0,"get"],[38,19,131,0],[39,6,131,0],[39,13,131,0,"checkPremiumAccessFromInfo"],[39,39,131,0],[40,4,131,0],[41,2,131,0],[42,2,155,0,"Object"],[42,8,155,0],[42,9,155,0,"defineProperty"],[42,23,155,0],[42,24,155,0,"exports"],[42,31,155,0],[43,4,155,0,"enumerable"],[43,14,155,0],[44,4,155,0,"get"],[44,7,155,0],[44,18,155,0,"get"],[44,19,155,0],[45,6,155,0],[45,13,155,0,"hasProEntitlement"],[45,30,155,0],[46,4,155,0],[47,2,155,0],[48,2,163,0,"Object"],[48,8,163,0],[48,9,163,0,"defineProperty"],[48,23,163,0],[48,24,163,0,"exports"],[48,31,163,0],[49,4,163,0,"enumerable"],[49,14,163,0],[50,4,163,0,"get"],[50,7,163,0],[50,18,163,0,"get"],[50,19,163,0],[51,6,163,0],[51,13,163,0,"isInTrialPeriod"],[51,28,163,0],[52,4,163,0],[53,2,163,0],[54,2,173,0,"Object"],[54,8,173,0],[54,9,173,0,"defineProperty"],[54,23,173,0],[54,24,173,0,"exports"],[54,31,173,0],[55,4,173,0,"enumerable"],[55,14,173,0],[56,4,173,0,"get"],[56,7,173,0],[56,18,173,0,"get"],[56,19,173,0],[57,6,173,0],[57,13,173,0,"getManagementURL"],[57,29,173,0],[58,4,173,0],[59,2,173,0],[60,2,181,0,"Object"],[60,8,181,0],[60,9,181,0,"defineProperty"],[60,23,181,0],[60,24,181,0,"exports"],[60,31,181,0],[61,4,181,0,"enumerable"],[61,14,181,0],[62,4,181,0,"get"],[62,7,181,0],[62,18,181,0,"get"],[62,19,181,0],[63,6,181,0],[63,13,181,0,"getApiKey"],[63,22,181,0],[64,4,181,0],[65,2,181,0],[66,2,188,2],[66,6,188,2,"_reactNativeWebDistExportsPlatform"],[66,40,188,2],[66,43,188,2,"require"],[66,50,188,2],[66,51,188,2,"_dependencyMap"],[66,65,188,2],[67,2,188,2],[67,6,188,2,"Platform"],[67,14,188,2],[67,17,188,2,"_interopDefault"],[67,32,188,2],[67,33,188,2,"_reactNativeWebDistExportsPlatform"],[67,67,188,2],[68,2,3,0],[69,2,4,0],[70,2,5,7],[70,8,5,13,"REVENUECAT_CONFIG"],[70,25,5,30],[70,28,5,33],[71,4,6,2],[72,4,7,2,"APPLE_API_KEY"],[72,17,7,15],[72,19,7,17,"process"],[72,26,7,24],[72,27,7,25,"env"],[72,30,7,28],[72,31,7,29,"EXPO_PUBLIC_REVENUECAT_APPLE_KEY"],[72,63,7,61],[72,67,7,65],[72,69,7,67],[73,4,8,2,"GOOGLE_API_KEY"],[73,18,8,16],[73,20,8,18,"process"],[73,27,8,25],[73,28,8,26,"env"],[73,31,8,29],[73,32,8,30,"EXPO_PUBLIC_REVENUECAT_GOOGLE_KEY"],[73,65,8,63],[73,69,8,67],[73,71,8,69],[74,4,10,2],[75,4,11,2],[76,4,12,2,"PREMIUM_ENTITLEMENT_ID"],[76,26,12,24],[76,28,12,26],[76,37,12,35],[77,4,14,2],[78,4,15,2,"PRODUCT_IDS"],[78,15,15,13],[78,17,15,15],[79,6,16,4,"PRO_MONTHLY"],[79,17,16,15],[79,19,16,17],[80,4,17,2],[80,5,17,3],[81,4,19,2],[82,4,20,2,"DEFAULT_OFFERING"],[82,20,20,18],[82,22,20,20],[83,2,21,0],[83,3,21,1],[85,2,23,0],[87,2,79,0],[88,0,80,0],[89,0,81,0],[90,0,82,0],[91,0,83,0],[92,0,84,0],[93,0,85,0],[94,0,86,0],[95,0,87,0],[96,0,88,0],[97,0,89,0],[98,0,90,0],[99,0,91,0],[100,0,92,0],[101,0,93,0],[102,0,94,0],[104,2,96,0],[105,0,97,0],[106,0,98,0],[107,0,99,0],[108,2,100,7],[108,8,100,13,"getPremiumEntitlement"],[108,29,100,34],[108,32,100,38,"customerInfo"],[108,44,100,81],[108,48,100,98],[109,4,101,2],[109,8,101,6],[109,9,101,7,"customerInfo"],[109,21,101,19],[109,23,101,21],[109,30,101,28],[109,34,101,32],[111,4,103,2],[112,4,104,2],[113,4,105,2],[113,10,105,8,"entitlement"],[113,21,105,19],[113,24,105,22,"customerInfo"],[113,36,105,34],[113,37,105,35,"entitlements"],[113,49,105,47],[113,50,105,48,"all"],[113,53,105,51],[113,54,105,52,"REVENUECAT_CONFIG"],[113,71,105,69],[113,72,105,70,"PREMIUM_ENTITLEMENT_ID"],[113,94,105,92],[113,95,105,93],[114,4,107,2],[114,11,107,9,"entitlement"],[114,22,107,20],[114,26,107,24],[114,30,107,28],[115,2,108,0],[115,3,108,1],[117,2,110,0],[118,0,111,0],[119,0,112,0],[120,0,113,0],[121,2,114,7],[121,8,114,13,"getSubscriptionExpirationDate"],[121,37,114,42],[121,40,114,46,"customerInfo"],[121,52,114,89],[121,56,114,107],[122,4,115,2],[122,10,115,8,"entitlement"],[122,21,115,19],[122,24,115,22,"getPremiumEntitlement"],[122,45,115,43],[122,46,115,44,"customerInfo"],[122,58,115,56],[122,59,115,57],[123,4,117,2],[123,8,117,6],[123,9,117,7,"entitlement"],[123,20,117,18],[123,24,117,22],[123,25,117,23,"entitlement"],[123,36,117,34],[123,37,117,35,"expirationDate"],[123,51,117,49],[123,53,117,51],[124,6,118,4],[124,13,118,11],[124,17,118,15],[125,4,119,2],[126,4,121,2],[126,11,121,9],[126,15,121,13,"Date"],[126,19,121,17],[126,20,121,18,"entitlement"],[126,31,121,29],[126,32,121,30,"expirationDate"],[126,46,121,44],[126,47,121,45],[127,2,122,0],[127,3,122,1],[129,2,124,0],[130,0,125,0],[131,0,126,0],[132,0,127,0],[133,0,128,0],[134,0,129,0],[135,0,130,0],[136,2,131,7],[136,8,131,13,"checkPremiumAccessFromInfo"],[136,34,131,39],[136,37,131,43,"customerInfo"],[136,49,131,86],[136,53,131,100],[137,4,132,2],[137,10,132,8,"entitlement"],[137,21,132,19],[137,24,132,22,"getPremiumEntitlement"],[137,45,132,43],[137,46,132,44,"customerInfo"],[137,58,132,56],[137,59,132,57],[138,4,134,2],[138,8,134,6],[138,9,134,7,"entitlement"],[138,20,134,18],[138,24,134,22],[138,25,134,23,"entitlement"],[138,36,134,34],[138,37,134,35,"expirationDate"],[138,51,134,49],[138,53,134,51],[139,6,135,4,"console"],[139,13,135,11],[139,14,135,12,"log"],[139,17,135,15],[139,18,135,16],[139,68,135,66],[139,69,135,67],[140,6,136,4],[140,13,136,11],[140,18,136,16],[141,4,137,2],[142,4,139,2],[142,10,139,8,"expirationDate"],[142,24,139,22],[142,27,139,25],[142,31,139,29,"Date"],[142,35,139,33],[142,36,139,34,"entitlement"],[142,47,139,45],[142,48,139,46,"expirationDate"],[142,62,139,60],[142,63,139,61],[143,4,140,2],[143,10,140,8,"now"],[143,13,140,11],[143,16,140,14],[143,20,140,18,"Date"],[143,24,140,22],[143,25,140,23],[143,26,140,24],[144,4,141,2],[144,10,141,8,"hasAccess"],[144,19,141,17],[144,22,141,20,"expirationDate"],[144,36,141,34],[144,39,141,37,"now"],[144,42,141,40],[145,4,143,2,"console"],[145,11,143,9],[145,12,143,10,"log"],[145,15,143,13],[145,16,143,14],[145,48,143,46],[145,50,143,48,"entitlement"],[145,61,143,59],[145,62,143,60],[146,4,144,2,"console"],[146,11,144,9],[146,12,144,10,"log"],[146,15,144,13],[146,16,144,14],[146,44,144,42],[146,46,144,44,"entitlement"],[146,57,144,55],[146,58,144,56,"expirationDate"],[146,72,144,70],[146,73,144,71],[147,4,145,2,"console"],[147,11,145,9],[147,12,145,10,"log"],[147,15,145,13],[147,16,145,14],[147,41,145,39],[147,43,145,41,"now"],[147,46,145,44],[147,47,145,45,"toISOString"],[147,58,145,56],[147,59,145,57],[147,60,145,58],[147,61,145,59],[148,4,146,2,"console"],[148,11,146,9],[148,12,146,10,"log"],[148,15,146,13],[148,16,146,14],[148,43,146,41],[148,45,146,43,"hasAccess"],[148,54,146,52],[148,55,146,53],[149,4,148,2],[149,11,148,9,"hasAccess"],[149,20,148,18],[150,2,149,0],[150,3,149,1],[152,2,151,0],[153,0,152,0],[154,0,153,0],[155,0,154,0],[156,2,155,7],[156,8,155,13,"hasProEntitlement"],[156,25,155,30],[156,28,155,34,"customerInfo"],[156,40,155,77],[156,44,155,91],[157,4,156,2],[157,11,156,9,"checkPremiumAccessFromInfo"],[157,37,156,35],[157,38,156,36,"customerInfo"],[157,50,156,48],[157,51,156,49],[158,2,157,0],[158,3,157,1],[160,2,159,0],[161,0,160,0],[162,0,161,0],[163,0,162,0],[164,2,163,7],[164,8,163,13,"isInTrialPeriod"],[164,23,163,28],[164,26,163,32,"customerInfo"],[164,38,163,75],[164,42,163,89],[165,4,164,2],[165,10,164,8,"entitlement"],[165,21,164,19],[165,24,164,22,"getPremiumEntitlement"],[165,45,164,43],[165,46,164,44,"customerInfo"],[165,58,164,56],[165,59,164,57],[166,4,165,2],[166,8,165,6],[166,9,165,7,"entitlement"],[166,20,165,18],[166,22,165,20],[166,29,165,27],[166,34,165,32],[167,4,167,2],[167,11,167,9,"entitlement"],[167,22,167,20],[167,23,167,21,"periodType"],[167,33,167,31],[167,38,167,36],[167,45,167,43],[168,2,168,0],[168,3,168,1],[170,2,170,0],[171,0,171,0],[172,0,172,0],[173,2,173,7],[173,8,173,13,"getManagementURL"],[173,24,173,29],[173,27,173,33,"customerInfo"],[173,39,173,76],[173,43,173,96],[174,4,174,2],[174,8,174,6],[174,9,174,7,"customerInfo"],[174,21,174,19],[174,23,174,21],[174,30,174,28],[174,34,174,32],[175,4,175,2],[175,11,175,9,"customerInfo"],[175,23,175,21],[175,24,175,22,"managementURL"],[175,37,175,35],[176,2,176,0],[176,3,176,1],[178,2,178,0],[179,0,179,0],[180,0,180,0],[181,2,181,7],[181,8,181,13,"getApiKey"],[181,17,181,22],[181,20,181,25,"getApiKey"],[181,21,181,25],[181,26,181,39],[182,4,182,2],[182,8,182,6,"Platform"],[182,16,182,14],[182,17,182,14,"default"],[182,24,182,14],[182,25,182,15,"OS"],[182,27,182,17],[182,32,182,22],[182,37,182,27],[182,39,182,29],[183,6,183,4],[183,13,183,11,"REVENUECAT_CONFIG"],[183,30,183,28],[183,31,183,29,"APPLE_API_KEY"],[183,44,183,42],[184,4,184,2],[184,5,184,3],[184,11,184,9],[184,15,184,13,"Platform"],[184,23,184,21],[184,24,184,21,"default"],[184,31,184,21],[184,32,184,22,"OS"],[184,34,184,24],[184,39,184,29],[184,48,184,38],[184,50,184,40],[185,6,185,4],[185,13,185,11,"REVENUECAT_CONFIG"],[185,30,185,28],[185,31,185,29,"GOOGLE_API_KEY"],[185,45,185,43],[186,4,186,2],[187,4,187,2],[187,11,187,9],[187,13,187,11],[188,2,188,0],[188,3,188,1],[189,2,190,0],[189,6,190,0,"_default"],[189,14,190,0],[189,17,190,15,"REVENUECAT_CONFIG"],[189,34,190,32],[190,0,190,33],[190,3]],"functionMap":{"names":["<global>","getPremiumEntitlement","getSubscriptionExpirationDate","checkPremiumAccessFromInfo","hasProEntitlement","isInTrialPeriod","getManagementURL","getApiKey"],"mappings":"AAA;qCCmG;CDQ;6CEM;CFQ;0CGS;CHkB;iCIM;CJE;+BKM;CLK;gCMK;CNG;yBOK;CPO"},"hasCjsExports":false},"type":"js/module"}]}