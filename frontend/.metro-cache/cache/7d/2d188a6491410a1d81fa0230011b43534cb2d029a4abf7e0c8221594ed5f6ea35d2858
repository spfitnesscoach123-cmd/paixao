{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"REVENUECAT_CONFIG\", {\n    enumerable: true,\n    get: function () {\n      return REVENUECAT_CONFIG;\n    }\n  });\n  Object.defineProperty(exports, \"getProEntitlement\", {\n    enumerable: true,\n    get: function () {\n      return getProEntitlement;\n    }\n  });\n  Object.defineProperty(exports, \"getSubscriptionExpirationDate\", {\n    enumerable: true,\n    get: function () {\n      return getSubscriptionExpirationDate;\n    }\n  });\n  Object.defineProperty(exports, \"checkProAccessFromInfo\", {\n    enumerable: true,\n    get: function () {\n      return checkProAccessFromInfo;\n    }\n  });\n  Object.defineProperty(exports, \"hasProEntitlement\", {\n    enumerable: true,\n    get: function () {\n      return hasProEntitlement;\n    }\n  });\n  Object.defineProperty(exports, \"isInTrialPeriod\", {\n    enumerable: true,\n    get: function () {\n      return isInTrialPeriod;\n    }\n  });\n  Object.defineProperty(exports, \"getManagementURL\", {\n    enumerable: true,\n    get: function () {\n      return getManagementURL;\n    }\n  });\n  Object.defineProperty(exports, \"getApiKey\", {\n    enumerable: true,\n    get: function () {\n      return getApiKey;\n    }\n  });\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // RevenueCat configuration\n  // These keys should be configured in RevenueCat dashboard\n  const REVENUECAT_CONFIG = {\n    // Public API keys from RevenueCat dashboard (safe to include in client code)\n    APPLE_API_KEY: process.env.EXPO_PUBLIC_REVENUECAT_APPLE_KEY || '',\n    GOOGLE_API_KEY: process.env.EXPO_PUBLIC_REVENUECAT_GOOGLE_KEY || '',\n    // Entitlement identifier configured in RevenueCat dashboard\n    // IMPORTANTE: Usar o IDENTIFIER exato configurado no RevenueCat (não o display name)\n    PRO_ENTITLEMENT_ID: 'pro',\n    // Product identifiers (must match App Store Connect / Google Play Console)\n    // IMPORTANTE: Usar o Product ID exato configurado no App Store Connect\n    PRODUCT_IDS: {\n      PRO_MONTHLY: 'pro_mensal'\n    },\n    // Offering identifier\n    DEFAULT_OFFERING: 'default'\n  };\n\n  // Type definitions for RevenueCat\n\n  /**\n   * FONTE ÚNICA DA VERDADE: expirationDate\n   * \n   * O acesso premium é determinado EXCLUSIVAMENTE pela expirationDate do entitlement \"pro\".\n   * \n   * Regras:\n   * - isPro = expirationDate > now\n   * - NÃO usar: entitlements.active, isActive, isTrial, isSubscribed, isCancelled, cache\n   * \n   * Comportamento:\n   * 1. Trial ativo → acesso completo\n   * 2. Trial cancelado mas dentro do período → acesso completo\n   * 3. Assinatura ativa → acesso completo\n   * 4. Assinatura cancelada mas dentro do período → acesso completo\n   * 5. expirationDate < now → bloquear acesso\n   */\n\n  /**\n   * Obtém o entitlement \"pro\" de entitlements.all (NÃO de entitlements.active)\n   * Isso garante que temos acesso à expirationDate mesmo após cancelamento\n   */\n  const getProEntitlement = customerInfo => {\n    if (!customerInfo) return null;\n\n    // IMPORTANTE: Buscar de entitlements.all, NÃO de entitlements.active\n    // entitlements.all contém todos os entitlements, incluindo cancelados\n    const entitlement = customerInfo.entitlements.all[REVENUECAT_CONFIG.PRO_ENTITLEMENT_ID];\n    return entitlement || null;\n  };\n\n  /**\n   * Obtém a data de expiração do entitlement pro\n   * Esta é a ÚNICA fonte de verdade para determinar acesso\n   */\n  const getSubscriptionExpirationDate = customerInfo => {\n    const entitlement = getProEntitlement(customerInfo);\n    if (!entitlement || !entitlement.expirationDate) {\n      return null;\n    }\n    return new Date(entitlement.expirationDate);\n  };\n\n  /**\n   * FUNÇÃO PRINCIPAL: Verifica se o usuário tem acesso pro\n   * \n   * REGRA ÚNICA: isPro = expirationDate > now\n   * \n   * NÃO usa: isActive, isTrial, entitlements.active, etc.\n   */\n  const checkProAccessFromInfo = customerInfo => {\n    const entitlement = getProEntitlement(customerInfo);\n    if (!entitlement || !entitlement.expirationDate) {\n      console.log('[PRO] No entitlement or expirationDate found');\n      return false;\n    }\n    const expirationDate = new Date(entitlement.expirationDate);\n    const now = new Date();\n    const hasAccess = expirationDate > now;\n    console.log('[PRO] Pro entitlement:', entitlement);\n    console.log('[PRO] Expiration date:', entitlement.expirationDate);\n    console.log('[PRO] Current date:', now.toISOString());\n    console.log('[PRO] Pro access:', hasAccess);\n    return hasAccess;\n  };\n\n  /**\n   * @deprecated Use checkProAccessFromInfo instead\n   * Mantido para compatibilidade, mas internamente usa a nova lógica\n   */\n  const hasProEntitlement = customerInfo => {\n    return checkProAccessFromInfo(customerInfo);\n  };\n\n  /**\n   * Verifica se está em período de trial (informativo apenas, NÃO afeta acesso)\n   * O acesso é determinado EXCLUSIVAMENTE pela expirationDate\n   */\n  const isInTrialPeriod = customerInfo => {\n    const entitlement = getProEntitlement(customerInfo);\n    if (!entitlement) return false;\n    return entitlement.periodType === 'trial';\n  };\n\n  /**\n   * Helper to get management URL for subscription\n   */\n  const getManagementURL = customerInfo => {\n    if (!customerInfo) return null;\n    return customerInfo.managementURL;\n  };\n\n  /**\n   * Get platform-specific API key\n   */\n  const getApiKey = () => {\n    if (Platform.default.OS === 'ios') {\n      return REVENUECAT_CONFIG.APPLE_API_KEY;\n    } else if (Platform.default.OS === 'android') {\n      return REVENUECAT_CONFIG.GOOGLE_API_KEY;\n    }\n    return '';\n  };\n  var _default = REVENUECAT_CONFIG;\n});","lineCount":191,"map":[[12,2,191,0,"Object"],[12,8,191,0],[12,9,191,0,"defineProperty"],[12,23,191,0],[12,24,191,0,"exports"],[12,31,191,0],[13,4,191,0,"enumerable"],[13,14,191,0],[14,4,191,0,"get"],[14,7,191,0],[14,18,191,0,"get"],[14,19,191,0],[15,6,191,0],[15,13,191,0,"_default"],[15,21,191,0],[16,4,191,0],[17,2,191,0],[18,2,5,0,"Object"],[18,8,5,0],[18,9,5,0,"defineProperty"],[18,23,5,0],[18,24,5,0,"exports"],[18,31,5,0],[19,4,5,0,"enumerable"],[19,14,5,0],[20,4,5,0,"get"],[20,7,5,0],[20,18,5,0,"get"],[20,19,5,0],[21,6,5,0],[21,13,5,0,"REVENUECAT_CONFIG"],[21,30,5,0],[22,4,5,0],[23,2,5,0],[24,2,101,0,"Object"],[24,8,101,0],[24,9,101,0,"defineProperty"],[24,23,101,0],[24,24,101,0,"exports"],[24,31,101,0],[25,4,101,0,"enumerable"],[25,14,101,0],[26,4,101,0,"get"],[26,7,101,0],[26,18,101,0,"get"],[26,19,101,0],[27,6,101,0],[27,13,101,0,"getProEntitlement"],[27,30,101,0],[28,4,101,0],[29,2,101,0],[30,2,115,0,"Object"],[30,8,115,0],[30,9,115,0,"defineProperty"],[30,23,115,0],[30,24,115,0,"exports"],[30,31,115,0],[31,4,115,0,"enumerable"],[31,14,115,0],[32,4,115,0,"get"],[32,7,115,0],[32,18,115,0,"get"],[32,19,115,0],[33,6,115,0],[33,13,115,0,"getSubscriptionExpirationDate"],[33,42,115,0],[34,4,115,0],[35,2,115,0],[36,2,132,0,"Object"],[36,8,132,0],[36,9,132,0,"defineProperty"],[36,23,132,0],[36,24,132,0,"exports"],[36,31,132,0],[37,4,132,0,"enumerable"],[37,14,132,0],[38,4,132,0,"get"],[38,7,132,0],[38,18,132,0,"get"],[38,19,132,0],[39,6,132,0],[39,13,132,0,"checkProAccessFromInfo"],[39,35,132,0],[40,4,132,0],[41,2,132,0],[42,2,156,0,"Object"],[42,8,156,0],[42,9,156,0,"defineProperty"],[42,23,156,0],[42,24,156,0,"exports"],[42,31,156,0],[43,4,156,0,"enumerable"],[43,14,156,0],[44,4,156,0,"get"],[44,7,156,0],[44,18,156,0,"get"],[44,19,156,0],[45,6,156,0],[45,13,156,0,"hasProEntitlement"],[45,30,156,0],[46,4,156,0],[47,2,156,0],[48,2,164,0,"Object"],[48,8,164,0],[48,9,164,0,"defineProperty"],[48,23,164,0],[48,24,164,0,"exports"],[48,31,164,0],[49,4,164,0,"enumerable"],[49,14,164,0],[50,4,164,0,"get"],[50,7,164,0],[50,18,164,0,"get"],[50,19,164,0],[51,6,164,0],[51,13,164,0,"isInTrialPeriod"],[51,28,164,0],[52,4,164,0],[53,2,164,0],[54,2,174,0,"Object"],[54,8,174,0],[54,9,174,0,"defineProperty"],[54,23,174,0],[54,24,174,0,"exports"],[54,31,174,0],[55,4,174,0,"enumerable"],[55,14,174,0],[56,4,174,0,"get"],[56,7,174,0],[56,18,174,0,"get"],[56,19,174,0],[57,6,174,0],[57,13,174,0,"getManagementURL"],[57,29,174,0],[58,4,174,0],[59,2,174,0],[60,2,182,0,"Object"],[60,8,182,0],[60,9,182,0,"defineProperty"],[60,23,182,0],[60,24,182,0,"exports"],[60,31,182,0],[61,4,182,0,"enumerable"],[61,14,182,0],[62,4,182,0,"get"],[62,7,182,0],[62,18,182,0,"get"],[62,19,182,0],[63,6,182,0],[63,13,182,0,"getApiKey"],[63,22,182,0],[64,4,182,0],[65,2,182,0],[66,2,189,2],[66,6,189,2,"_reactNativeWebDistExportsPlatform"],[66,40,189,2],[66,43,189,2,"require"],[66,50,189,2],[66,51,189,2,"_dependencyMap"],[66,65,189,2],[67,2,189,2],[67,6,189,2,"Platform"],[67,14,189,2],[67,17,189,2,"_interopDefault"],[67,32,189,2],[67,33,189,2,"_reactNativeWebDistExportsPlatform"],[67,67,189,2],[68,2,3,0],[69,2,4,0],[70,2,5,7],[70,8,5,13,"REVENUECAT_CONFIG"],[70,25,5,30],[70,28,5,33],[71,4,6,2],[72,4,7,2,"APPLE_API_KEY"],[72,17,7,15],[72,19,7,17,"process"],[72,26,7,24],[72,27,7,25,"env"],[72,30,7,28],[72,31,7,29,"EXPO_PUBLIC_REVENUECAT_APPLE_KEY"],[72,63,7,61],[72,67,7,65],[72,69,7,67],[73,4,8,2,"GOOGLE_API_KEY"],[73,18,8,16],[73,20,8,18,"process"],[73,27,8,25],[73,28,8,26,"env"],[73,31,8,29],[73,32,8,30,"EXPO_PUBLIC_REVENUECAT_GOOGLE_KEY"],[73,65,8,63],[73,69,8,67],[73,71,8,69],[74,4,10,2],[75,4,11,2],[76,4,12,2,"PRO_ENTITLEMENT_ID"],[76,22,12,20],[76,24,12,22],[76,29,12,27],[77,4,14,2],[78,4,15,2],[79,4,16,2,"PRODUCT_IDS"],[79,15,16,13],[79,17,16,15],[80,6,17,4,"PRO_MONTHLY"],[80,17,17,15],[80,19,17,17],[81,4,18,2],[81,5,18,3],[82,4,20,2],[83,4,21,2,"DEFAULT_OFFERING"],[83,20,21,18],[83,22,21,20],[84,2,22,0],[84,3,22,1],[86,2,24,0],[88,2,80,0],[89,0,81,0],[90,0,82,0],[91,0,83,0],[92,0,84,0],[93,0,85,0],[94,0,86,0],[95,0,87,0],[96,0,88,0],[97,0,89,0],[98,0,90,0],[99,0,91,0],[100,0,92,0],[101,0,93,0],[102,0,94,0],[103,0,95,0],[105,2,97,0],[106,0,98,0],[107,0,99,0],[108,0,100,0],[109,2,101,7],[109,8,101,13,"getProEntitlement"],[109,25,101,30],[109,28,101,34,"customerInfo"],[109,40,101,77],[109,44,101,94],[110,4,102,2],[110,8,102,6],[110,9,102,7,"customerInfo"],[110,21,102,19],[110,23,102,21],[110,30,102,28],[110,34,102,32],[112,4,104,2],[113,4,105,2],[114,4,106,2],[114,10,106,8,"entitlement"],[114,21,106,19],[114,24,106,22,"customerInfo"],[114,36,106,34],[114,37,106,35,"entitlements"],[114,49,106,47],[114,50,106,48,"all"],[114,53,106,51],[114,54,106,52,"REVENUECAT_CONFIG"],[114,71,106,69],[114,72,106,70,"PRO_ENTITLEMENT_ID"],[114,90,106,88],[114,91,106,89],[115,4,108,2],[115,11,108,9,"entitlement"],[115,22,108,20],[115,26,108,24],[115,30,108,28],[116,2,109,0],[116,3,109,1],[118,2,111,0],[119,0,112,0],[120,0,113,0],[121,0,114,0],[122,2,115,7],[122,8,115,13,"getSubscriptionExpirationDate"],[122,37,115,42],[122,40,115,46,"customerInfo"],[122,52,115,89],[122,56,115,107],[123,4,116,2],[123,10,116,8,"entitlement"],[123,21,116,19],[123,24,116,22,"getProEntitlement"],[123,41,116,39],[123,42,116,40,"customerInfo"],[123,54,116,52],[123,55,116,53],[124,4,118,2],[124,8,118,6],[124,9,118,7,"entitlement"],[124,20,118,18],[124,24,118,22],[124,25,118,23,"entitlement"],[124,36,118,34],[124,37,118,35,"expirationDate"],[124,51,118,49],[124,53,118,51],[125,6,119,4],[125,13,119,11],[125,17,119,15],[126,4,120,2],[127,4,122,2],[127,11,122,9],[127,15,122,13,"Date"],[127,19,122,17],[127,20,122,18,"entitlement"],[127,31,122,29],[127,32,122,30,"expirationDate"],[127,46,122,44],[127,47,122,45],[128,2,123,0],[128,3,123,1],[130,2,125,0],[131,0,126,0],[132,0,127,0],[133,0,128,0],[134,0,129,0],[135,0,130,0],[136,0,131,0],[137,2,132,7],[137,8,132,13,"checkProAccessFromInfo"],[137,30,132,35],[137,33,132,39,"customerInfo"],[137,45,132,82],[137,49,132,96],[138,4,133,2],[138,10,133,8,"entitlement"],[138,21,133,19],[138,24,133,22,"getProEntitlement"],[138,41,133,39],[138,42,133,40,"customerInfo"],[138,54,133,52],[138,55,133,53],[139,4,135,2],[139,8,135,6],[139,9,135,7,"entitlement"],[139,20,135,18],[139,24,135,22],[139,25,135,23,"entitlement"],[139,36,135,34],[139,37,135,35,"expirationDate"],[139,51,135,49],[139,53,135,51],[140,6,136,4,"console"],[140,13,136,11],[140,14,136,12,"log"],[140,17,136,15],[140,18,136,16],[140,64,136,62],[140,65,136,63],[141,6,137,4],[141,13,137,11],[141,18,137,16],[142,4,138,2],[143,4,140,2],[143,10,140,8,"expirationDate"],[143,24,140,22],[143,27,140,25],[143,31,140,29,"Date"],[143,35,140,33],[143,36,140,34,"entitlement"],[143,47,140,45],[143,48,140,46,"expirationDate"],[143,62,140,60],[143,63,140,61],[144,4,141,2],[144,10,141,8,"now"],[144,13,141,11],[144,16,141,14],[144,20,141,18,"Date"],[144,24,141,22],[144,25,141,23],[144,26,141,24],[145,4,142,2],[145,10,142,8,"hasAccess"],[145,19,142,17],[145,22,142,20,"expirationDate"],[145,36,142,34],[145,39,142,37,"now"],[145,42,142,40],[146,4,144,2,"console"],[146,11,144,9],[146,12,144,10,"log"],[146,15,144,13],[146,16,144,14],[146,40,144,38],[146,42,144,40,"entitlement"],[146,53,144,51],[146,54,144,52],[147,4,145,2,"console"],[147,11,145,9],[147,12,145,10,"log"],[147,15,145,13],[147,16,145,14],[147,40,145,38],[147,42,145,40,"entitlement"],[147,53,145,51],[147,54,145,52,"expirationDate"],[147,68,145,66],[147,69,145,67],[148,4,146,2,"console"],[148,11,146,9],[148,12,146,10,"log"],[148,15,146,13],[148,16,146,14],[148,37,146,35],[148,39,146,37,"now"],[148,42,146,40],[148,43,146,41,"toISOString"],[148,54,146,52],[148,55,146,53],[148,56,146,54],[148,57,146,55],[149,4,147,2,"console"],[149,11,147,9],[149,12,147,10,"log"],[149,15,147,13],[149,16,147,14],[149,35,147,33],[149,37,147,35,"hasAccess"],[149,46,147,44],[149,47,147,45],[150,4,149,2],[150,11,149,9,"hasAccess"],[150,20,149,18],[151,2,150,0],[151,3,150,1],[153,2,152,0],[154,0,153,0],[155,0,154,0],[156,0,155,0],[157,2,156,7],[157,8,156,13,"hasProEntitlement"],[157,25,156,30],[157,28,156,34,"customerInfo"],[157,40,156,77],[157,44,156,91],[158,4,157,2],[158,11,157,9,"checkProAccessFromInfo"],[158,33,157,31],[158,34,157,32,"customerInfo"],[158,46,157,44],[158,47,157,45],[159,2,158,0],[159,3,158,1],[161,2,160,0],[162,0,161,0],[163,0,162,0],[164,0,163,0],[165,2,164,7],[165,8,164,13,"isInTrialPeriod"],[165,23,164,28],[165,26,164,32,"customerInfo"],[165,38,164,75],[165,42,164,89],[166,4,165,2],[166,10,165,8,"entitlement"],[166,21,165,19],[166,24,165,22,"getProEntitlement"],[166,41,165,39],[166,42,165,40,"customerInfo"],[166,54,165,52],[166,55,165,53],[167,4,166,2],[167,8,166,6],[167,9,166,7,"entitlement"],[167,20,166,18],[167,22,166,20],[167,29,166,27],[167,34,166,32],[168,4,168,2],[168,11,168,9,"entitlement"],[168,22,168,20],[168,23,168,21,"periodType"],[168,33,168,31],[168,38,168,36],[168,45,168,43],[169,2,169,0],[169,3,169,1],[171,2,171,0],[172,0,172,0],[173,0,173,0],[174,2,174,7],[174,8,174,13,"getManagementURL"],[174,24,174,29],[174,27,174,33,"customerInfo"],[174,39,174,76],[174,43,174,96],[175,4,175,2],[175,8,175,6],[175,9,175,7,"customerInfo"],[175,21,175,19],[175,23,175,21],[175,30,175,28],[175,34,175,32],[176,4,176,2],[176,11,176,9,"customerInfo"],[176,23,176,21],[176,24,176,22,"managementURL"],[176,37,176,35],[177,2,177,0],[177,3,177,1],[179,2,179,0],[180,0,180,0],[181,0,181,0],[182,2,182,7],[182,8,182,13,"getApiKey"],[182,17,182,22],[182,20,182,25,"getApiKey"],[182,21,182,25],[182,26,182,39],[183,4,183,2],[183,8,183,6,"Platform"],[183,16,183,14],[183,17,183,14,"default"],[183,24,183,14],[183,25,183,15,"OS"],[183,27,183,17],[183,32,183,22],[183,37,183,27],[183,39,183,29],[184,6,184,4],[184,13,184,11,"REVENUECAT_CONFIG"],[184,30,184,28],[184,31,184,29,"APPLE_API_KEY"],[184,44,184,42],[185,4,185,2],[185,5,185,3],[185,11,185,9],[185,15,185,13,"Platform"],[185,23,185,21],[185,24,185,21,"default"],[185,31,185,21],[185,32,185,22,"OS"],[185,34,185,24],[185,39,185,29],[185,48,185,38],[185,50,185,40],[186,6,186,4],[186,13,186,11,"REVENUECAT_CONFIG"],[186,30,186,28],[186,31,186,29,"GOOGLE_API_KEY"],[186,45,186,43],[187,4,187,2],[188,4,188,2],[188,11,188,9],[188,13,188,11],[189,2,189,0],[189,3,189,1],[190,2,191,0],[190,6,191,0,"_default"],[190,14,191,0],[190,17,191,15,"REVENUECAT_CONFIG"],[190,34,191,32],[191,0,191,33],[191,3]],"functionMap":{"names":["<global>","getProEntitlement","getSubscriptionExpirationDate","checkProAccessFromInfo","hasProEntitlement","isInTrialPeriod","getManagementURL","getApiKey"],"mappings":"AAA;iCCoG;CDQ;6CEM;CFQ;sCGS;CHkB;iCIM;CJE;+BKM;CLK;gCMK;CNG;yBOK;CPO"},"hasCjsExports":false},"type":"js/module"}]}