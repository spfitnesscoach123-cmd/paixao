{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":120},"end":{"line":3,"column":40,"index":160}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":161},"end":{"line":4,"column":69,"index":230}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":231},"end":{"line":5,"column":50,"index":281}}],"key":"oNCgyH4yx4pAIVZXLqqRGB2kuCY=","exportNames":["*"],"imports":1}},{"name":"../constants/theme","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":282},"end":{"line":6,"column":44,"index":326}}],"key":"wYsGrLzOZoewJzHaXfZf3q7qjsE=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[5], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _contextsAuthContext = require(_dependencyMap[6], \"../contexts/AuthContext\");\n  var _constantsTheme = require(_dependencyMap[7], \"../constants/theme\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  const ROLE_SELECTED_KEY = 'role_selected';\n  function Index() {\n    _s();\n    const {\n      isAuthenticated,\n      isLoading\n    } = (0, _contextsAuthContext.useAuth)();\n    const router = (0, _expoRouter.useRouter)();\n    const [checkingRole, setCheckingRole] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkRoleAndRedirect();\n    }, [isAuthenticated, isLoading]);\n    const checkRoleAndRedirect = async () => {\n      if (isLoading) return;\n      try {\n        // Check if user has already selected a role\n        const roleSelected = await AsyncStorage.default.getItem(ROLE_SELECTED_KEY);\n        if (!roleSelected) {\n          // First time opening the app - show role selection\n          router.replace('/role-select');\n          return;\n        }\n\n        // Role was selected before - check authentication\n        if (isAuthenticated) {\n          router.replace('/(tabs)/athletes');\n        } else {\n          // If role is 'coach', go to login; if 'athlete', go to token entry\n          if (roleSelected === 'coach') {\n            router.replace('/login');\n          } else {\n            router.replace('/athlete-token');\n          }\n        }\n      } catch (error) {\n        // On error, default to role selection\n        router.replace('/role-select');\n      } finally {\n        setCheckingRole(false);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: _constantsTheme.colors.accent.primary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this);\n  }\n  _s(Index, \"s2XQ9EXZaSgKFAXpqiLlpLIQjRw=\", false, function () {\n    return [_contextsAuthContext.useAuth, _expoRouter.useRouter];\n  });\n  _c = Index;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: _constantsTheme.colors.dark.primary\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":104,"map":[[14,2,10,15,"Object"],[14,8,10,15],[14,9,10,15,"defineProperty"],[14,23,10,15],[14,24,10,15,"exports"],[14,31,10,15],[15,4,10,15,"enumerable"],[15,14,10,15],[16,4,10,15,"get"],[16,7,10,15],[16,18,10,15,"get"],[16,19,10,15],[17,6,10,15],[17,13,10,15,"Index"],[17,18,10,15],[18,4,10,15],[19,2,10,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,51],[21,6,1,51,"_reactNativeWebDistExportsView"],[21,36,1,51],[21,39,1,51,"require"],[21,46,1,51],[21,47,1,51,"_dependencyMap"],[21,61,1,51],[22,2,1,51],[22,6,1,51,"View"],[22,10,1,51],[22,13,1,51,"_interopDefault"],[22,28,1,51],[22,29,1,51,"_reactNativeWebDistExportsView"],[22,59,1,51],[23,2,1,51],[23,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[23,49,1,51],[23,52,1,51,"require"],[23,59,1,51],[23,60,1,51,"_dependencyMap"],[23,74,1,51],[24,2,1,51],[24,6,1,51,"ActivityIndicator"],[24,23,1,51],[24,26,1,51,"_interopDefault"],[24,41,1,51],[24,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[24,85,1,51],[25,2,1,51],[25,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[25,42,1,51],[25,45,1,51,"require"],[25,52,1,51],[25,53,1,51,"_dependencyMap"],[25,67,1,51],[26,2,1,51],[26,6,1,51,"StyleSheet"],[26,16,1,51],[26,19,1,51,"_interopDefault"],[26,34,1,51],[26,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[26,71,1,51],[27,2,3,0],[27,6,3,0,"_expoRouter"],[27,17,3,0],[27,20,3,0,"require"],[27,27,3,0],[27,28,3,0,"_dependencyMap"],[27,42,3,0],[28,2,4,0],[28,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,4,0],[28,45,4,0,"require"],[28,52,4,0],[28,53,4,0,"_dependencyMap"],[28,67,4,0],[29,2,4,0],[29,6,4,0,"AsyncStorage"],[29,18,4,0],[29,21,4,0,"_interopDefault"],[29,36,4,0],[29,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,4,0],[30,2,5,0],[30,6,5,0,"_contextsAuthContext"],[30,26,5,0],[30,29,5,0,"require"],[30,36,5,0],[30,37,5,0,"_dependencyMap"],[30,51,5,0],[31,2,6,0],[31,6,6,0,"_constantsTheme"],[31,21,6,0],[31,24,6,0,"require"],[31,31,6,0],[31,32,6,0,"_dependencyMap"],[31,46,6,0],[32,2,6,44],[32,6,6,44,"_reactJsxDevRuntime"],[32,25,6,44],[32,28,6,44,"require"],[32,35,6,44],[32,36,6,44,"_dependencyMap"],[32,50,6,44],[33,2,8,0],[33,8,8,6,"ROLE_SELECTED_KEY"],[33,25,8,23],[33,28,8,26],[33,43,8,41],[34,2,10,15],[34,11,10,24,"Index"],[34,16,10,29,"Index"],[34,17,10,29],[34,19,10,32],[35,4,10,32,"_s"],[35,6,10,32],[36,4,11,2],[36,10,11,8],[37,6,11,10,"isAuthenticated"],[37,21,11,25],[38,6,11,27,"isLoading"],[39,4,11,37],[39,5,11,38],[39,8,11,41],[39,12,11,41,"useAuth"],[39,32,11,48],[39,33,11,48,"useAuth"],[39,40,11,48],[39,42,11,49],[39,43,11,50],[40,4,12,2],[40,10,12,8,"router"],[40,16,12,14],[40,19,12,17],[40,23,12,17,"useRouter"],[40,34,12,26],[40,35,12,26,"useRouter"],[40,44,12,26],[40,46,12,27],[40,47,12,28],[41,4,13,2],[41,10,13,8],[41,11,13,9,"checkingRole"],[41,23,13,21],[41,25,13,23,"setCheckingRole"],[41,40,13,38],[41,41,13,39],[41,44,13,42],[41,48,13,42,"useState"],[41,54,13,50],[41,55,13,50,"useState"],[41,63,13,50],[41,65,13,51],[41,69,13,55],[41,70,13,56],[42,4,15,2],[42,8,15,2,"useEffect"],[42,14,15,11],[42,15,15,11,"useEffect"],[42,24,15,11],[42,26,15,12],[42,32,15,18],[43,6,16,4,"checkRoleAndRedirect"],[43,26,16,24],[43,27,16,25],[43,28,16,26],[44,4,17,2],[44,5,17,3],[44,7,17,5],[44,8,17,6,"isAuthenticated"],[44,23,17,21],[44,25,17,23,"isLoading"],[44,34,17,32],[44,35,17,33],[44,36,17,34],[45,4,19,2],[45,10,19,8,"checkRoleAndRedirect"],[45,30,19,28],[45,33,19,31],[45,39,19,31,"checkRoleAndRedirect"],[45,40,19,31],[45,45,19,43],[46,6,20,4],[46,10,20,8,"isLoading"],[46,19,20,17],[46,21,20,19],[47,6,22,4],[47,10,22,8],[48,8,23,6],[49,8,24,6],[49,14,24,12,"roleSelected"],[49,26,24,24],[49,29,24,27],[49,35,24,33,"AsyncStorage"],[49,47,24,45],[49,48,24,45,"default"],[49,55,24,45],[49,56,24,46,"getItem"],[49,63,24,53],[49,64,24,54,"ROLE_SELECTED_KEY"],[49,81,24,71],[49,82,24,72],[50,8,26,6],[50,12,26,10],[50,13,26,11,"roleSelected"],[50,25,26,23],[50,27,26,25],[51,10,27,8],[52,10,28,8,"router"],[52,16,28,14],[52,17,28,15,"replace"],[52,24,28,22],[52,25,28,23],[52,39,28,37],[52,40,28,38],[53,10,29,8],[54,8,30,6],[56,8,32,6],[57,8,33,6],[57,12,33,10,"isAuthenticated"],[57,27,33,25],[57,29,33,27],[58,10,34,8,"router"],[58,16,34,14],[58,17,34,15,"replace"],[58,24,34,22],[58,25,34,23],[58,43,34,41],[58,44,34,42],[59,8,35,6],[59,9,35,7],[59,15,35,13],[60,10,36,8],[61,10,37,8],[61,14,37,12,"roleSelected"],[61,26,37,24],[61,31,37,29],[61,38,37,36],[61,40,37,38],[62,12,38,10,"router"],[62,18,38,16],[62,19,38,17,"replace"],[62,26,38,24],[62,27,38,25],[62,35,38,33],[62,36,38,34],[63,10,39,8],[63,11,39,9],[63,17,39,15],[64,12,40,10,"router"],[64,18,40,16],[64,19,40,17,"replace"],[64,26,40,24],[64,27,40,25],[64,43,40,41],[64,44,40,42],[65,10,41,8],[66,8,42,6],[67,6,43,4],[67,7,43,5],[67,8,43,6],[67,15,43,13,"error"],[67,20,43,18],[67,22,43,20],[68,8,44,6],[69,8,45,6,"router"],[69,14,45,12],[69,15,45,13,"replace"],[69,22,45,20],[69,23,45,21],[69,37,45,35],[69,38,45,36],[70,6,46,4],[70,7,46,5],[70,16,46,14],[71,8,47,6,"setCheckingRole"],[71,23,47,21],[71,24,47,22],[71,29,47,27],[71,30,47,28],[72,6,48,4],[73,4,49,2],[73,5,49,3],[74,4,51,2],[74,24,52,4],[74,28,52,4,"_reactJsxDevRuntime"],[74,47,52,4],[74,48,52,4,"jsxDEV"],[74,54,52,4],[74,56,52,5,"View"],[74,60,52,9],[74,61,52,9,"default"],[74,68,52,9],[75,6,52,10,"style"],[75,11,52,15],[75,13,52,17,"styles"],[75,19,52,23],[75,20,52,24,"container"],[75,29,52,34],[76,6,52,34,"children"],[76,14,52,34],[76,29,53,6],[76,33,53,6,"_reactJsxDevRuntime"],[76,52,53,6],[76,53,53,6,"jsxDEV"],[76,59,53,6],[76,61,53,7,"ActivityIndicator"],[76,78,53,24],[76,79,53,24,"default"],[76,86,53,24],[77,8,53,25,"size"],[77,12,53,29],[77,14,53,30],[77,21,53,37],[78,8,53,38,"color"],[78,13,53,43],[78,15,53,45,"colors"],[78,30,53,51],[78,31,53,51,"colors"],[78,37,53,51],[78,38,53,52,"accent"],[78,44,53,58],[78,45,53,59,"primary"],[79,6,53,67],[80,8,53,67,"fileName"],[80,16,53,67],[80,18,53,67,"_jsxFileName"],[80,30,53,67],[81,8,53,67,"lineNumber"],[81,18,53,67],[82,8,53,67,"columnNumber"],[82,20,53,67],[83,6,53,67],[83,13,53,69],[84,4,53,70],[85,6,53,70,"fileName"],[85,14,53,70],[85,16,53,70,"_jsxFileName"],[85,28,53,70],[86,6,53,70,"lineNumber"],[86,16,53,70],[87,6,53,70,"columnNumber"],[87,18,53,70],[88,4,53,70],[88,11,54,10],[88,12,54,11],[89,2,56,0],[90,2,56,1,"_s"],[90,4,56,1],[90,5,10,24,"Index"],[90,10,10,29],[91,4,10,29],[91,12,11,41,"useAuth"],[91,32,11,48],[91,33,11,48,"useAuth"],[91,40,11,48],[91,42,12,17,"useRouter"],[91,53,12,26],[91,54,12,26,"useRouter"],[91,63,12,26],[92,2,12,26],[93,2,12,26,"_c"],[93,4,12,26],[93,7,10,24,"Index"],[93,12,10,29],[94,2,58,0],[94,8,58,6,"styles"],[94,14,58,12],[94,17,58,15,"StyleSheet"],[94,27,58,25],[94,28,58,25,"default"],[94,35,58,25],[94,36,58,26,"create"],[94,42,58,32],[94,43,58,33],[95,4,59,2,"container"],[95,13,59,11],[95,15,59,13],[96,6,60,4,"flex"],[96,10,60,8],[96,12,60,10],[96,13,60,11],[97,6,61,4,"justifyContent"],[97,20,61,18],[97,22,61,20],[97,30,61,28],[98,6,62,4,"alignItems"],[98,16,62,14],[98,18,62,16],[98,26,62,24],[99,6,63,4,"backgroundColor"],[99,21,63,19],[99,23,63,21,"colors"],[99,38,63,27],[99,39,63,27,"colors"],[99,45,63,27],[99,46,63,28,"dark"],[99,50,63,32],[99,51,63,33,"primary"],[100,4,64,2],[101,2,65,0],[101,3,65,1],[101,4,65,2],[102,2,65,3],[102,6,65,3,"_c"],[102,8,65,3],[103,2,65,3,"$RefreshReg$"],[103,14,65,3],[103,15,65,3,"_c"],[103,17,65,3],[104,0,65,3],[104,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkRoleAndRedirect"],"mappings":"AAA;eCS;YCK;GDE;+BEE;GF8B;CDO"},"hasCjsExports":false},"type":"js/module"}]}