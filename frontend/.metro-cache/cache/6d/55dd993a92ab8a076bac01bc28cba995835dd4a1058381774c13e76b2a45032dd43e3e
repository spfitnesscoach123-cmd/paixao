{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"POSE_LANDMARK_NAMES\", {\n    enumerable: true,\n    get: function () {\n      return POSE_LANDMARK_NAMES;\n    }\n  });\n  Object.defineProperty(exports, \"VBT_KEYPOINT_NAMES\", {\n    enumerable: true,\n    get: function () {\n      return VBT_KEYPOINT_NAMES;\n    }\n  });\n  Object.defineProperty(exports, \"DEFAULT_POSE_CONFIG\", {\n    enumerable: true,\n    get: function () {\n      return DEFAULT_POSE_CONFIG;\n    }\n  });\n  Object.defineProperty(exports, \"LANDMARK_INDEX_TO_VBT_NAME\", {\n    enumerable: true,\n    get: function () {\n      return LANDMARK_INDEX_TO_VBT_NAME;\n    }\n  });\n  exports.convertLandmarksToKeypoints = convertLandmarksToKeypoints;\n  exports.hasRequiredKeypoints = hasRequiredKeypoints;\n  /**\n   * Pose Detection Types\n   * \n   * Defines the interface between pose detection and VBT pipeline.\n   * These types are compatible with MediaPipe Pose landmarks.\n   */\n\n  /**\n   * MediaPipe Pose Landmark names (33 landmarks)\n   * Compatible with BlazePose model\n   */\n  const POSE_LANDMARK_NAMES = ['nose', 'left_eye_inner', 'left_eye', 'left_eye_outer', 'right_eye_inner', 'right_eye', 'right_eye_outer', 'left_ear', 'right_ear', 'mouth_left', 'mouth_right', 'left_shoulder', 'right_shoulder', 'left_elbow', 'right_elbow', 'left_wrist', 'right_wrist', 'left_pinky', 'right_pinky', 'left_index', 'right_index', 'left_thumb', 'right_thumb', 'left_hip', 'right_hip', 'left_knee', 'right_knee', 'left_ankle', 'right_ankle', 'left_heel', 'right_heel', 'left_foot_index', 'right_foot_index'];\n  /**\n   * VBT-relevant keypoint names (simplified subset)\n   * These are the landmarks used by the VBT tracking system\n   */\n  const VBT_KEYPOINT_NAMES = ['nose', 'left_eye', 'right_eye', 'left_ear', 'right_ear', 'left_shoulder', 'right_shoulder', 'left_elbow', 'right_elbow', 'left_wrist', 'right_wrist', 'left_hip', 'right_hip', 'left_knee', 'right_knee', 'left_ankle', 'right_ankle'];\n\n  /**\n   * Raw landmark from MediaPipe\n   */\n\n  /**\n   * Processed keypoint for VBT system\n   * Compatible with existing PoseData interface\n   */\n\n  /**\n   * Pose detection result from MediaPipe\n   */\n\n  /**\n   * Processed pose data for VBT pipeline\n   * This is the interface expected by useProtectedBarTracking\n   */\n\n  /**\n   * Pose detector configuration\n   */\n\n  /**\n   * Default pose detector configuration optimized for VBT\n   */\n  const DEFAULT_POSE_CONFIG = {\n    modelComplexity: 1,\n    // Full model for accuracy\n    smoothLandmarks: true,\n    // Reduces jitter\n    enableSegmentation: false,\n    // Not needed for VBT\n    minDetectionConfidence: 0.6,\n    minTrackingConfidence: 0.6,\n    runningMode: 'VIDEO'\n  };\n\n  /**\n   * Mapping from MediaPipe landmark index to VBT keypoint name\n   */\n  const LANDMARK_INDEX_TO_VBT_NAME = {\n    0: 'nose',\n    2: 'left_eye',\n    5: 'right_eye',\n    7: 'left_ear',\n    8: 'right_ear',\n    11: 'left_shoulder',\n    12: 'right_shoulder',\n    13: 'left_elbow',\n    14: 'right_elbow',\n    15: 'left_wrist',\n    16: 'right_wrist',\n    23: 'left_hip',\n    24: 'right_hip',\n    25: 'left_knee',\n    26: 'right_knee',\n    27: 'left_ankle',\n    28: 'right_ankle'\n  };\n\n  /**\n   * Convert MediaPipe landmarks to VBT-compatible keypoints\n   */\n  function convertLandmarksToKeypoints(landmarks, timestamp) {\n    const keypoints = [];\n    for (const [indexStr, name] of Object.entries(LANDMARK_INDEX_TO_VBT_NAME)) {\n      const index = parseInt(indexStr, 10);\n      const landmark = landmarks[index];\n      if (landmark) {\n        keypoints.push({\n          name,\n          x: landmark.x,\n          y: landmark.y,\n          score: landmark.visibility ?? 0.5\n        });\n      }\n    }\n    return {\n      keypoints,\n      timestamp\n    };\n  }\n\n  /**\n   * Check if a pose has the required keypoints for a given exercise\n   */\n  function hasRequiredKeypoints(pose, requiredKeypoints, minConfidence = 0.6) {\n    for (const required of requiredKeypoints) {\n      const keypoint = pose.keypoints.find(kp => kp.name === required);\n      if (!keypoint || keypoint.score < minConfidence) {\n        return false;\n      }\n    }\n    return true;\n  }\n});","lineCount":146,"map":[[7,2,12,0,"Object"],[7,8,12,0],[7,9,12,0,"defineProperty"],[7,23,12,0],[7,24,12,0,"exports"],[7,31,12,0],[8,4,12,0,"enumerable"],[8,14,12,0],[9,4,12,0,"get"],[9,7,12,0],[9,18,12,0,"get"],[9,19,12,0],[10,6,12,0],[10,13,12,0,"POSE_LANDMARK_NAMES"],[10,32,12,0],[11,4,12,0],[12,2,12,0],[13,2,54,0,"Object"],[13,8,54,0],[13,9,54,0,"defineProperty"],[13,23,54,0],[13,24,54,0,"exports"],[13,31,54,0],[14,4,54,0,"enumerable"],[14,14,54,0],[15,4,54,0,"get"],[15,7,54,0],[15,18,54,0,"get"],[15,19,54,0],[16,6,54,0],[16,13,54,0,"VBT_KEYPOINT_NAMES"],[16,31,54,0],[17,4,54,0],[18,2,54,0],[19,2,131,0,"Object"],[19,8,131,0],[19,9,131,0,"defineProperty"],[19,23,131,0],[19,24,131,0,"exports"],[19,31,131,0],[20,4,131,0,"enumerable"],[20,14,131,0],[21,4,131,0,"get"],[21,7,131,0],[21,18,131,0,"get"],[21,19,131,0],[22,6,131,0],[22,13,131,0,"DEFAULT_POSE_CONFIG"],[22,32,131,0],[23,4,131,0],[24,2,131,0],[25,2,143,0,"Object"],[25,8,143,0],[25,9,143,0,"defineProperty"],[25,23,143,0],[25,24,143,0,"exports"],[25,31,143,0],[26,4,143,0,"enumerable"],[26,14,143,0],[27,4,143,0,"get"],[27,7,143,0],[27,18,143,0,"get"],[27,19,143,0],[28,6,143,0],[28,13,143,0,"LANDMARK_INDEX_TO_VBT_NAME"],[28,39,143,0],[29,4,143,0],[30,2,143,0],[31,2,166,0,"exports"],[31,9,166,0],[31,10,166,0,"convertLandmarksToKeypoints"],[31,37,166,0],[31,40,166,0,"convertLandmarksToKeypoints"],[31,67,166,0],[32,2,195,0,"exports"],[32,9,195,0],[32,10,195,0,"hasRequiredKeypoints"],[32,30,195,0],[32,33,195,0,"hasRequiredKeypoints"],[32,53,195,0],[33,2,1,0],[34,0,2,0],[35,0,3,0],[36,0,4,0],[37,0,5,0],[38,0,6,0],[40,2,8,0],[41,0,9,0],[42,0,10,0],[43,0,11,0],[44,2,12,7],[44,8,12,13,"POSE_LANDMARK_NAMES"],[44,27,12,32],[44,30,12,35],[44,31,13,2],[44,37,13,8],[44,39,14,2],[44,55,14,18],[44,57,15,2],[44,67,15,12],[44,69,16,2],[44,85,16,18],[44,87,17,2],[44,104,17,19],[44,106,18,2],[44,117,18,13],[44,119,19,2],[44,136,19,19],[44,138,20,2],[44,148,20,12],[44,150,21,2],[44,161,21,13],[44,163,22,2],[44,175,22,14],[44,177,23,2],[44,190,23,15],[44,192,24,2],[44,207,24,17],[44,209,25,2],[44,225,25,18],[44,227,26,2],[44,239,26,14],[44,241,27,2],[44,254,27,15],[44,256,28,2],[44,268,28,14],[44,270,29,2],[44,283,29,15],[44,285,30,2],[44,297,30,14],[44,299,31,2],[44,312,31,15],[44,314,32,2],[44,326,32,14],[44,328,33,2],[44,341,33,15],[44,343,34,2],[44,355,34,14],[44,357,35,2],[44,370,35,15],[44,372,36,2],[44,382,36,12],[44,384,37,2],[44,395,37,13],[44,397,38,2],[44,408,38,13],[44,410,39,2],[44,422,39,14],[44,424,40,2],[44,436,40,14],[44,438,41,2],[44,451,41,15],[44,453,42,2],[44,464,42,13],[44,466,43,2],[44,478,43,14],[44,480,44,2],[44,497,44,19],[44,499,45,2],[44,517,45,20],[44,518,46,10],[45,2,50,0],[46,0,51,0],[47,0,52,0],[48,0,53,0],[49,2,54,7],[49,8,54,13,"VBT_KEYPOINT_NAMES"],[49,26,54,31],[49,29,54,34],[49,30,55,2],[49,36,55,8],[49,38,56,2],[49,48,56,12],[49,50,57,2],[49,61,57,13],[49,63,58,2],[49,73,58,12],[49,75,59,2],[49,86,59,13],[49,88,60,2],[49,103,60,17],[49,105,61,2],[49,121,61,18],[49,123,62,2],[49,135,62,14],[49,137,63,2],[49,150,63,15],[49,152,64,2],[49,164,64,14],[49,166,65,2],[49,179,65,15],[49,181,66,2],[49,191,66,12],[49,193,67,2],[49,204,67,13],[49,206,68,2],[49,217,68,13],[49,219,69,2],[49,231,69,14],[49,233,70,2],[49,245,70,14],[49,247,71,2],[49,260,71,15],[49,261,72,10],[51,2,76,0],[52,0,77,0],[53,0,78,0],[55,2,86,0],[56,0,87,0],[57,0,88,0],[58,0,89,0],[60,2,97,0],[61,0,98,0],[62,0,99,0],[64,2,107,0],[65,0,108,0],[66,0,109,0],[67,0,110,0],[69,2,116,0],[70,0,117,0],[71,0,118,0],[73,2,128,0],[74,0,129,0],[75,0,130,0],[76,2,131,7],[76,8,131,13,"DEFAULT_POSE_CONFIG"],[76,27,131,52],[76,30,131,55],[77,4,132,2,"modelComplexity"],[77,19,132,17],[77,21,132,19],[77,22,132,20],[78,4,132,30],[79,4,133,2,"smoothLandmarks"],[79,19,133,17],[79,21,133,19],[79,25,133,23],[80,4,133,30],[81,4,134,2,"enableSegmentation"],[81,22,134,20],[81,24,134,22],[81,29,134,27],[82,4,134,30],[83,4,135,2,"minDetectionConfidence"],[83,26,135,24],[83,28,135,26],[83,31,135,29],[84,4,136,2,"minTrackingConfidence"],[84,25,136,23],[84,27,136,25],[84,30,136,28],[85,4,137,2,"runningMode"],[85,15,137,13],[85,17,137,15],[86,2,138,0],[86,3,138,1],[88,2,140,0],[89,0,141,0],[90,0,142,0],[91,2,143,7],[91,8,143,13,"LANDMARK_INDEX_TO_VBT_NAME"],[91,34,143,72],[91,37,143,75],[92,4,144,2],[92,5,144,3],[92,7,144,5],[92,13,144,11],[93,4,145,2],[93,5,145,3],[93,7,145,5],[93,17,145,15],[94,4,146,2],[94,5,146,3],[94,7,146,5],[94,18,146,16],[95,4,147,2],[95,5,147,3],[95,7,147,5],[95,17,147,15],[96,4,148,2],[96,5,148,3],[96,7,148,5],[96,18,148,16],[97,4,149,2],[97,6,149,4],[97,8,149,6],[97,23,149,21],[98,4,150,2],[98,6,150,4],[98,8,150,6],[98,24,150,22],[99,4,151,2],[99,6,151,4],[99,8,151,6],[99,20,151,18],[100,4,152,2],[100,6,152,4],[100,8,152,6],[100,21,152,19],[101,4,153,2],[101,6,153,4],[101,8,153,6],[101,20,153,18],[102,4,154,2],[102,6,154,4],[102,8,154,6],[102,21,154,19],[103,4,155,2],[103,6,155,4],[103,8,155,6],[103,18,155,16],[104,4,156,2],[104,6,156,4],[104,8,156,6],[104,19,156,17],[105,4,157,2],[105,6,157,4],[105,8,157,6],[105,19,157,17],[106,4,158,2],[106,6,158,4],[106,8,158,6],[106,20,158,18],[107,4,159,2],[107,6,159,4],[107,8,159,6],[107,20,159,18],[108,4,160,2],[108,6,160,4],[108,8,160,6],[109,2,161,0],[109,3,161,1],[111,2,163,0],[112,0,164,0],[113,0,165,0],[114,2,166,7],[114,11,166,16,"convertLandmarksToKeypoints"],[114,38,166,43,"convertLandmarksToKeypoints"],[114,39,167,2,"landmarks"],[114,48,167,26],[114,50,168,2,"timestamp"],[114,59,168,19],[114,61,169,15],[115,4,170,2],[115,10,170,8,"keypoints"],[115,19,170,38],[115,22,170,41],[115,24,170,43],[116,4,172,2],[116,9,172,7],[116,15,172,13],[116,16,172,14,"indexStr"],[116,24,172,22],[116,26,172,24,"name"],[116,30,172,28],[116,31,172,29],[116,35,172,33,"Object"],[116,41,172,39],[116,42,172,40,"entries"],[116,49,172,47],[116,50,172,48,"LANDMARK_INDEX_TO_VBT_NAME"],[116,76,172,74],[116,77,172,75],[116,79,172,77],[117,6,173,4],[117,12,173,10,"index"],[117,17,173,15],[117,20,173,18,"parseInt"],[117,28,173,26],[117,29,173,27,"indexStr"],[117,37,173,35],[117,39,173,37],[117,41,173,39],[117,42,173,40],[118,6,174,4],[118,12,174,10,"landmark"],[118,20,174,18],[118,23,174,21,"landmarks"],[118,32,174,30],[118,33,174,31,"index"],[118,38,174,36],[118,39,174,37],[119,6,176,4],[119,10,176,8,"landmark"],[119,18,176,16],[119,20,176,18],[120,8,177,6,"keypoints"],[120,17,177,15],[120,18,177,16,"push"],[120,22,177,20],[120,23,177,21],[121,10,178,8,"name"],[121,14,178,12],[122,10,179,8,"x"],[122,11,179,9],[122,13,179,11,"landmark"],[122,21,179,19],[122,22,179,20,"x"],[122,23,179,21],[123,10,180,8,"y"],[123,11,180,9],[123,13,180,11,"landmark"],[123,21,180,19],[123,22,180,20,"y"],[123,23,180,21],[124,10,181,8,"score"],[124,15,181,13],[124,17,181,15,"landmark"],[124,25,181,23],[124,26,181,24,"visibility"],[124,36,181,34],[124,40,181,38],[125,8,182,6],[125,9,182,7],[125,10,182,8],[126,6,183,4],[127,4,184,2],[128,4,186,2],[128,11,186,9],[129,6,187,4,"keypoints"],[129,15,187,13],[130,6,188,4,"timestamp"],[131,4,189,2],[131,5,189,3],[132,2,190,0],[134,2,192,0],[135,0,193,0],[136,0,194,0],[137,2,195,7],[137,11,195,16,"hasRequiredKeypoints"],[137,31,195,36,"hasRequiredKeypoints"],[137,32,196,2,"pose"],[137,36,196,19],[137,38,197,2,"requiredKeypoints"],[137,55,197,29],[137,57,198,2,"minConfidence"],[137,70,198,23],[137,73,198,26],[137,76,198,29],[137,78,199,11],[138,4,200,2],[138,9,200,7],[138,15,200,13,"required"],[138,23,200,21],[138,27,200,25,"requiredKeypoints"],[138,44,200,42],[138,46,200,44],[139,6,201,4],[139,12,201,10,"keypoint"],[139,20,201,18],[139,23,201,21,"pose"],[139,27,201,25],[139,28,201,26,"keypoints"],[139,37,201,35],[139,38,201,36,"find"],[139,42,201,40],[139,43,201,41,"kp"],[139,45,201,43],[139,49,201,47,"kp"],[139,51,201,49],[139,52,201,50,"name"],[139,56,201,54],[139,61,201,59,"required"],[139,69,201,67],[139,70,201,68],[140,6,202,4],[140,10,202,8],[140,11,202,9,"keypoint"],[140,19,202,17],[140,23,202,21,"keypoint"],[140,31,202,29],[140,32,202,30,"score"],[140,37,202,35],[140,40,202,38,"minConfidence"],[140,53,202,51],[140,55,202,53],[141,8,203,6],[141,15,203,13],[141,20,203,18],[142,6,204,4],[143,4,205,2],[144,4,206,2],[144,11,206,9],[144,15,206,13],[145,2,207,0],[146,0,207,1],[146,3]],"functionMap":{"names":["<global>","convertLandmarksToKeypoints","hasRequiredKeypoints","pose.keypoints.find$argument_0"],"mappings":"AAA;OCqK;CDwB;OEK;yCCM,0BD;CFM"},"hasCjsExports":false},"type":"js/module"}]}