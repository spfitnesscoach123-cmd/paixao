{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"parseCatapultCSV\", {\n    enumerable: true,\n    get: function () {\n      return parseCatapultCSV;\n    }\n  });\n  Object.defineProperty(exports, \"validateCatapultCSV\", {\n    enumerable: true,\n    get: function () {\n      return validateCatapultCSV;\n    }\n  });\n  // Parser for Catapult CSV format\n\n  const parseCatapultCSV = csvContent => {\n    const lines = csvContent.trim().split('\\n');\n    if (lines.length < 2) {\n      throw new Error('CSV file is empty or invalid');\n    }\n    const headers = lines[0].split(',').map(h => h.trim().toLowerCase());\n    const data = [];\n\n    // Find column indices (flexible to handle different CSV formats)\n    const findColumnIndex = possibleNames => {\n      for (const name of possibleNames) {\n        const index = headers.findIndex(h => h.includes(name));\n        if (index !== -1) return index;\n      }\n      return -1;\n    };\n    const dateIdx = findColumnIndex(['date', 'data', 'day']);\n    const totalDistIdx = findColumnIndex(['total distance', 'total_distance', 'distance']);\n    const hiDistIdx = findColumnIndex(['high intensity', 'hi distance', 'high_speed']);\n    const sprintDistIdx = findColumnIndex(['sprint distance', 'sprint_distance', 'sprinting']);\n    const sprintsIdx = findColumnIndex(['number of sprints', 'sprint count', 'sprints', 'n sprints']);\n    const accelIdx = findColumnIndex(['acceleration', 'accel', 'accelerations']);\n    const decelIdx = findColumnIndex(['deceleration', 'decel', 'decelerations']);\n    const maxSpeedIdx = findColumnIndex(['max speed', 'maximum speed', 'top speed', 'vmax']);\n    for (let i = 1; i < lines.length; i++) {\n      const values = lines[i].split(',').map(v => v.trim());\n      if (values.length < 2) continue; // Skip empty lines\n\n      try {\n        const record = {\n          date: dateIdx !== -1 ? formatDate(values[dateIdx]) : new Date().toISOString().split('T')[0],\n          total_distance: totalDistIdx !== -1 ? parseFloat(values[totalDistIdx]) || 0 : 0,\n          high_intensity_distance: hiDistIdx !== -1 ? parseFloat(values[hiDistIdx]) || 0 : 0,\n          sprint_distance: sprintDistIdx !== -1 ? parseFloat(values[sprintDistIdx]) || 0 : 0,\n          number_of_sprints: sprintsIdx !== -1 ? parseInt(values[sprintsIdx]) || 0 : 0,\n          number_of_accelerations: accelIdx !== -1 ? parseInt(values[accelIdx]) || 0 : 0,\n          number_of_decelerations: decelIdx !== -1 ? parseInt(values[decelIdx]) || 0 : 0,\n          max_speed: maxSpeedIdx !== -1 ? parseFloat(values[maxSpeedIdx]) : undefined\n        };\n        data.push(record);\n      } catch (error) {\n        console.warn(`Error parsing line ${i + 1}:`, error);\n      }\n    }\n    return data;\n  };\n  const formatDate = dateStr => {\n    // Try to parse different date formats and convert to YYYY-MM-DD\n    try {\n      const date = new Date(dateStr);\n      if (isNaN(date.getTime())) {\n        return new Date().toISOString().split('T')[0];\n      }\n      return date.toISOString().split('T')[0];\n    } catch {\n      return new Date().toISOString().split('T')[0];\n    }\n  };\n  const validateCatapultCSV = csvContent => {\n    try {\n      const lines = csvContent.trim().split('\\n');\n      if (lines.length < 2) {\n        return {\n          valid: false,\n          error: 'Arquivo CSV vazio ou inválido'\n        };\n      }\n      const headers = lines[0].toLowerCase();\n      const requiredFields = ['distance', 'sprint'];\n      const hasRequiredFields = requiredFields.some(field => headers.includes(field));\n      if (!hasRequiredFields) {\n        return {\n          valid: false,\n          error: 'CSV não parece ser do formato Catapult. Certifique-se de que contém colunas de distância e sprints.'\n        };\n      }\n      return {\n        valid: true\n      };\n    } catch (error) {\n      return {\n        valid: false,\n        error: 'Erro ao processar arquivo CSV'\n      };\n    }\n  };\n});","lineCount":107,"map":[[7,2,13,0,"Object"],[7,8,13,0],[7,9,13,0,"defineProperty"],[7,23,13,0],[7,24,13,0,"exports"],[7,31,13,0],[8,4,13,0,"enumerable"],[8,14,13,0],[9,4,13,0,"get"],[9,7,13,0],[9,18,13,0,"get"],[9,19,13,0],[10,6,13,0],[10,13,13,0,"parseCatapultCSV"],[10,29,13,0],[11,4,13,0],[12,2,13,0],[13,2,78,0,"Object"],[13,8,78,0],[13,9,78,0,"defineProperty"],[13,23,78,0],[13,24,78,0,"exports"],[13,31,78,0],[14,4,78,0,"enumerable"],[14,14,78,0],[15,4,78,0,"get"],[15,7,78,0],[15,18,78,0,"get"],[15,19,78,0],[16,6,78,0],[16,13,78,0,"validateCatapultCSV"],[16,32,78,0],[17,4,78,0],[18,2,78,0],[19,2,1,0],[21,2,13,7],[21,8,13,13,"parseCatapultCSV"],[21,24,13,29],[21,27,13,33,"csvContent"],[21,37,13,51],[21,41,13,75],[22,4,14,2],[22,10,14,8,"lines"],[22,15,14,13],[22,18,14,16,"csvContent"],[22,28,14,26],[22,29,14,27,"trim"],[22,33,14,31],[22,34,14,32],[22,35,14,33],[22,36,14,34,"split"],[22,41,14,39],[22,42,14,40],[22,46,14,44],[22,47,14,45],[23,4,15,2],[23,8,15,6,"lines"],[23,13,15,11],[23,14,15,12,"length"],[23,20,15,18],[23,23,15,21],[23,24,15,22],[23,26,15,24],[24,6,16,4],[24,12,16,10],[24,16,16,14,"Error"],[24,21,16,19],[24,22,16,20],[24,52,16,50],[24,53,16,51],[25,4,17,2],[26,4,19,2],[26,10,19,8,"headers"],[26,17,19,15],[26,20,19,18,"lines"],[26,25,19,23],[26,26,19,24],[26,27,19,25],[26,28,19,26],[26,29,19,27,"split"],[26,34,19,32],[26,35,19,33],[26,38,19,36],[26,39,19,37],[26,40,19,38,"map"],[26,43,19,41],[26,44,19,42,"h"],[26,45,19,43],[26,49,19,47,"h"],[26,50,19,48],[26,51,19,49,"trim"],[26,55,19,53],[26,56,19,54],[26,57,19,55],[26,58,19,56,"toLowerCase"],[26,69,19,67],[26,70,19,68],[26,71,19,69],[26,72,19,70],[27,4,20,2],[27,10,20,8,"data"],[27,14,20,31],[27,17,20,34],[27,19,20,36],[29,4,22,2],[30,4,23,2],[30,10,23,8,"findColumnIndex"],[30,25,23,23],[30,28,23,27,"possibleNames"],[30,41,23,50],[30,45,23,55],[31,6,24,4],[31,11,24,9],[31,17,24,15,"name"],[31,21,24,19],[31,25,24,23,"possibleNames"],[31,38,24,36],[31,40,24,38],[32,8,25,6],[32,14,25,12,"index"],[32,19,25,17],[32,22,25,20,"headers"],[32,29,25,27],[32,30,25,28,"findIndex"],[32,39,25,37],[32,40,25,38,"h"],[32,41,25,39],[32,45,25,43,"h"],[32,46,25,44],[32,47,25,45,"includes"],[32,55,25,53],[32,56,25,54,"name"],[32,60,25,58],[32,61,25,59],[32,62,25,60],[33,8,26,6],[33,12,26,10,"index"],[33,17,26,15],[33,22,26,20],[33,23,26,21],[33,24,26,22],[33,26,26,24],[33,33,26,31,"index"],[33,38,26,36],[34,6,27,4],[35,6,28,4],[35,13,28,11],[35,14,28,12],[35,15,28,13],[36,4,29,2],[36,5,29,3],[37,4,31,2],[37,10,31,8,"dateIdx"],[37,17,31,15],[37,20,31,18,"findColumnIndex"],[37,35,31,33],[37,36,31,34],[37,37,31,35],[37,43,31,41],[37,45,31,43],[37,51,31,49],[37,53,31,51],[37,58,31,56],[37,59,31,57],[37,60,31,58],[38,4,32,2],[38,10,32,8,"totalDistIdx"],[38,22,32,20],[38,25,32,23,"findColumnIndex"],[38,40,32,38],[38,41,32,39],[38,42,32,40],[38,58,32,56],[38,60,32,58],[38,76,32,74],[38,78,32,76],[38,88,32,86],[38,89,32,87],[38,90,32,88],[39,4,33,2],[39,10,33,8,"hiDistIdx"],[39,19,33,17],[39,22,33,20,"findColumnIndex"],[39,37,33,35],[39,38,33,36],[39,39,33,37],[39,55,33,53],[39,57,33,55],[39,70,33,68],[39,72,33,70],[39,84,33,82],[39,85,33,83],[39,86,33,84],[40,4,34,2],[40,10,34,8,"sprintDistIdx"],[40,23,34,21],[40,26,34,24,"findColumnIndex"],[40,41,34,39],[40,42,34,40],[40,43,34,41],[40,60,34,58],[40,62,34,60],[40,79,34,77],[40,81,34,79],[40,92,34,90],[40,93,34,91],[40,94,34,92],[41,4,35,2],[41,10,35,8,"sprintsIdx"],[41,20,35,18],[41,23,35,21,"findColumnIndex"],[41,38,35,36],[41,39,35,37],[41,40,35,38],[41,59,35,57],[41,61,35,59],[41,75,35,73],[41,77,35,75],[41,86,35,84],[41,88,35,86],[41,99,35,97],[41,100,35,98],[41,101,35,99],[42,4,36,2],[42,10,36,8,"accelIdx"],[42,18,36,16],[42,21,36,19,"findColumnIndex"],[42,36,36,34],[42,37,36,35],[42,38,36,36],[42,52,36,50],[42,54,36,52],[42,61,36,59],[42,63,36,61],[42,78,36,76],[42,79,36,77],[42,80,36,78],[43,4,37,2],[43,10,37,8,"decelIdx"],[43,18,37,16],[43,21,37,19,"findColumnIndex"],[43,36,37,34],[43,37,37,35],[43,38,37,36],[43,52,37,50],[43,54,37,52],[43,61,37,59],[43,63,37,61],[43,78,37,76],[43,79,37,77],[43,80,37,78],[44,4,38,2],[44,10,38,8,"maxSpeedIdx"],[44,21,38,19],[44,24,38,22,"findColumnIndex"],[44,39,38,37],[44,40,38,38],[44,41,38,39],[44,52,38,50],[44,54,38,52],[44,69,38,67],[44,71,38,69],[44,82,38,80],[44,84,38,82],[44,90,38,88],[44,91,38,89],[44,92,38,90],[45,4,40,2],[45,9,40,7],[45,13,40,11,"i"],[45,14,40,12],[45,17,40,15],[45,18,40,16],[45,20,40,18,"i"],[45,21,40,19],[45,24,40,22,"lines"],[45,29,40,27],[45,30,40,28,"length"],[45,36,40,34],[45,38,40,36,"i"],[45,39,40,37],[45,41,40,39],[45,43,40,41],[46,6,41,4],[46,12,41,10,"values"],[46,18,41,16],[46,21,41,19,"lines"],[46,26,41,24],[46,27,41,25,"i"],[46,28,41,26],[46,29,41,27],[46,30,41,28,"split"],[46,35,41,33],[46,36,41,34],[46,39,41,37],[46,40,41,38],[46,41,41,39,"map"],[46,44,41,42],[46,45,41,43,"v"],[46,46,41,44],[46,50,41,48,"v"],[46,51,41,49],[46,52,41,50,"trim"],[46,56,41,54],[46,57,41,55],[46,58,41,56],[46,59,41,57],[47,6,42,4],[47,10,42,8,"values"],[47,16,42,14],[47,17,42,15,"length"],[47,23,42,21],[47,26,42,24],[47,27,42,25],[47,29,42,27],[47,38,42,36],[47,39,42,37],[49,6,44,4],[49,10,44,8],[50,8,45,6],[50,14,45,12,"record"],[50,20,45,35],[50,23,45,38],[51,10,46,8,"date"],[51,14,46,12],[51,16,46,14,"dateIdx"],[51,23,46,21],[51,28,46,26],[51,29,46,27],[51,30,46,28],[51,33,46,31,"formatDate"],[51,43,46,41],[51,44,46,42,"values"],[51,50,46,48],[51,51,46,49,"dateIdx"],[51,58,46,56],[51,59,46,57],[51,60,46,58],[51,63,46,61],[51,67,46,65,"Date"],[51,71,46,69],[51,72,46,70],[51,73,46,71],[51,74,46,72,"toISOString"],[51,85,46,83],[51,86,46,84],[51,87,46,85],[51,88,46,86,"split"],[51,93,46,91],[51,94,46,92],[51,97,46,95],[51,98,46,96],[51,99,46,97],[51,100,46,98],[51,101,46,99],[52,10,47,8,"total_distance"],[52,24,47,22],[52,26,47,24,"totalDistIdx"],[52,38,47,36],[52,43,47,41],[52,44,47,42],[52,45,47,43],[52,48,47,46,"parseFloat"],[52,58,47,56],[52,59,47,57,"values"],[52,65,47,63],[52,66,47,64,"totalDistIdx"],[52,78,47,76],[52,79,47,77],[52,80,47,78],[52,84,47,82],[52,85,47,83],[52,88,47,86],[52,89,47,87],[53,10,48,8,"high_intensity_distance"],[53,33,48,31],[53,35,48,33,"hiDistIdx"],[53,44,48,42],[53,49,48,47],[53,50,48,48],[53,51,48,49],[53,54,48,52,"parseFloat"],[53,64,48,62],[53,65,48,63,"values"],[53,71,48,69],[53,72,48,70,"hiDistIdx"],[53,81,48,79],[53,82,48,80],[53,83,48,81],[53,87,48,85],[53,88,48,86],[53,91,48,89],[53,92,48,90],[54,10,49,8,"sprint_distance"],[54,25,49,23],[54,27,49,25,"sprintDistIdx"],[54,40,49,38],[54,45,49,43],[54,46,49,44],[54,47,49,45],[54,50,49,48,"parseFloat"],[54,60,49,58],[54,61,49,59,"values"],[54,67,49,65],[54,68,49,66,"sprintDistIdx"],[54,81,49,79],[54,82,49,80],[54,83,49,81],[54,87,49,85],[54,88,49,86],[54,91,49,89],[54,92,49,90],[55,10,50,8,"number_of_sprints"],[55,27,50,25],[55,29,50,27,"sprintsIdx"],[55,39,50,37],[55,44,50,42],[55,45,50,43],[55,46,50,44],[55,49,50,47,"parseInt"],[55,57,50,55],[55,58,50,56,"values"],[55,64,50,62],[55,65,50,63,"sprintsIdx"],[55,75,50,73],[55,76,50,74],[55,77,50,75],[55,81,50,79],[55,82,50,80],[55,85,50,83],[55,86,50,84],[56,10,51,8,"number_of_accelerations"],[56,33,51,31],[56,35,51,33,"accelIdx"],[56,43,51,41],[56,48,51,46],[56,49,51,47],[56,50,51,48],[56,53,51,51,"parseInt"],[56,61,51,59],[56,62,51,60,"values"],[56,68,51,66],[56,69,51,67,"accelIdx"],[56,77,51,75],[56,78,51,76],[56,79,51,77],[56,83,51,81],[56,84,51,82],[56,87,51,85],[56,88,51,86],[57,10,52,8,"number_of_decelerations"],[57,33,52,31],[57,35,52,33,"decelIdx"],[57,43,52,41],[57,48,52,46],[57,49,52,47],[57,50,52,48],[57,53,52,51,"parseInt"],[57,61,52,59],[57,62,52,60,"values"],[57,68,52,66],[57,69,52,67,"decelIdx"],[57,77,52,75],[57,78,52,76],[57,79,52,77],[57,83,52,81],[57,84,52,82],[57,87,52,85],[57,88,52,86],[58,10,53,8,"max_speed"],[58,19,53,17],[58,21,53,19,"maxSpeedIdx"],[58,32,53,30],[58,37,53,35],[58,38,53,36],[58,39,53,37],[58,42,53,40,"parseFloat"],[58,52,53,50],[58,53,53,51,"values"],[58,59,53,57],[58,60,53,58,"maxSpeedIdx"],[58,71,53,69],[58,72,53,70],[58,73,53,71],[58,76,53,74,"undefined"],[59,8,54,6],[59,9,54,7],[60,8,56,6,"data"],[60,12,56,10],[60,13,56,11,"push"],[60,17,56,15],[60,18,56,16,"record"],[60,24,56,22],[60,25,56,23],[61,6,57,4],[61,7,57,5],[61,8,57,6],[61,15,57,13,"error"],[61,20,57,18],[61,22,57,20],[62,8,58,6,"console"],[62,15,58,13],[62,16,58,14,"warn"],[62,20,58,18],[62,21,58,19],[62,43,58,41,"i"],[62,44,58,42],[62,47,58,45],[62,48,58,46],[62,51,58,49],[62,53,58,51,"error"],[62,58,58,56],[62,59,58,57],[63,6,59,4],[64,4,60,2],[65,4,62,2],[65,11,62,9,"data"],[65,15,62,13],[66,2,63,0],[66,3,63,1],[67,2,65,0],[67,8,65,6,"formatDate"],[67,18,65,16],[67,21,65,20,"dateStr"],[67,28,65,35],[67,32,65,48],[68,4,66,2],[69,4,67,2],[69,8,67,6],[70,6,68,4],[70,12,68,10,"date"],[70,16,68,14],[70,19,68,17],[70,23,68,21,"Date"],[70,27,68,25],[70,28,68,26,"dateStr"],[70,35,68,33],[70,36,68,34],[71,6,69,4],[71,10,69,8,"isNaN"],[71,15,69,13],[71,16,69,14,"date"],[71,20,69,18],[71,21,69,19,"getTime"],[71,28,69,26],[71,29,69,27],[71,30,69,28],[71,31,69,29],[71,33,69,31],[72,8,70,6],[72,15,70,13],[72,19,70,17,"Date"],[72,23,70,21],[72,24,70,22],[72,25,70,23],[72,26,70,24,"toISOString"],[72,37,70,35],[72,38,70,36],[72,39,70,37],[72,40,70,38,"split"],[72,45,70,43],[72,46,70,44],[72,49,70,47],[72,50,70,48],[72,51,70,49],[72,52,70,50],[72,53,70,51],[73,6,71,4],[74,6,72,4],[74,13,72,11,"date"],[74,17,72,15],[74,18,72,16,"toISOString"],[74,29,72,27],[74,30,72,28],[74,31,72,29],[74,32,72,30,"split"],[74,37,72,35],[74,38,72,36],[74,41,72,39],[74,42,72,40],[74,43,72,41],[74,44,72,42],[74,45,72,43],[75,4,73,2],[75,5,73,3],[75,6,73,4],[75,12,73,10],[76,6,74,4],[76,13,74,11],[76,17,74,15,"Date"],[76,21,74,19],[76,22,74,20],[76,23,74,21],[76,24,74,22,"toISOString"],[76,35,74,33],[76,36,74,34],[76,37,74,35],[76,38,74,36,"split"],[76,43,74,41],[76,44,74,42],[76,47,74,45],[76,48,74,46],[76,49,74,47],[76,50,74,48],[76,51,74,49],[77,4,75,2],[78,2,76,0],[78,3,76,1],[79,2,78,7],[79,8,78,13,"validateCatapultCSV"],[79,27,78,32],[79,30,78,36,"csvContent"],[79,40,78,54],[79,44,78,95],[80,4,79,2],[80,8,79,6],[81,6,80,4],[81,12,80,10,"lines"],[81,17,80,15],[81,20,80,18,"csvContent"],[81,30,80,28],[81,31,80,29,"trim"],[81,35,80,33],[81,36,80,34],[81,37,80,35],[81,38,80,36,"split"],[81,43,80,41],[81,44,80,42],[81,48,80,46],[81,49,80,47],[82,6,81,4],[82,10,81,8,"lines"],[82,15,81,13],[82,16,81,14,"length"],[82,22,81,20],[82,25,81,23],[82,26,81,24],[82,28,81,26],[83,8,82,6],[83,15,82,13],[84,10,82,15,"valid"],[84,15,82,20],[84,17,82,22],[84,22,82,27],[85,10,82,29,"error"],[85,15,82,34],[85,17,82,36],[86,8,82,68],[86,9,82,69],[87,6,83,4],[88,6,85,4],[88,12,85,10,"headers"],[88,19,85,17],[88,22,85,20,"lines"],[88,27,85,25],[88,28,85,26],[88,29,85,27],[88,30,85,28],[88,31,85,29,"toLowerCase"],[88,42,85,40],[88,43,85,41],[88,44,85,42],[89,6,86,4],[89,12,86,10,"requiredFields"],[89,26,86,24],[89,29,86,27],[89,30,86,28],[89,40,86,38],[89,42,86,40],[89,50,86,48],[89,51,86,49],[90,6,87,4],[90,12,87,10,"hasRequiredFields"],[90,29,87,27],[90,32,87,30,"requiredFields"],[90,46,87,44],[90,47,87,45,"some"],[90,51,87,49],[90,52,87,50,"field"],[90,57,87,55],[90,61,87,59,"headers"],[90,68,87,66],[90,69,87,67,"includes"],[90,77,87,75],[90,78,87,76,"field"],[90,83,87,81],[90,84,87,82],[90,85,87,83],[91,6,89,4],[91,10,89,8],[91,11,89,9,"hasRequiredFields"],[91,28,89,26],[91,30,89,28],[92,8,90,6],[92,15,90,13],[93,10,91,8,"valid"],[93,15,91,13],[93,17,91,15],[93,22,91,20],[94,10,92,8,"error"],[94,15,92,13],[94,17,92,15],[95,8,93,6],[95,9,93,7],[96,6,94,4],[97,6,96,4],[97,13,96,11],[98,8,96,13,"valid"],[98,13,96,18],[98,15,96,20],[99,6,96,25],[99,7,96,26],[100,4,97,2],[100,5,97,3],[100,6,97,4],[100,13,97,11,"error"],[100,18,97,16],[100,20,97,18],[101,6,98,4],[101,13,98,11],[102,8,98,13,"valid"],[102,13,98,18],[102,15,98,20],[102,20,98,25],[103,8,98,27,"error"],[103,13,98,32],[103,15,98,34],[104,6,98,66],[104,7,98,67],[105,4,99,2],[106,2,100,0],[106,3,100,1],[107,0,100,2],[107,3]],"functionMap":{"names":["<global>","parseCatapultCSV","lines._.split.map$argument_0","findColumnIndex","headers.findIndex$argument_0","lines.i.split.map$argument_0","formatDate","validateCatapultCSV","requiredFields.some$argument_0"],"mappings":"AAA;gCCY;0CCM,2BD;0BEI;sCCE,qBD;GFI;2CIY,aJ;CDsB;mBME;CNW;mCOE;kDCS,gCD;CPa"},"hasCjsExports":false},"type":"js/module"}]}