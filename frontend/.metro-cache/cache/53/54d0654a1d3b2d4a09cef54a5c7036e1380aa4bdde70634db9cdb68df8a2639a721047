{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"VelocityCalculator\", {\n    enumerable: true,\n    get: function () {\n      return VelocityCalculator;\n    }\n  });\n  exports.createVelocityCalculator = createVelocityCalculator;\n  /**\n   * VelocityCalculator - Production-Grade Velocity Calculation for VBT\n   * \n   * Implements real-world velocity calculation with:\n   * - Delta position / delta time calculation\n   * - Moving average smoothing (last 5 frames)\n   * - Noise rejection below minimum threshold\n   * - Pixel-to-meter conversion using camera calibration\n   * \n   * FORMULA: velocity = deltaPosition / deltaTime\n   * SMOOTHING: Moving average over last 5 frames\n   * THRESHOLD: Rejects movements below noise floor\n   */\n\n  const DEFAULT_CALIBRATION = {\n    cameraHeightCm: 100,\n    cameraDistanceCm: 150,\n    fovDegrees: 60,\n    frameHeight: 1920\n  };\n  const DEFAULT_CONFIG = {\n    smoothingWindowSize: 5,\n    noiseThresholdMs: 0.02,\n    // 2cm/s minimum\n    maxValidVelocityMs: 3.0,\n    // 3m/s maximum\n    calibration: DEFAULT_CALIBRATION\n  };\n\n  /**\n   * VelocityCalculator Class\n   * \n   * Core velocity calculation engine for VBT system.\n   * Processes position updates from tracking system and outputs\n   * real-world velocity measurements.\n   */\n  class VelocityCalculator {\n    positionBuffer = [];\n    velocityBuffer = [];\n    lastValidVelocity = 0;\n    constructor(config = {}) {\n      this.config = {\n        ...DEFAULT_CONFIG,\n        ...config,\n        calibration: {\n          ...DEFAULT_CALIBRATION,\n          ...config.calibration\n        }\n      };\n\n      // Pre-calculate conversion factor\n      this.metersPerNormalizedUnit = this.calculateMetersPerUnit();\n    }\n\n    /**\n     * Calculate conversion factor from normalized coordinates to meters\n     * Uses pinhole camera model for accurate conversion\n     */\n    calculateMetersPerUnit() {\n      const {\n        cameraDistanceCm,\n        fovDegrees,\n        frameHeight\n      } = this.config.calibration;\n\n      // Calculate focal length from FOV\n      const fovRadians = fovDegrees * Math.PI / 180;\n      const focalLengthPixels = frameHeight / (2 * Math.tan(fovRadians / 2));\n\n      // At 1 normalized unit = frameHeight pixels\n      // Real size = (pixel_size * distance) / focal_length\n      const metersPerPixel = cameraDistanceCm / 100 / focalLengthPixels;\n      const metersPerNormalized = metersPerPixel * frameHeight;\n      return metersPerNormalized;\n    }\n\n    /**\n     * Convert normalized Y displacement to meters\n     */\n    normalizedToMeters(normalizedDelta) {\n      return normalizedDelta * this.metersPerNormalizedUnit;\n    }\n\n    /**\n     * Update velocity calculator with new position\n     * This should be called every frame from the pose detection loop\n     * \n     * @param position - Current position with timestamp\n     * @returns VelocityResult with calculated velocity data\n     */\n    update(position) {\n      // Add to position buffer\n      this.positionBuffer.push(position);\n\n      // Trim buffer to max size (2x smoothing window for stability)\n      const maxBufferSize = this.config.smoothingWindowSize * 2;\n      while (this.positionBuffer.length > maxBufferSize) {\n        this.positionBuffer.shift();\n      }\n\n      // Need at least 2 positions to calculate velocity\n      if (this.positionBuffer.length < 2) {\n        return this.createResult(0, 0, 0, false);\n      }\n\n      // Get current and previous position\n      const current = this.positionBuffer[this.positionBuffer.length - 1];\n      const previous = this.positionBuffer[this.positionBuffer.length - 2];\n\n      // Calculate time delta in seconds\n      const deltaTimeMs = current.timestamp - previous.timestamp;\n      const deltaTimeSec = deltaTimeMs / 1000;\n\n      // Reject invalid time deltas\n      if (deltaTimeSec <= 0 || deltaTimeSec > 1) {\n        return this.createResult(0, this.lastValidVelocity, 0, false);\n      }\n\n      // Calculate Y delta (normalized coordinates)\n      // Note: In image coordinates, Y increases downward\n      // So negative deltaY means moving up (bar going up in concentric phase)\n      const deltaY = current.y - previous.y;\n\n      // Convert to meters\n      const deltaMeters = this.normalizedToMeters(Math.abs(deltaY));\n\n      // Calculate instantaneous velocity: v = d / t\n      const instantVelocity = deltaMeters / deltaTimeSec;\n\n      // Check if above noise threshold\n      const isAboveThreshold = instantVelocity >= this.config.noiseThresholdMs;\n\n      // Check if below maximum (reject outliers)\n      const isBelowMax = instantVelocity <= this.config.maxValidVelocityMs;\n      const isValid = isAboveThreshold && isBelowMax;\n\n      // Add to velocity buffer if valid\n      if (isValid) {\n        this.velocityBuffer.push(instantVelocity);\n\n        // Trim velocity buffer to smoothing window size\n        while (this.velocityBuffer.length > this.config.smoothingWindowSize) {\n          this.velocityBuffer.shift();\n        }\n      }\n\n      // Calculate smoothed velocity (moving average)\n      const smoothedVelocity = this.calculateSmoothedVelocity();\n\n      // Update last valid velocity\n      if (isValid) {\n        this.lastValidVelocity = smoothedVelocity;\n      }\n      return this.createResult(isValid ? instantVelocity : 0, smoothedVelocity, deltaY, isValid);\n    }\n\n    /**\n     * Calculate moving average of velocity buffer\n     */\n    calculateSmoothedVelocity() {\n      if (this.velocityBuffer.length === 0) {\n        return 0;\n      }\n      const sum = this.velocityBuffer.reduce((acc, v) => acc + v, 0);\n      return sum / this.velocityBuffer.length;\n    }\n\n    /**\n     * Create velocity result object\n     */\n    createResult(instantVelocity, smoothedVelocity, deltaY, isValid) {\n      // Determine direction based on Y delta\n      // Negative deltaY = moving up (concentric)\n      // Positive deltaY = moving down (eccentric)\n      let direction = 'stationary';\n      if (Math.abs(deltaY) >= 0.005) {\n        // 0.5% of screen minimum\n        direction = deltaY < 0 ? 'up' : 'down';\n      }\n      return {\n        instantVelocity: Math.round(instantVelocity * 1000) / 1000,\n        // Round to mm/s precision\n        smoothedVelocity: Math.round(smoothedVelocity * 1000) / 1000,\n        direction,\n        deltaY,\n        deltaTime: this.positionBuffer.length >= 2 ? (this.positionBuffer[this.positionBuffer.length - 1].timestamp - this.positionBuffer[this.positionBuffer.length - 2].timestamp) / 1000 : 0,\n        isValid\n      };\n    }\n\n    /**\n     * Get current smoothed velocity\n     */\n    getVelocity() {\n      return this.lastValidVelocity;\n    }\n\n    /**\n     * Get raw velocity buffer for debugging\n     */\n    getVelocityBuffer() {\n      return [...this.velocityBuffer];\n    }\n\n    /**\n     * Get position buffer size\n     */\n    getBufferSize() {\n      return this.positionBuffer.length;\n    }\n\n    /**\n     * Update calibration (e.g., when camera settings change)\n     */\n    updateCalibration(calibration) {\n      this.config.calibration = {\n        ...this.config.calibration,\n        ...calibration\n      };\n      this.metersPerNormalizedUnit = this.calculateMetersPerUnit();\n    }\n\n    /**\n     * Reset calculator state\n     */\n    reset() {\n      this.positionBuffer = [];\n      this.velocityBuffer = [];\n      this.lastValidVelocity = 0;\n    }\n  }\n\n  /**\n   * Create a velocity calculator with custom configuration\n   */\n  function createVelocityCalculator(config) {\n    return new VelocityCalculator(config);\n  }\n  var _default = VelocityCalculator;\n});","lineCount":259,"map":[[7,2,280,0,"Object"],[7,8,280,0],[7,9,280,0,"defineProperty"],[7,23,280,0],[7,24,280,0,"exports"],[7,31,280,0],[8,4,280,0,"enumerable"],[8,14,280,0],[9,4,280,0,"get"],[9,7,280,0],[9,18,280,0,"get"],[9,19,280,0],[10,6,280,0],[10,13,280,0,"_default"],[10,21,280,0],[11,4,280,0],[12,2,280,0],[13,2,65,0,"Object"],[13,8,65,0],[13,9,65,0,"defineProperty"],[13,23,65,0],[13,24,65,0,"exports"],[13,31,65,0],[14,4,65,0,"enumerable"],[14,14,65,0],[15,4,65,0,"get"],[15,7,65,0],[15,18,65,0,"get"],[15,19,65,0],[16,6,65,0],[16,13,65,0,"VelocityCalculator"],[16,31,65,0],[17,4,65,0],[18,2,65,0],[19,2,274,0,"exports"],[19,9,274,0],[19,10,274,0,"createVelocityCalculator"],[19,34,274,0],[19,37,274,0,"createVelocityCalculator"],[19,61,274,0],[20,2,1,0],[21,0,2,0],[22,0,3,0],[23,0,4,0],[24,0,5,0],[25,0,6,0],[26,0,7,0],[27,0,8,0],[28,0,9,0],[29,0,10,0],[30,0,11,0],[31,0,12,0],[32,0,13,0],[34,2,44,0],[34,8,44,6,"DEFAULT_CALIBRATION"],[34,27,44,46],[34,30,44,49],[35,4,45,2,"cameraHeightCm"],[35,18,45,16],[35,20,45,18],[35,23,45,21],[36,4,46,2,"cameraDistanceCm"],[36,20,46,18],[36,22,46,20],[36,25,46,23],[37,4,47,2,"fovDegrees"],[37,14,47,12],[37,16,47,14],[37,18,47,16],[38,4,48,2,"frameHeight"],[38,15,48,13],[38,17,48,15],[39,2,49,0],[39,3,49,1],[40,2,51,0],[40,8,51,6,"DEFAULT_CONFIG"],[40,22,51,46],[40,25,51,49],[41,4,52,2,"smoothingWindowSize"],[41,23,52,21],[41,25,52,23],[41,26,52,24],[42,4,53,2,"noiseThresholdMs"],[42,20,53,18],[42,22,53,20],[42,26,53,24],[43,4,53,27],[44,4,54,2,"maxValidVelocityMs"],[44,22,54,20],[44,24,54,22],[44,27,54,25],[45,4,54,27],[46,4,55,2,"calibration"],[46,15,55,13],[46,17,55,15,"DEFAULT_CALIBRATION"],[47,2,56,0],[47,3,56,1],[49,2,58,0],[50,0,59,0],[51,0,60,0],[52,0,61,0],[53,0,62,0],[54,0,63,0],[55,0,64,0],[56,2,65,7],[56,8,65,13,"VelocityCalculator"],[56,26,65,31],[56,27,65,32],[57,4,67,10,"positionBuffer"],[57,18,67,24],[57,21,67,47],[57,23,67,49],[58,4,68,10,"velocityBuffer"],[58,18,68,24],[58,21,68,37],[58,23,68,39],[59,4,69,10,"lastValidVelocity"],[59,21,69,27],[59,24,69,38],[59,25,69,39],[60,4,72,2,"constructor"],[60,15,72,13,"constructor"],[60,16,72,14,"config"],[60,22,72,55],[60,25,72,58],[60,26,72,59],[60,27,72,60],[60,29,72,62],[61,6,73,4],[61,10,73,8],[61,11,73,9,"config"],[61,17,73,15],[61,20,73,18],[62,8,74,6],[62,11,74,9,"DEFAULT_CONFIG"],[62,25,74,23],[63,8,75,6],[63,11,75,9,"config"],[63,17,75,15],[64,8,76,6,"calibration"],[64,19,76,17],[64,21,76,19],[65,10,76,21],[65,13,76,24,"DEFAULT_CALIBRATION"],[65,32,76,43],[66,10,76,45],[66,13,76,48,"config"],[66,19,76,54],[66,20,76,55,"calibration"],[67,8,76,67],[68,6,77,4],[68,7,77,5],[70,6,79,4],[71,6,80,4],[71,10,80,8],[71,11,80,9,"metersPerNormalizedUnit"],[71,34,80,32],[71,37,80,35],[71,41,80,39],[71,42,80,40,"calculateMetersPerUnit"],[71,64,80,62],[71,65,80,63],[71,66,80,64],[72,4,81,2],[74,4,83,2],[75,0,84,0],[76,0,85,0],[77,0,86,0],[78,4,87,10,"calculateMetersPerUnit"],[78,26,87,32,"calculateMetersPerUnit"],[78,27,87,32],[78,29,87,43],[79,6,88,4],[79,12,88,10],[80,8,88,12,"cameraDistanceCm"],[80,24,88,28],[81,8,88,30,"fovDegrees"],[81,18,88,40],[82,8,88,42,"frameHeight"],[83,6,88,54],[83,7,88,55],[83,10,88,58],[83,14,88,62],[83,15,88,63,"config"],[83,21,88,69],[83,22,88,70,"calibration"],[83,33,88,81],[85,6,90,4],[86,6,91,4],[86,12,91,10,"fovRadians"],[86,22,91,20],[86,25,91,24,"fovDegrees"],[86,35,91,34],[86,38,91,37,"Math"],[86,42,91,41],[86,43,91,42,"PI"],[86,45,91,44],[86,48,91,48],[86,51,91,51],[87,6,92,4],[87,12,92,10,"focalLengthPixels"],[87,29,92,27],[87,32,92,30,"frameHeight"],[87,43,92,41],[87,47,92,45],[87,48,92,46],[87,51,92,49,"Math"],[87,55,92,53],[87,56,92,54,"tan"],[87,59,92,57],[87,60,92,58,"fovRadians"],[87,70,92,68],[87,73,92,71],[87,74,92,72],[87,75,92,73],[87,76,92,74],[89,6,94,4],[90,6,95,4],[91,6,96,4],[91,12,96,10,"metersPerPixel"],[91,26,96,24],[91,29,96,28,"cameraDistanceCm"],[91,45,96,44],[91,48,96,47],[91,51,96,50],[91,54,96,54,"focalLengthPixels"],[91,71,96,71],[92,6,97,4],[92,12,97,10,"metersPerNormalized"],[92,31,97,29],[92,34,97,32,"metersPerPixel"],[92,48,97,46],[92,51,97,49,"frameHeight"],[92,62,97,60],[93,6,99,4],[93,13,99,11,"metersPerNormalized"],[93,32,99,30],[94,4,100,2],[96,4,102,2],[97,0,103,0],[98,0,104,0],[99,4,105,10,"normalizedToMeters"],[99,22,105,28,"normalizedToMeters"],[99,23,105,29,"normalizedDelta"],[99,38,105,52],[99,40,105,62],[100,6,106,4],[100,13,106,11,"normalizedDelta"],[100,28,106,26],[100,31,106,29],[100,35,106,33],[100,36,106,34,"metersPerNormalizedUnit"],[100,59,106,57],[101,4,107,2],[103,4,109,2],[104,0,110,0],[105,0,111,0],[106,0,112,0],[107,0,113,0],[108,0,114,0],[109,0,115,0],[110,4,116,2,"update"],[110,10,116,8,"update"],[110,11,116,9,"position"],[110,19,116,35],[110,21,116,53],[111,6,117,4],[112,6,118,4],[112,10,118,8],[112,11,118,9,"positionBuffer"],[112,25,118,23],[112,26,118,24,"push"],[112,30,118,28],[112,31,118,29,"position"],[112,39,118,37],[112,40,118,38],[114,6,120,4],[115,6,121,4],[115,12,121,10,"maxBufferSize"],[115,25,121,23],[115,28,121,26],[115,32,121,30],[115,33,121,31,"config"],[115,39,121,37],[115,40,121,38,"smoothingWindowSize"],[115,59,121,57],[115,62,121,60],[115,63,121,61],[116,6,122,4],[116,13,122,11],[116,17,122,15],[116,18,122,16,"positionBuffer"],[116,32,122,30],[116,33,122,31,"length"],[116,39,122,37],[116,42,122,40,"maxBufferSize"],[116,55,122,53],[116,57,122,55],[117,8,123,6],[117,12,123,10],[117,13,123,11,"positionBuffer"],[117,27,123,25],[117,28,123,26,"shift"],[117,33,123,31],[117,34,123,32],[117,35,123,33],[118,6,124,4],[120,6,126,4],[121,6,127,4],[121,10,127,8],[121,14,127,12],[121,15,127,13,"positionBuffer"],[121,29,127,27],[121,30,127,28,"length"],[121,36,127,34],[121,39,127,37],[121,40,127,38],[121,42,127,40],[122,8,128,6],[122,15,128,13],[122,19,128,17],[122,20,128,18,"createResult"],[122,32,128,30],[122,33,128,31],[122,34,128,32],[122,36,128,34],[122,37,128,35],[122,39,128,37],[122,40,128,38],[122,42,128,40],[122,47,128,45],[122,48,128,46],[123,6,129,4],[125,6,131,4],[126,6,132,4],[126,12,132,10,"current"],[126,19,132,17],[126,22,132,20],[126,26,132,24],[126,27,132,25,"positionBuffer"],[126,41,132,39],[126,42,132,40],[126,46,132,44],[126,47,132,45,"positionBuffer"],[126,61,132,59],[126,62,132,60,"length"],[126,68,132,66],[126,71,132,69],[126,72,132,70],[126,73,132,71],[127,6,133,4],[127,12,133,10,"previous"],[127,20,133,18],[127,23,133,21],[127,27,133,25],[127,28,133,26,"positionBuffer"],[127,42,133,40],[127,43,133,41],[127,47,133,45],[127,48,133,46,"positionBuffer"],[127,62,133,60],[127,63,133,61,"length"],[127,69,133,67],[127,72,133,70],[127,73,133,71],[127,74,133,72],[129,6,135,4],[130,6,136,4],[130,12,136,10,"deltaTimeMs"],[130,23,136,21],[130,26,136,24,"current"],[130,33,136,31],[130,34,136,32,"timestamp"],[130,43,136,41],[130,46,136,44,"previous"],[130,54,136,52],[130,55,136,53,"timestamp"],[130,64,136,62],[131,6,137,4],[131,12,137,10,"deltaTimeSec"],[131,24,137,22],[131,27,137,25,"deltaTimeMs"],[131,38,137,36],[131,41,137,39],[131,45,137,43],[133,6,139,4],[134,6,140,4],[134,10,140,8,"deltaTimeSec"],[134,22,140,20],[134,26,140,24],[134,27,140,25],[134,31,140,29,"deltaTimeSec"],[134,43,140,41],[134,46,140,44],[134,47,140,45],[134,49,140,47],[135,8,141,6],[135,15,141,13],[135,19,141,17],[135,20,141,18,"createResult"],[135,32,141,30],[135,33,141,31],[135,34,141,32],[135,36,141,34],[135,40,141,38],[135,41,141,39,"lastValidVelocity"],[135,58,141,56],[135,60,141,58],[135,61,141,59],[135,63,141,61],[135,68,141,66],[135,69,141,67],[136,6,142,4],[138,6,144,4],[139,6,145,4],[140,6,146,4],[141,6,147,4],[141,12,147,10,"deltaY"],[141,18,147,16],[141,21,147,19,"current"],[141,28,147,26],[141,29,147,27,"y"],[141,30,147,28],[141,33,147,31,"previous"],[141,41,147,39],[141,42,147,40,"y"],[141,43,147,41],[143,6,149,4],[144,6,150,4],[144,12,150,10,"deltaMeters"],[144,23,150,21],[144,26,150,24],[144,30,150,28],[144,31,150,29,"normalizedToMeters"],[144,49,150,47],[144,50,150,48,"Math"],[144,54,150,52],[144,55,150,53,"abs"],[144,58,150,56],[144,59,150,57,"deltaY"],[144,65,150,63],[144,66,150,64],[144,67,150,65],[146,6,152,4],[147,6,153,4],[147,12,153,10,"instantVelocity"],[147,27,153,25],[147,30,153,28,"deltaMeters"],[147,41,153,39],[147,44,153,42,"deltaTimeSec"],[147,56,153,54],[149,6,155,4],[150,6,156,4],[150,12,156,10,"isAboveThreshold"],[150,28,156,26],[150,31,156,29,"instantVelocity"],[150,46,156,44],[150,50,156,48],[150,54,156,52],[150,55,156,53,"config"],[150,61,156,59],[150,62,156,60,"noiseThresholdMs"],[150,78,156,76],[152,6,158,4],[153,6,159,4],[153,12,159,10,"isBelowMax"],[153,22,159,20],[153,25,159,23,"instantVelocity"],[153,40,159,38],[153,44,159,42],[153,48,159,46],[153,49,159,47,"config"],[153,55,159,53],[153,56,159,54,"maxValidVelocityMs"],[153,74,159,72],[154,6,161,4],[154,12,161,10,"isValid"],[154,19,161,17],[154,22,161,20,"isAboveThreshold"],[154,38,161,36],[154,42,161,40,"isBelowMax"],[154,52,161,50],[156,6,163,4],[157,6,164,4],[157,10,164,8,"isValid"],[157,17,164,15],[157,19,164,17],[158,8,165,6],[158,12,165,10],[158,13,165,11,"velocityBuffer"],[158,27,165,25],[158,28,165,26,"push"],[158,32,165,30],[158,33,165,31,"instantVelocity"],[158,48,165,46],[158,49,165,47],[160,8,167,6],[161,8,168,6],[161,15,168,13],[161,19,168,17],[161,20,168,18,"velocityBuffer"],[161,34,168,32],[161,35,168,33,"length"],[161,41,168,39],[161,44,168,42],[161,48,168,46],[161,49,168,47,"config"],[161,55,168,53],[161,56,168,54,"smoothingWindowSize"],[161,75,168,73],[161,77,168,75],[162,10,169,8],[162,14,169,12],[162,15,169,13,"velocityBuffer"],[162,29,169,27],[162,30,169,28,"shift"],[162,35,169,33],[162,36,169,34],[162,37,169,35],[163,8,170,6],[164,6,171,4],[166,6,173,4],[167,6,174,4],[167,12,174,10,"smoothedVelocity"],[167,28,174,26],[167,31,174,29],[167,35,174,33],[167,36,174,34,"calculateSmoothedVelocity"],[167,61,174,59],[167,62,174,60],[167,63,174,61],[169,6,176,4],[170,6,177,4],[170,10,177,8,"isValid"],[170,17,177,15],[170,19,177,17],[171,8,178,6],[171,12,178,10],[171,13,178,11,"lastValidVelocity"],[171,30,178,28],[171,33,178,31,"smoothedVelocity"],[171,49,178,47],[172,6,179,4],[173,6,181,4],[173,13,181,11],[173,17,181,15],[173,18,181,16,"createResult"],[173,30,181,28],[173,31,182,6,"isValid"],[173,38,182,13],[173,41,182,16,"instantVelocity"],[173,56,182,31],[173,59,182,34],[173,60,182,35],[173,62,183,6,"smoothedVelocity"],[173,78,183,22],[173,80,184,6,"deltaY"],[173,86,184,12],[173,88,185,6,"isValid"],[173,95,186,4],[173,96,186,5],[174,4,187,2],[176,4,189,2],[177,0,190,0],[178,0,191,0],[179,4,192,10,"calculateSmoothedVelocity"],[179,29,192,35,"calculateSmoothedVelocity"],[179,30,192,35],[179,32,192,46],[180,6,193,4],[180,10,193,8],[180,14,193,12],[180,15,193,13,"velocityBuffer"],[180,29,193,27],[180,30,193,28,"length"],[180,36,193,34],[180,41,193,39],[180,42,193,40],[180,44,193,42],[181,8,194,6],[181,15,194,13],[181,16,194,14],[182,6,195,4],[183,6,197,4],[183,12,197,10,"sum"],[183,15,197,13],[183,18,197,16],[183,22,197,20],[183,23,197,21,"velocityBuffer"],[183,37,197,35],[183,38,197,36,"reduce"],[183,44,197,42],[183,45,197,43],[183,46,197,44,"acc"],[183,49,197,47],[183,51,197,49,"v"],[183,52,197,50],[183,57,197,55,"acc"],[183,60,197,58],[183,63,197,61,"v"],[183,64,197,62],[183,66,197,64],[183,67,197,65],[183,68,197,66],[184,6,198,4],[184,13,198,11,"sum"],[184,16,198,14],[184,19,198,17],[184,23,198,21],[184,24,198,22,"velocityBuffer"],[184,38,198,36],[184,39,198,37,"length"],[184,45,198,43],[185,4,199,2],[187,4,201,2],[188,0,202,0],[189,0,203,0],[190,4,204,10,"createResult"],[190,16,204,22,"createResult"],[190,17,205,4,"instantVelocity"],[190,32,205,27],[190,34,206,4,"smoothedVelocity"],[190,50,206,28],[190,52,207,4,"deltaY"],[190,58,207,18],[190,60,208,4,"isValid"],[190,67,208,20],[190,69,209,20],[191,6,210,4],[192,6,211,4],[193,6,212,4],[194,6,213,4],[194,10,213,8,"direction"],[194,19,213,47],[194,22,213,50],[194,34,213,62],[195,6,215,4],[195,10,215,8,"Math"],[195,14,215,12],[195,15,215,13,"abs"],[195,18,215,16],[195,19,215,17,"deltaY"],[195,25,215,23],[195,26,215,24],[195,30,215,28],[195,35,215,33],[195,37,215,35],[196,8,215,37],[197,8,216,6,"direction"],[197,17,216,15],[197,20,216,18,"deltaY"],[197,26,216,24],[197,29,216,27],[197,30,216,28],[197,33,216,31],[197,37,216,35],[197,40,216,38],[197,46,216,44],[198,6,217,4],[199,6,219,4],[199,13,219,11],[200,8,220,6,"instantVelocity"],[200,23,220,21],[200,25,220,23,"Math"],[200,29,220,27],[200,30,220,28,"round"],[200,35,220,33],[200,36,220,34,"instantVelocity"],[200,51,220,49],[200,54,220,52],[200,58,220,56],[200,59,220,57],[200,62,220,60],[200,66,220,64],[201,8,220,66],[202,8,221,6,"smoothedVelocity"],[202,24,221,22],[202,26,221,24,"Math"],[202,30,221,28],[202,31,221,29,"round"],[202,36,221,34],[202,37,221,35,"smoothedVelocity"],[202,53,221,51],[202,56,221,54],[202,60,221,58],[202,61,221,59],[202,64,221,62],[202,68,221,66],[203,8,222,6,"direction"],[203,17,222,15],[204,8,223,6,"deltaY"],[204,14,223,12],[205,8,224,6,"deltaTime"],[205,17,224,15],[205,19,224,17],[205,23,224,21],[205,24,224,22,"positionBuffer"],[205,38,224,36],[205,39,224,37,"length"],[205,45,224,43],[205,49,224,47],[205,50,224,48],[205,53,225,10],[205,54,225,11],[205,58,225,15],[205,59,225,16,"positionBuffer"],[205,73,225,30],[205,74,225,31],[205,78,225,35],[205,79,225,36,"positionBuffer"],[205,93,225,50],[205,94,225,51,"length"],[205,100,225,57],[205,103,225,60],[205,104,225,61],[205,105,225,62],[205,106,225,63,"timestamp"],[205,115,225,72],[205,118,226,11],[205,122,226,15],[205,123,226,16,"positionBuffer"],[205,137,226,30],[205,138,226,31],[205,142,226,35],[205,143,226,36,"positionBuffer"],[205,157,226,50],[205,158,226,51,"length"],[205,164,226,57],[205,167,226,60],[205,168,226,61],[205,169,226,62],[205,170,226,63,"timestamp"],[205,179,226,72],[205,183,226,76],[205,187,226,80],[205,190,227,10],[205,191,227,11],[206,8,228,6,"isValid"],[207,6,229,4],[207,7,229,5],[208,4,230,2],[210,4,232,2],[211,0,233,0],[212,0,234,0],[213,4,235,2,"getVelocity"],[213,15,235,13,"getVelocity"],[213,16,235,13],[213,18,235,24],[214,6,236,4],[214,13,236,11],[214,17,236,15],[214,18,236,16,"lastValidVelocity"],[214,35,236,33],[215,4,237,2],[217,4,239,2],[218,0,240,0],[219,0,241,0],[220,4,242,2,"getVelocityBuffer"],[220,21,242,19,"getVelocityBuffer"],[220,22,242,19],[220,24,242,32],[221,6,243,4],[221,13,243,11],[221,14,243,12],[221,17,243,15],[221,21,243,19],[221,22,243,20,"velocityBuffer"],[221,36,243,34],[221,37,243,35],[222,4,244,2],[224,4,246,2],[225,0,247,0],[226,0,248,0],[227,4,249,2,"getBufferSize"],[227,17,249,15,"getBufferSize"],[227,18,249,15],[227,20,249,26],[228,6,250,4],[228,13,250,11],[228,17,250,15],[228,18,250,16,"positionBuffer"],[228,32,250,30],[228,33,250,31,"length"],[228,39,250,37],[229,4,251,2],[231,4,253,2],[232,0,254,0],[233,0,255,0],[234,4,256,2,"updateCalibration"],[234,21,256,19,"updateCalibration"],[234,22,256,20,"calibration"],[234,33,256,61],[234,35,256,69],[235,6,257,4],[235,10,257,8],[235,11,257,9,"config"],[235,17,257,15],[235,18,257,16,"calibration"],[235,29,257,27],[235,32,257,30],[236,8,257,32],[236,11,257,35],[236,15,257,39],[236,16,257,40,"config"],[236,22,257,46],[236,23,257,47,"calibration"],[236,34,257,58],[237,8,257,60],[237,11,257,63,"calibration"],[238,6,257,75],[238,7,257,76],[239,6,258,4],[239,10,258,8],[239,11,258,9,"metersPerNormalizedUnit"],[239,34,258,32],[239,37,258,35],[239,41,258,39],[239,42,258,40,"calculateMetersPerUnit"],[239,64,258,62],[239,65,258,63],[239,66,258,64],[240,4,259,2],[242,4,261,2],[243,0,262,0],[244,0,263,0],[245,4,264,2,"reset"],[245,9,264,7,"reset"],[245,10,264,7],[245,12,264,16],[246,6,265,4],[246,10,265,8],[246,11,265,9,"positionBuffer"],[246,25,265,23],[246,28,265,26],[246,30,265,28],[247,6,266,4],[247,10,266,8],[247,11,266,9,"velocityBuffer"],[247,25,266,23],[247,28,266,26],[247,30,266,28],[248,6,267,4],[248,10,267,8],[248,11,267,9,"lastValidVelocity"],[248,28,267,26],[248,31,267,29],[248,32,267,30],[249,4,268,2],[250,2,269,0],[252,2,271,0],[253,0,272,0],[254,0,273,0],[255,2,274,7],[255,11,274,16,"createVelocityCalculator"],[255,35,274,40,"createVelocityCalculator"],[255,36,275,2,"config"],[255,42,275,44],[255,44,276,22],[256,4,277,2],[256,11,277,9],[256,15,277,13,"VelocityCalculator"],[256,33,277,31],[256,34,277,32,"config"],[256,40,277,38],[256,41,277,39],[257,2,278,0],[258,2,280,0],[258,6,280,0,"_default"],[258,14,280,0],[258,17,280,15,"VelocityCalculator"],[258,35,280,33],[259,0,280,34],[259,3]],"functionMap":{"names":["<global>","VelocityCalculator","constructor","calculateMetersPerUnit","normalizedToMeters","update","calculateSmoothedVelocity","velocityBuffer.reduce$argument_0","createResult","getVelocity","getVelocityBuffer","getBufferSize","updateCalibration","reset","createVelocityCalculator"],"mappings":"AAA;OCgE;ECO;GDS;EEM;GFa;EGK;GHE;EIS;GJuE;EKK;2CCK,mBD;GLE;EOK;GP0B;EQK;GRE;ESK;GTE;EUK;GVE;EWK;GXG;EYK;GZI;CDC;OcK;CdI"},"hasCjsExports":false},"type":"js/module"}]}