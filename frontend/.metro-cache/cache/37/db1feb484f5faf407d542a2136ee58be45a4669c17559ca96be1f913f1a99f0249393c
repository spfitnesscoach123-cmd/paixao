{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":89},"end":{"line":5,"column":45,"index":134}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"userMediaRequested\",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,\"mountedInstances\",{enumerable:!0,get:function(){return o}}),e.requestUserMediaAsync=async function(t,n=!0){if(v())return await c(n,t.audio,t.video);const[o,u]=await s(t);return await c(n,o,u)},e.getAnyUserMediaAsync=u,e.getUserMediaAsync=l,e.canGetUserMedia=v,e.isFrontCameraAvailableAsync=async function(t){return await f(['front','user','facetime'],'user',t)},e.isBackCameraAvailableAsync=async function(t){return await f(['back','rear'],'environment',t)};var t=r(d[0]);const n=!1,o=[];async function s(t){const n=t=>({optional:[{sourceId:t}]}),o=t=>{const{deviceId:n}=t;return'string'==typeof n?n:Array.isArray(n)?n[0]??null:'object'==typeof n&&n.ideal?n.ideal:null},s=await new Promise(t=>MediaStreamTrack.getSources(n=>t(n)));let c=null,u=null;s.forEach(t=>{'audio'===t.kind?c=t.id:'video'===t.kind&&(u=t.id)});const l=o(t.audioConstraints);l&&(c=l);const v=o(t.videoConstraints);return v&&(u=v),[n(c),n(u)]}async function c(t,n,o){const s={video:void 0===o||o};return t||(s.audio=void 0===n||n),await u(s)}async function u(t,n=!1){try{return await l({...t,video:n||t.video})}catch(o){if(!n&&'object'==typeof o&&'ConstraintNotSatisfiedError'===o?.name)return await u(t,!0);throw o}}async function l(t){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(t);const n=navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia;return new Promise((o,s)=>n.call(navigator,t,o,s))}function v(){return t.Platform.isDOMAvailable&&!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia)}async function f(t,n,o){if(!o){if(!navigator.mediaDevices.enumerateDevices)return null;o=await navigator.mediaDevices.enumerateDevices()}const s=o.filter(t=>'videoinput'===t.kind),[c]=s.filter(n=>t.some(t=>n.label.toLowerCase().includes(t))),[u]=s.filter(t=>{if(!('getCapabilities'in t))return null;const o=t.getCapabilities();return o.facingMode?o.facingMode.find(t=>n):null});return u?.deviceId||c?.deviceId||null}});","lineCount":1,"map":[[1,90,6,0,"Object"],[1,97,6,0,"defineProperty"],[1,112,6,0,"e"],[1,114,6,0],[1,136,6,0,"enumerable"],[1,148,6,0],[1,150,6,0,"get"],[1,154,6,0],[1,172,6,0,"userMediaRequested"],[1,173,6,0],[1,177,7,0,"Object"],[1,184,7,0,"defineProperty"],[1,199,7,0,"e"],[1,201,7,0],[1,221,7,0,"enumerable"],[1,233,7,0],[1,235,7,0,"get"],[1,239,7,0],[1,257,7,0,"mountedInstances"],[1,258,7,0],[1,262,62,0,"e"],[1,264,62,0,"requestUserMediaAsync"],[1,286,62,7,"async"],[1,301,64,0,"props"],[1,303,64,7,"isMuted"],[1,306,64,17],[1,309,65,4],[1,312,65,8,"canGetUserMedia"],[1,316,66,8],[1,329,66,21,"sourceSelectedAsync"],[1,331,66,41,"isMuted"],[1,333,66,50,"props"],[1,335,66,56,"audio"],[1,341,66,63,"props"],[1,343,66,69,"video"],[1,350,70,4],[1,356,70,11,"audio"],[1,358,70,18,"video"],[1,367,70,33,"requestLegacyUserMediaAsync"],[1,369,70,61,"props"],[1,372,71,4],[1,385,71,17,"sourceSelectedAsync"],[1,387,71,37,"isMuted"],[1,389,71,46,"audio"],[1,391,71,53,"video"],[1,393,72,0],[1,395,73,0,"e"],[1,397,73,0,"getAnyUserMediaAsync"],[1,420,89,0,"e"],[1,422,89,0,"getUserMediaAsync"],[1,442,99,0,"e"],[1,444,99,0,"canGetUserMedia"],[1,462,111,0,"e"],[1,464,111,0,"isFrontCameraAvailableAsync"],[1,492,111,7,"async"],[1,507,111,50,"devices"],[1,510,112,4],[1,523,112,17,"supportsCameraType"],[1,525,112,36],[1,526,112,37],[1,534,112,46],[1,541,112,54],[1,553,112,67],[1,560,112,75,"devices"],[1,562,113,0],[1,564,114,0,"e"],[1,566,114,0,"isBackCameraAvailableAsync"],[1,593,114,7,"async"],[1,608,114,49,"devices"],[1,611,115,4],[1,624,115,17,"supportsCameraType"],[1,626,115,36],[1,627,115,37],[1,634,115,45],[1,642,115,54],[1,656,115,69,"devices"],[1,658,116,0],[1,660,5,0],[1,664,5,0,"_expoModulesCore"],[1,666,5,0,"r"],[1,668,5,0,"d"],[1,670,5,0],[1,674,6,7],[1,680,6,13,"userMediaRequested"],[1,683,6,34],[1,685,7,13,"mountedInstances"],[1,687,7,32],[1,690,8,0,"async"],[1,705,8,15,"requestLegacyUserMediaAsync"],[1,707,10,0,"props"],[1,710,12,4],[1,716,12,10,"optionalSource"],[1,718,12,28,"id"],[1,722,12,30],[1,723,12,38,"optional"],[1,732,12,48],[1,733,12,49],[1,734,12,51,"sourceId"],[1,743,12,61,"id"],[1,749,13,10,"constraintToSourceId"],[1,751,13,34,"constraint"],[1,755,14,8],[1,761,14,14,"deviceId"],[1,770,14,16,"deviceId"],[1,773,14,29,"constraint"],[1,775,15,8],[1,781,15,32],[1,798,15,19,"deviceId"],[1,800,16,19,"deviceId"],[1,802,18,12,"Array"],[1,808,18,18,"isArray"],[1,816,18,26,"deviceId"],[1,819,19,19,"deviceId"],[1,821,19,28],[1,825,19,34],[1,830,21,37],[1,847,21,24,"deviceId"],[1,850,21,49,"deviceId"],[1,852,21,58,"ideal"],[1,858,22,19,"deviceId"],[1,860,22,28,"ideal"],[1,866,24,15],[1,872,26,10,"sources"],[1,880,26,26],[1,884,26,30,"Promise"],[1,892,26,39,"resolve"],[1,895,28,4,"MediaStreamTrack"],[1,912,28,21,"getSources"],[1,923,28,33,"sources"],[1,926,28,45,"resolve"],[1,928,28,53,"sources"],[1,933,29,4],[1,937,29,8,"audioSource"],[1,939,29,22],[1,944,30,8,"videoSource"],[1,946,30,22],[1,951,31,4,"sources"],[1,953,31,12,"forEach"],[1,961,31,21,"source"],[1,965,32,28],[1,975,32,12,"source"],[1,977,32,19,"kind"],[1,982,33,12,"audioSource"],[1,984,33,26,"source"],[1,986,33,33,"id"],[1,989,35,33],[1,999,35,17,"source"],[1,1001,35,24,"kind"],[1,1008,36,12,"videoSource"],[1,1010,36,26,"source"],[1,1012,36,33,"id"],[1,1018,41,4],[1,1024,41,10,"audioSourceId"],[1,1026,41,26,"constraintToSourceId"],[1,1028,41,47,"props"],[1,1030,41,53,"audioConstraints"],[1,1048,42,8,"audioSourceId"],[1,1052,43,8,"audioSource"],[1,1054,43,22,"audioSourceId"],[1,1057,47,4],[1,1063,47,10,"videoSourceId"],[1,1065,47,26,"constraintToSourceId"],[1,1067,47,47,"props"],[1,1069,47,53,"videoConstraints"],[1,1087,51,4],[1,1094,48,8,"videoSourceId"],[1,1098,49,8,"videoSource"],[1,1100,49,22,"videoSourceId"],[1,1103,51,11],[1,1104,51,12,"optionalSource"],[1,1106,51,27,"audioSource"],[1,1109,51,41,"optionalSource"],[1,1111,51,56,"videoSource"],[1,1114,52,0],[1,1115,53,0,"async"],[1,1130,53,15,"sourceSelectedAsync"],[1,1132,53,35,"isMuted"],[1,1134,53,44,"audioConstraints"],[1,1136,53,62,"videoConstraints"],[1,1139,54,4],[1,1145,54,10,"constraints"],[1,1147,54,24],[1,1148,55,8,"video"],[1,1159,55,43],[1,1163,55,22,"videoConstraints"],[1,1166,55,57,"videoConstraints"],[1,1169,60,4],[1,1176,57,9,"isMuted"],[1,1180,58,8,"constraints"],[1,1182,58,20,"audio"],[1,1193,58,56],[1,1197,58,35,"audioConstraints"],[1,1200,58,70,"audioConstraints"],[1,1209,60,17,"getAnyUserMediaAsync"],[1,1211,60,38,"constraints"],[1,1213,61,0],[1,1214,73,7,"async"],[1,1229,73,22,"getAnyUserMediaAsync"],[1,1231,73,43,"constraints"],[1,1233,73,56,"ignoreConstraints"],[1,1236,73,76],[1,1239,74,4],[1,1243,75,8],[1,1256,75,21,"getUserMediaAsync"],[1,1258,75,39],[1,1262,76,15,"constraints"],[1,1264,77,12,"video"],[1,1270,77,19,"ignoreConstraints"],[1,1273,77,40,"constraints"],[1,1275,77,52,"video"],[1,1282,79,4],[1,1283,80,4],[1,1289,80,11,"error"],[1,1292,81,8],[1,1296,81,13,"ignoreConstraints"],[1,1299,82,29],[1,1316,82,19,"error"],[1,1319,83,28],[1,1351,83,12,"error"],[1,1354,83,19,"name"],[1,1359,84,12],[1,1372,84,25,"getAnyUserMediaAsync"],[1,1374,84,46,"constraints"],[1,1377,84,59],[1,1380,86,8],[1,1386,86,14,"error"],[1,1387,87,4],[1,1388,88,0],[1,1389,89,7,"async"],[1,1404,89,22,"getUserMediaAsync"],[1,1406,89,40,"constraints"],[1,1409,90,4],[1,1412,90,8,"navigator"],[1,1422,90,18,"mediaDevices"],[1,1436,90,34,"navigator"],[1,1446,90,44,"mediaDevices"],[1,1459,90,57,"getUserMedia"],[1,1472,91,8],[1,1479,91,15,"navigator"],[1,1489,91,25,"mediaDevices"],[1,1502,91,38,"getUserMedia"],[1,1515,91,51,"constraints"],[1,1518,93,4],[1,1524,93,10,"_getUserMedia"],[1,1526,93,26,"navigator"],[1,1536,93,53],[1,1553,94,8,"navigator"],[1,1563,94,38],[1,1583,96,8,"navigator"],[1,1593,96,34],[1,1608,97,4],[1,1615,97,11],[1,1619,97,15,"Promise"],[1,1627,97,23],[1,1628,97,24,"resolve"],[1,1630,97,33,"reject"],[1,1634,97,44,"_getUserMedia"],[1,1636,97,58,"call"],[1,1641,97,63,"navigator"],[1,1651,97,74,"constraints"],[1,1653,97,87,"resolve"],[1,1655,97,96,"reject"],[1,1658,98,0],[1,1659,99,7],[1,1668,99,16,"canGetUserMedia"],[1,1672,101,4],[1,1679,103,4,"Platform"],[1,1681,103,12,"Platform"],[1,1690,103,13,"isDOMAvailable"],[1,1709,105,12,"navigator"],[1,1719,105,22,"mediaDevices"],[1,1733,105,38,"navigator"],[1,1743,105,48,"mediaDevices"],[1,1756,105,61,"getUserMedia"],[1,1770,106,12,"navigator"],[1,1780,106,39],[1,1797,107,12,"navigator"],[1,1807,107,42],[1,1827,109,12,"navigator"],[1,1837,109,38],[1,1852,110,0],[1,1853,117,0,"async"],[1,1868,117,15,"supportsCameraType"],[1,1870,117,34,"labels"],[1,1872,117,42,"type"],[1,1874,117,48,"devices"],[1,1877,118,4],[1,1881,118,9,"devices"],[1,1883,118,18],[1,1884,119,8],[1,1888,119,13,"navigator"],[1,1898,119,23,"mediaDevices"],[1,1911,119,36,"enumerateDevices"],[1,1928,120,12],[1,1935,120,19],[1,1940,122,8,"devices"],[1,1948,122,24,"navigator"],[1,1958,122,34,"mediaDevices"],[1,1971,122,47,"enumerateDevices"],[1,1989,123,4],[1,1990,124,4],[1,1996,124,10,"cameras"],[1,1998,124,20,"devices"],[1,2000,124,28,"filter"],[1,2007,124,36,"t"],[1,2010,124,53],[1,2025,124,42,"t"],[1,2027,124,44,"kind"],[1,2034,125,11,"hasCamera"],[1,2037,125,24,"cameras"],[1,2039,125,32,"filter"],[1,2046,125,40,"camera"],[1,2049,125,51,"labels"],[1,2051,125,58,"some"],[1,2056,125,64,"label"],[1,2059,125,74,"camera"],[1,2061,125,81,"label"],[1,2067,125,87,"toLowerCase"],[1,2081,125,101,"includes"],[1,2090,125,110,"label"],[1,2096,126,11,"isCapable"],[1,2099,126,24,"cameras"],[1,2101,126,32,"filter"],[1,2108,126,40,"camera"],[1,2112,127,8],[1,2117,127,14],[1,2137,127,35,"camera"],[1,2140,128,12],[1,2147,128,19],[1,2152,130,8],[1,2158,130,14,"capabilities"],[1,2160,130,29,"camera"],[1,2162,130,36,"getCapabilities"],[1,2180,131,8],[1,2187,131,13,"capabilities"],[1,2189,131,26,"facingMode"],[1,2200,134,15,"capabilities"],[1,2202,134,28,"facingMode"],[1,2213,134,39,"find"],[1,2218,134,45,"_"],[1,2221,134,51,"type"],[1,2224,132,19],[1,2231,136,4],[1,2238,136,11,"isCapable"],[1,2241,136,22,"deviceId"],[1,2251,136,34,"hasCamera"],[1,2254,136,45,"deviceId"],[1,2264,136,57],[1,2268,137,0],[1,2269,137,1],[1,2272]],"functionMap":{"names":["<global>","requestLegacyUserMediaAsync","optionalSource","constraintToSourceId","Promise$argument_0","MediaStreamTrack.getSources$argument_0","sources.forEach$argument_0","sourceSelectedAsync","requestUserMediaAsync","getAnyUserMediaAsync","getUserMediaAsync","canGetUserMedia","isFrontCameraAvailableAsync","isBackCameraAvailableAsync","supportsCameraType","devices.filter$argument_0","cameras.filter$argument_0","labels.some$argument_0","capabilities.facingMode.find$argument_0"],"mappings":"AAA;ACO;2BCI,0CD;iCEC;KFY;sCGC;gCCE,6BD,CH;oBKG;KLO;CDc;AOC;CPQ;OQC;CRU;OSC;CTe;OUC;uBNQ,gFM;CVC;OWC;CXW;OYC;CZE;OaC;CbE;AcC;mCCO,8BD;uCEC,wBC,qDD,CF;uCEC;4CEQ,WF;KFC;CdE"},"hasCjsExports":false},"type":"js/module"}]}