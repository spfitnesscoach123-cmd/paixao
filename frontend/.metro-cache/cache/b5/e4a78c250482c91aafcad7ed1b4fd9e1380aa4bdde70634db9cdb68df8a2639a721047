{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"VelocityCalculator\", {\n    enumerable: true,\n    get: function () {\n      return VelocityCalculator;\n    }\n  });\n  exports.createVelocityCalculator = createVelocityCalculator;\n  /**\n   * VelocityCalculator - Production-Grade Velocity Calculation for VBT\n   * \n   * Implements real-world velocity calculation with:\n   * - Delta position / delta time calculation\n   * - Moving average smoothing (last 5 frames)\n   * - Noise rejection below minimum threshold\n   * - Pixel-to-meter conversion using camera calibration\n   * \n   * FORMULA: velocity = deltaPosition / deltaTime\n   * SMOOTHING: Moving average over last 5 frames\n   * THRESHOLD: Rejects movements below noise floor\n   */\n\n  const DEFAULT_CALIBRATION = {\n    cameraHeightCm: 100,\n    cameraDistanceCm: 150,\n    fovDegrees: 60,\n    frameHeight: 1920\n  };\n  const DEFAULT_CONFIG = {\n    smoothingWindowSize: 5,\n    noiseThresholdMs: 0.02,\n    // 2cm/s minimum\n    maxValidVelocityMs: 3.0,\n    // 3m/s maximum\n    calibration: DEFAULT_CALIBRATION\n  };\n\n  /**\n   * VelocityCalculator Class\n   * \n   * Core velocity calculation engine for VBT system.\n   * Processes position updates from tracking system and outputs\n   * real-world velocity measurements.\n   */\n  class VelocityCalculator {\n    positionBuffer = [];\n    velocityBuffer = [];\n    lastValidVelocity = 0;\n    constructor(config = {}) {\n      this.config = Object.assign({}, DEFAULT_CONFIG, config, {\n        calibration: Object.assign({}, DEFAULT_CALIBRATION, config.calibration)\n      });\n\n      // Pre-calculate conversion factor\n      this.metersPerNormalizedUnit = this.calculateMetersPerUnit();\n    }\n\n    /**\n     * Calculate conversion factor from normalized coordinates to meters\n     * Uses pinhole camera model for accurate conversion\n     */\n    calculateMetersPerUnit() {\n      const {\n        cameraDistanceCm,\n        fovDegrees,\n        frameHeight\n      } = this.config.calibration;\n\n      // Calculate focal length from FOV\n      const fovRadians = fovDegrees * Math.PI / 180;\n      const focalLengthPixels = frameHeight / (2 * Math.tan(fovRadians / 2));\n\n      // At 1 normalized unit = frameHeight pixels\n      // Real size = (pixel_size * distance) / focal_length\n      const metersPerPixel = cameraDistanceCm / 100 / focalLengthPixels;\n      const metersPerNormalized = metersPerPixel * frameHeight;\n      return metersPerNormalized;\n    }\n\n    /**\n     * Convert normalized Y displacement to meters\n     */\n    normalizedToMeters(normalizedDelta) {\n      return normalizedDelta * this.metersPerNormalizedUnit;\n    }\n\n    /**\n     * Update velocity calculator with new position\n     * This should be called every frame from the pose detection loop\n     * \n     * @param position - Current position with timestamp\n     * @returns VelocityResult with calculated velocity data\n     */\n    update(position) {\n      // Add to position buffer\n      this.positionBuffer.push(position);\n\n      // Trim buffer to max size (2x smoothing window for stability)\n      const maxBufferSize = this.config.smoothingWindowSize * 2;\n      while (this.positionBuffer.length > maxBufferSize) {\n        this.positionBuffer.shift();\n      }\n\n      // Need at least 2 positions to calculate velocity\n      if (this.positionBuffer.length < 2) {\n        return this.createResult(0, 0, 0, false);\n      }\n\n      // Get current and previous position\n      const current = this.positionBuffer[this.positionBuffer.length - 1];\n      const previous = this.positionBuffer[this.positionBuffer.length - 2];\n\n      // Calculate time delta in seconds\n      const deltaTimeMs = current.timestamp - previous.timestamp;\n      const deltaTimeSec = deltaTimeMs / 1000;\n\n      // Reject invalid time deltas\n      if (deltaTimeSec <= 0 || deltaTimeSec > 1) {\n        return this.createResult(0, this.lastValidVelocity, 0, false);\n      }\n\n      // Calculate Y delta (normalized coordinates)\n      // Note: In image coordinates, Y increases downward\n      // So negative deltaY means moving up (bar going up in concentric phase)\n      const deltaY = current.y - previous.y;\n\n      // Convert to meters\n      const deltaMeters = this.normalizedToMeters(Math.abs(deltaY));\n\n      // Calculate instantaneous velocity: v = d / t\n      const instantVelocity = deltaMeters / deltaTimeSec;\n\n      // Check if above noise threshold\n      const isAboveThreshold = instantVelocity >= this.config.noiseThresholdMs;\n\n      // Check if below maximum (reject outliers)\n      const isBelowMax = instantVelocity <= this.config.maxValidVelocityMs;\n      const isValid = isAboveThreshold && isBelowMax;\n\n      // Add to velocity buffer if valid\n      if (isValid) {\n        this.velocityBuffer.push(instantVelocity);\n\n        // Trim velocity buffer to smoothing window size\n        while (this.velocityBuffer.length > this.config.smoothingWindowSize) {\n          this.velocityBuffer.shift();\n        }\n      }\n\n      // Calculate smoothed velocity (moving average)\n      const smoothedVelocity = this.calculateSmoothedVelocity();\n\n      // Update last valid velocity\n      if (isValid) {\n        this.lastValidVelocity = smoothedVelocity;\n      }\n      return this.createResult(isValid ? instantVelocity : 0, smoothedVelocity, deltaY, isValid);\n    }\n\n    /**\n     * Calculate moving average of velocity buffer\n     */\n    calculateSmoothedVelocity() {\n      if (this.velocityBuffer.length === 0) {\n        return 0;\n      }\n      const sum = this.velocityBuffer.reduce((acc, v) => acc + v, 0);\n      return sum / this.velocityBuffer.length;\n    }\n\n    /**\n     * Create velocity result object\n     */\n    createResult(instantVelocity, smoothedVelocity, deltaY, isValid) {\n      // Determine direction based on Y delta\n      // Negative deltaY = moving up (concentric)\n      // Positive deltaY = moving down (eccentric)\n      let direction = 'stationary';\n      if (Math.abs(deltaY) >= 0.005) {\n        // 0.5% of screen minimum\n        direction = deltaY < 0 ? 'up' : 'down';\n      }\n      return {\n        instantVelocity: Math.round(instantVelocity * 1000) / 1000,\n        // Round to mm/s precision\n        smoothedVelocity: Math.round(smoothedVelocity * 1000) / 1000,\n        direction,\n        deltaY,\n        deltaTime: this.positionBuffer.length >= 2 ? (this.positionBuffer[this.positionBuffer.length - 1].timestamp - this.positionBuffer[this.positionBuffer.length - 2].timestamp) / 1000 : 0,\n        isValid\n      };\n    }\n\n    /**\n     * Get current smoothed velocity\n     */\n    getVelocity() {\n      return this.lastValidVelocity;\n    }\n\n    /**\n     * Get raw velocity buffer for debugging\n     */\n    getVelocityBuffer() {\n      return [...this.velocityBuffer];\n    }\n\n    /**\n     * Get position buffer size\n     */\n    getBufferSize() {\n      return this.positionBuffer.length;\n    }\n\n    /**\n     * Update calibration (e.g., when camera settings change)\n     */\n    updateCalibration(calibration) {\n      this.config.calibration = Object.assign({}, this.config.calibration, calibration);\n      this.metersPerNormalizedUnit = this.calculateMetersPerUnit();\n    }\n\n    /**\n     * Reset calculator state\n     */\n    reset() {\n      this.positionBuffer = [];\n      this.velocityBuffer = [];\n      this.lastValidVelocity = 0;\n    }\n  }\n\n  /**\n   * Create a velocity calculator with custom configuration\n   */\n  function createVelocityCalculator(config) {\n    return new VelocityCalculator(config);\n  }\n  var _default = VelocityCalculator;\n});","lineCount":251,"map":[[7,2,280,0,"Object"],[7,8,280,0],[7,9,280,0,"defineProperty"],[7,23,280,0],[7,24,280,0,"exports"],[7,31,280,0],[8,4,280,0,"enumerable"],[8,14,280,0],[9,4,280,0,"get"],[9,7,280,0],[9,18,280,0,"get"],[9,19,280,0],[10,6,280,0],[10,13,280,0,"_default"],[10,21,280,0],[11,4,280,0],[12,2,280,0],[13,2,65,0,"Object"],[13,8,65,0],[13,9,65,0,"defineProperty"],[13,23,65,0],[13,24,65,0,"exports"],[13,31,65,0],[14,4,65,0,"enumerable"],[14,14,65,0],[15,4,65,0,"get"],[15,7,65,0],[15,18,65,0,"get"],[15,19,65,0],[16,6,65,0],[16,13,65,0,"VelocityCalculator"],[16,31,65,0],[17,4,65,0],[18,2,65,0],[19,2,274,0,"exports"],[19,9,274,0],[19,10,274,0,"createVelocityCalculator"],[19,34,274,0],[19,37,274,0,"createVelocityCalculator"],[19,61,274,0],[20,2,1,0],[21,0,2,0],[22,0,3,0],[23,0,4,0],[24,0,5,0],[25,0,6,0],[26,0,7,0],[27,0,8,0],[28,0,9,0],[29,0,10,0],[30,0,11,0],[31,0,12,0],[32,0,13,0],[34,2,44,0],[34,8,44,6,"DEFAULT_CALIBRATION"],[34,27,44,46],[34,30,44,49],[35,4,45,2,"cameraHeightCm"],[35,18,45,16],[35,20,45,18],[35,23,45,21],[36,4,46,2,"cameraDistanceCm"],[36,20,46,18],[36,22,46,20],[36,25,46,23],[37,4,47,2,"fovDegrees"],[37,14,47,12],[37,16,47,14],[37,18,47,16],[38,4,48,2,"frameHeight"],[38,15,48,13],[38,17,48,15],[39,2,49,0],[39,3,49,1],[40,2,51,0],[40,8,51,6,"DEFAULT_CONFIG"],[40,22,51,46],[40,25,51,49],[41,4,52,2,"smoothingWindowSize"],[41,23,52,21],[41,25,52,23],[41,26,52,24],[42,4,53,2,"noiseThresholdMs"],[42,20,53,18],[42,22,53,20],[42,26,53,24],[43,4,53,27],[44,4,54,2,"maxValidVelocityMs"],[44,22,54,20],[44,24,54,22],[44,27,54,25],[45,4,54,27],[46,4,55,2,"calibration"],[46,15,55,13],[46,17,55,15,"DEFAULT_CALIBRATION"],[47,2,56,0],[47,3,56,1],[49,2,58,0],[50,0,59,0],[51,0,60,0],[52,0,61,0],[53,0,62,0],[54,0,63,0],[55,0,64,0],[56,2,65,7],[56,8,65,13,"VelocityCalculator"],[56,26,65,31],[56,27,65,32],[57,4,67,10,"positionBuffer"],[57,18,67,24],[57,21,67,47],[57,23,67,49],[58,4,68,10,"velocityBuffer"],[58,18,68,24],[58,21,68,37],[58,23,68,39],[59,4,69,10,"lastValidVelocity"],[59,21,69,27],[59,24,69,38],[59,25,69,39],[60,4,72,2,"constructor"],[60,15,72,13,"constructor"],[60,16,72,14,"config"],[60,22,72,55],[60,25,72,58],[60,26,72,59],[60,27,72,60],[60,29,72,62],[61,6,73,4],[61,10,73,8],[61,11,73,9,"config"],[61,17,73,15],[61,20,73,15,"Object"],[61,26,73,15],[61,27,73,15,"assign"],[61,33,73,15],[61,38,74,9,"DEFAULT_CONFIG"],[61,52,74,23],[61,54,75,9,"config"],[61,60,75,15],[62,8,76,6,"calibration"],[62,19,76,17],[62,21,76,17,"Object"],[62,27,76,17],[62,28,76,17,"assign"],[62,34,76,17],[62,39,76,24,"DEFAULT_CALIBRATION"],[62,58,76,43],[62,60,76,48,"config"],[62,66,76,54],[62,67,76,55,"calibration"],[62,78,76,66],[63,6,76,68],[63,8,77,5],[65,6,79,4],[66,6,80,4],[66,10,80,8],[66,11,80,9,"metersPerNormalizedUnit"],[66,34,80,32],[66,37,80,35],[66,41,80,39],[66,42,80,40,"calculateMetersPerUnit"],[66,64,80,62],[66,65,80,63],[66,66,80,64],[67,4,81,2],[69,4,83,2],[70,0,84,0],[71,0,85,0],[72,0,86,0],[73,4,87,10,"calculateMetersPerUnit"],[73,26,87,32,"calculateMetersPerUnit"],[73,27,87,32],[73,29,87,43],[74,6,88,4],[74,12,88,10],[75,8,88,12,"cameraDistanceCm"],[75,24,88,28],[76,8,88,30,"fovDegrees"],[76,18,88,40],[77,8,88,42,"frameHeight"],[78,6,88,54],[78,7,88,55],[78,10,88,58],[78,14,88,62],[78,15,88,63,"config"],[78,21,88,69],[78,22,88,70,"calibration"],[78,33,88,81],[80,6,90,4],[81,6,91,4],[81,12,91,10,"fovRadians"],[81,22,91,20],[81,25,91,24,"fovDegrees"],[81,35,91,34],[81,38,91,37,"Math"],[81,42,91,41],[81,43,91,42,"PI"],[81,45,91,44],[81,48,91,48],[81,51,91,51],[82,6,92,4],[82,12,92,10,"focalLengthPixels"],[82,29,92,27],[82,32,92,30,"frameHeight"],[82,43,92,41],[82,47,92,45],[82,48,92,46],[82,51,92,49,"Math"],[82,55,92,53],[82,56,92,54,"tan"],[82,59,92,57],[82,60,92,58,"fovRadians"],[82,70,92,68],[82,73,92,71],[82,74,92,72],[82,75,92,73],[82,76,92,74],[84,6,94,4],[85,6,95,4],[86,6,96,4],[86,12,96,10,"metersPerPixel"],[86,26,96,24],[86,29,96,28,"cameraDistanceCm"],[86,45,96,44],[86,48,96,47],[86,51,96,50],[86,54,96,54,"focalLengthPixels"],[86,71,96,71],[87,6,97,4],[87,12,97,10,"metersPerNormalized"],[87,31,97,29],[87,34,97,32,"metersPerPixel"],[87,48,97,46],[87,51,97,49,"frameHeight"],[87,62,97,60],[88,6,99,4],[88,13,99,11,"metersPerNormalized"],[88,32,99,30],[89,4,100,2],[91,4,102,2],[92,0,103,0],[93,0,104,0],[94,4,105,10,"normalizedToMeters"],[94,22,105,28,"normalizedToMeters"],[94,23,105,29,"normalizedDelta"],[94,38,105,52],[94,40,105,62],[95,6,106,4],[95,13,106,11,"normalizedDelta"],[95,28,106,26],[95,31,106,29],[95,35,106,33],[95,36,106,34,"metersPerNormalizedUnit"],[95,59,106,57],[96,4,107,2],[98,4,109,2],[99,0,110,0],[100,0,111,0],[101,0,112,0],[102,0,113,0],[103,0,114,0],[104,0,115,0],[105,4,116,2,"update"],[105,10,116,8,"update"],[105,11,116,9,"position"],[105,19,116,35],[105,21,116,53],[106,6,117,4],[107,6,118,4],[107,10,118,8],[107,11,118,9,"positionBuffer"],[107,25,118,23],[107,26,118,24,"push"],[107,30,118,28],[107,31,118,29,"position"],[107,39,118,37],[107,40,118,38],[109,6,120,4],[110,6,121,4],[110,12,121,10,"maxBufferSize"],[110,25,121,23],[110,28,121,26],[110,32,121,30],[110,33,121,31,"config"],[110,39,121,37],[110,40,121,38,"smoothingWindowSize"],[110,59,121,57],[110,62,121,60],[110,63,121,61],[111,6,122,4],[111,13,122,11],[111,17,122,15],[111,18,122,16,"positionBuffer"],[111,32,122,30],[111,33,122,31,"length"],[111,39,122,37],[111,42,122,40,"maxBufferSize"],[111,55,122,53],[111,57,122,55],[112,8,123,6],[112,12,123,10],[112,13,123,11,"positionBuffer"],[112,27,123,25],[112,28,123,26,"shift"],[112,33,123,31],[112,34,123,32],[112,35,123,33],[113,6,124,4],[115,6,126,4],[116,6,127,4],[116,10,127,8],[116,14,127,12],[116,15,127,13,"positionBuffer"],[116,29,127,27],[116,30,127,28,"length"],[116,36,127,34],[116,39,127,37],[116,40,127,38],[116,42,127,40],[117,8,128,6],[117,15,128,13],[117,19,128,17],[117,20,128,18,"createResult"],[117,32,128,30],[117,33,128,31],[117,34,128,32],[117,36,128,34],[117,37,128,35],[117,39,128,37],[117,40,128,38],[117,42,128,40],[117,47,128,45],[117,48,128,46],[118,6,129,4],[120,6,131,4],[121,6,132,4],[121,12,132,10,"current"],[121,19,132,17],[121,22,132,20],[121,26,132,24],[121,27,132,25,"positionBuffer"],[121,41,132,39],[121,42,132,40],[121,46,132,44],[121,47,132,45,"positionBuffer"],[121,61,132,59],[121,62,132,60,"length"],[121,68,132,66],[121,71,132,69],[121,72,132,70],[121,73,132,71],[122,6,133,4],[122,12,133,10,"previous"],[122,20,133,18],[122,23,133,21],[122,27,133,25],[122,28,133,26,"positionBuffer"],[122,42,133,40],[122,43,133,41],[122,47,133,45],[122,48,133,46,"positionBuffer"],[122,62,133,60],[122,63,133,61,"length"],[122,69,133,67],[122,72,133,70],[122,73,133,71],[122,74,133,72],[124,6,135,4],[125,6,136,4],[125,12,136,10,"deltaTimeMs"],[125,23,136,21],[125,26,136,24,"current"],[125,33,136,31],[125,34,136,32,"timestamp"],[125,43,136,41],[125,46,136,44,"previous"],[125,54,136,52],[125,55,136,53,"timestamp"],[125,64,136,62],[126,6,137,4],[126,12,137,10,"deltaTimeSec"],[126,24,137,22],[126,27,137,25,"deltaTimeMs"],[126,38,137,36],[126,41,137,39],[126,45,137,43],[128,6,139,4],[129,6,140,4],[129,10,140,8,"deltaTimeSec"],[129,22,140,20],[129,26,140,24],[129,27,140,25],[129,31,140,29,"deltaTimeSec"],[129,43,140,41],[129,46,140,44],[129,47,140,45],[129,49,140,47],[130,8,141,6],[130,15,141,13],[130,19,141,17],[130,20,141,18,"createResult"],[130,32,141,30],[130,33,141,31],[130,34,141,32],[130,36,141,34],[130,40,141,38],[130,41,141,39,"lastValidVelocity"],[130,58,141,56],[130,60,141,58],[130,61,141,59],[130,63,141,61],[130,68,141,66],[130,69,141,67],[131,6,142,4],[133,6,144,4],[134,6,145,4],[135,6,146,4],[136,6,147,4],[136,12,147,10,"deltaY"],[136,18,147,16],[136,21,147,19,"current"],[136,28,147,26],[136,29,147,27,"y"],[136,30,147,28],[136,33,147,31,"previous"],[136,41,147,39],[136,42,147,40,"y"],[136,43,147,41],[138,6,149,4],[139,6,150,4],[139,12,150,10,"deltaMeters"],[139,23,150,21],[139,26,150,24],[139,30,150,28],[139,31,150,29,"normalizedToMeters"],[139,49,150,47],[139,50,150,48,"Math"],[139,54,150,52],[139,55,150,53,"abs"],[139,58,150,56],[139,59,150,57,"deltaY"],[139,65,150,63],[139,66,150,64],[139,67,150,65],[141,6,152,4],[142,6,153,4],[142,12,153,10,"instantVelocity"],[142,27,153,25],[142,30,153,28,"deltaMeters"],[142,41,153,39],[142,44,153,42,"deltaTimeSec"],[142,56,153,54],[144,6,155,4],[145,6,156,4],[145,12,156,10,"isAboveThreshold"],[145,28,156,26],[145,31,156,29,"instantVelocity"],[145,46,156,44],[145,50,156,48],[145,54,156,52],[145,55,156,53,"config"],[145,61,156,59],[145,62,156,60,"noiseThresholdMs"],[145,78,156,76],[147,6,158,4],[148,6,159,4],[148,12,159,10,"isBelowMax"],[148,22,159,20],[148,25,159,23,"instantVelocity"],[148,40,159,38],[148,44,159,42],[148,48,159,46],[148,49,159,47,"config"],[148,55,159,53],[148,56,159,54,"maxValidVelocityMs"],[148,74,159,72],[149,6,161,4],[149,12,161,10,"isValid"],[149,19,161,17],[149,22,161,20,"isAboveThreshold"],[149,38,161,36],[149,42,161,40,"isBelowMax"],[149,52,161,50],[151,6,163,4],[152,6,164,4],[152,10,164,8,"isValid"],[152,17,164,15],[152,19,164,17],[153,8,165,6],[153,12,165,10],[153,13,165,11,"velocityBuffer"],[153,27,165,25],[153,28,165,26,"push"],[153,32,165,30],[153,33,165,31,"instantVelocity"],[153,48,165,46],[153,49,165,47],[155,8,167,6],[156,8,168,6],[156,15,168,13],[156,19,168,17],[156,20,168,18,"velocityBuffer"],[156,34,168,32],[156,35,168,33,"length"],[156,41,168,39],[156,44,168,42],[156,48,168,46],[156,49,168,47,"config"],[156,55,168,53],[156,56,168,54,"smoothingWindowSize"],[156,75,168,73],[156,77,168,75],[157,10,169,8],[157,14,169,12],[157,15,169,13,"velocityBuffer"],[157,29,169,27],[157,30,169,28,"shift"],[157,35,169,33],[157,36,169,34],[157,37,169,35],[158,8,170,6],[159,6,171,4],[161,6,173,4],[162,6,174,4],[162,12,174,10,"smoothedVelocity"],[162,28,174,26],[162,31,174,29],[162,35,174,33],[162,36,174,34,"calculateSmoothedVelocity"],[162,61,174,59],[162,62,174,60],[162,63,174,61],[164,6,176,4],[165,6,177,4],[165,10,177,8,"isValid"],[165,17,177,15],[165,19,177,17],[166,8,178,6],[166,12,178,10],[166,13,178,11,"lastValidVelocity"],[166,30,178,28],[166,33,178,31,"smoothedVelocity"],[166,49,178,47],[167,6,179,4],[168,6,181,4],[168,13,181,11],[168,17,181,15],[168,18,181,16,"createResult"],[168,30,181,28],[168,31,182,6,"isValid"],[168,38,182,13],[168,41,182,16,"instantVelocity"],[168,56,182,31],[168,59,182,34],[168,60,182,35],[168,62,183,6,"smoothedVelocity"],[168,78,183,22],[168,80,184,6,"deltaY"],[168,86,184,12],[168,88,185,6,"isValid"],[168,95,186,4],[168,96,186,5],[169,4,187,2],[171,4,189,2],[172,0,190,0],[173,0,191,0],[174,4,192,10,"calculateSmoothedVelocity"],[174,29,192,35,"calculateSmoothedVelocity"],[174,30,192,35],[174,32,192,46],[175,6,193,4],[175,10,193,8],[175,14,193,12],[175,15,193,13,"velocityBuffer"],[175,29,193,27],[175,30,193,28,"length"],[175,36,193,34],[175,41,193,39],[175,42,193,40],[175,44,193,42],[176,8,194,6],[176,15,194,13],[176,16,194,14],[177,6,195,4],[178,6,197,4],[178,12,197,10,"sum"],[178,15,197,13],[178,18,197,16],[178,22,197,20],[178,23,197,21,"velocityBuffer"],[178,37,197,35],[178,38,197,36,"reduce"],[178,44,197,42],[178,45,197,43],[178,46,197,44,"acc"],[178,49,197,47],[178,51,197,49,"v"],[178,52,197,50],[178,57,197,55,"acc"],[178,60,197,58],[178,63,197,61,"v"],[178,64,197,62],[178,66,197,64],[178,67,197,65],[178,68,197,66],[179,6,198,4],[179,13,198,11,"sum"],[179,16,198,14],[179,19,198,17],[179,23,198,21],[179,24,198,22,"velocityBuffer"],[179,38,198,36],[179,39,198,37,"length"],[179,45,198,43],[180,4,199,2],[182,4,201,2],[183,0,202,0],[184,0,203,0],[185,4,204,10,"createResult"],[185,16,204,22,"createResult"],[185,17,205,4,"instantVelocity"],[185,32,205,27],[185,34,206,4,"smoothedVelocity"],[185,50,206,28],[185,52,207,4,"deltaY"],[185,58,207,18],[185,60,208,4,"isValid"],[185,67,208,20],[185,69,209,20],[186,6,210,4],[187,6,211,4],[188,6,212,4],[189,6,213,4],[189,10,213,8,"direction"],[189,19,213,47],[189,22,213,50],[189,34,213,62],[190,6,215,4],[190,10,215,8,"Math"],[190,14,215,12],[190,15,215,13,"abs"],[190,18,215,16],[190,19,215,17,"deltaY"],[190,25,215,23],[190,26,215,24],[190,30,215,28],[190,35,215,33],[190,37,215,35],[191,8,215,37],[192,8,216,6,"direction"],[192,17,216,15],[192,20,216,18,"deltaY"],[192,26,216,24],[192,29,216,27],[192,30,216,28],[192,33,216,31],[192,37,216,35],[192,40,216,38],[192,46,216,44],[193,6,217,4],[194,6,219,4],[194,13,219,11],[195,8,220,6,"instantVelocity"],[195,23,220,21],[195,25,220,23,"Math"],[195,29,220,27],[195,30,220,28,"round"],[195,35,220,33],[195,36,220,34,"instantVelocity"],[195,51,220,49],[195,54,220,52],[195,58,220,56],[195,59,220,57],[195,62,220,60],[195,66,220,64],[196,8,220,66],[197,8,221,6,"smoothedVelocity"],[197,24,221,22],[197,26,221,24,"Math"],[197,30,221,28],[197,31,221,29,"round"],[197,36,221,34],[197,37,221,35,"smoothedVelocity"],[197,53,221,51],[197,56,221,54],[197,60,221,58],[197,61,221,59],[197,64,221,62],[197,68,221,66],[198,8,222,6,"direction"],[198,17,222,15],[199,8,223,6,"deltaY"],[199,14,223,12],[200,8,224,6,"deltaTime"],[200,17,224,15],[200,19,224,17],[200,23,224,21],[200,24,224,22,"positionBuffer"],[200,38,224,36],[200,39,224,37,"length"],[200,45,224,43],[200,49,224,47],[200,50,224,48],[200,53,225,10],[200,54,225,11],[200,58,225,15],[200,59,225,16,"positionBuffer"],[200,73,225,30],[200,74,225,31],[200,78,225,35],[200,79,225,36,"positionBuffer"],[200,93,225,50],[200,94,225,51,"length"],[200,100,225,57],[200,103,225,60],[200,104,225,61],[200,105,225,62],[200,106,225,63,"timestamp"],[200,115,225,72],[200,118,226,11],[200,122,226,15],[200,123,226,16,"positionBuffer"],[200,137,226,30],[200,138,226,31],[200,142,226,35],[200,143,226,36,"positionBuffer"],[200,157,226,50],[200,158,226,51,"length"],[200,164,226,57],[200,167,226,60],[200,168,226,61],[200,169,226,62],[200,170,226,63,"timestamp"],[200,179,226,72],[200,183,226,76],[200,187,226,80],[200,190,227,10],[200,191,227,11],[201,8,228,6,"isValid"],[202,6,229,4],[202,7,229,5],[203,4,230,2],[205,4,232,2],[206,0,233,0],[207,0,234,0],[208,4,235,2,"getVelocity"],[208,15,235,13,"getVelocity"],[208,16,235,13],[208,18,235,24],[209,6,236,4],[209,13,236,11],[209,17,236,15],[209,18,236,16,"lastValidVelocity"],[209,35,236,33],[210,4,237,2],[212,4,239,2],[213,0,240,0],[214,0,241,0],[215,4,242,2,"getVelocityBuffer"],[215,21,242,19,"getVelocityBuffer"],[215,22,242,19],[215,24,242,32],[216,6,243,4],[216,13,243,11],[216,14,243,12],[216,17,243,15],[216,21,243,19],[216,22,243,20,"velocityBuffer"],[216,36,243,34],[216,37,243,35],[217,4,244,2],[219,4,246,2],[220,0,247,0],[221,0,248,0],[222,4,249,2,"getBufferSize"],[222,17,249,15,"getBufferSize"],[222,18,249,15],[222,20,249,26],[223,6,250,4],[223,13,250,11],[223,17,250,15],[223,18,250,16,"positionBuffer"],[223,32,250,30],[223,33,250,31,"length"],[223,39,250,37],[224,4,251,2],[226,4,253,2],[227,0,254,0],[228,0,255,0],[229,4,256,2,"updateCalibration"],[229,21,256,19,"updateCalibration"],[229,22,256,20,"calibration"],[229,33,256,61],[229,35,256,69],[230,6,257,4],[230,10,257,8],[230,11,257,9,"config"],[230,17,257,15],[230,18,257,16,"calibration"],[230,29,257,27],[230,32,257,27,"Object"],[230,38,257,27],[230,39,257,27,"assign"],[230,45,257,27],[230,50,257,35],[230,54,257,39],[230,55,257,40,"config"],[230,61,257,46],[230,62,257,47,"calibration"],[230,73,257,58],[230,75,257,63,"calibration"],[230,86,257,74],[230,87,257,76],[231,6,258,4],[231,10,258,8],[231,11,258,9,"metersPerNormalizedUnit"],[231,34,258,32],[231,37,258,35],[231,41,258,39],[231,42,258,40,"calculateMetersPerUnit"],[231,64,258,62],[231,65,258,63],[231,66,258,64],[232,4,259,2],[234,4,261,2],[235,0,262,0],[236,0,263,0],[237,4,264,2,"reset"],[237,9,264,7,"reset"],[237,10,264,7],[237,12,264,16],[238,6,265,4],[238,10,265,8],[238,11,265,9,"positionBuffer"],[238,25,265,23],[238,28,265,26],[238,30,265,28],[239,6,266,4],[239,10,266,8],[239,11,266,9,"velocityBuffer"],[239,25,266,23],[239,28,266,26],[239,30,266,28],[240,6,267,4],[240,10,267,8],[240,11,267,9,"lastValidVelocity"],[240,28,267,26],[240,31,267,29],[240,32,267,30],[241,4,268,2],[242,2,269,0],[244,2,271,0],[245,0,272,0],[246,0,273,0],[247,2,274,7],[247,11,274,16,"createVelocityCalculator"],[247,35,274,40,"createVelocityCalculator"],[247,36,275,2,"config"],[247,42,275,44],[247,44,276,22],[248,4,277,2],[248,11,277,9],[248,15,277,13,"VelocityCalculator"],[248,33,277,31],[248,34,277,32,"config"],[248,40,277,38],[248,41,277,39],[249,2,278,0],[250,2,280,0],[250,6,280,0,"_default"],[250,14,280,0],[250,17,280,15,"VelocityCalculator"],[250,35,280,33],[251,0,280,34],[251,3]],"functionMap":{"names":["<global>","VelocityCalculator","constructor","calculateMetersPerUnit","normalizedToMeters","update","calculateSmoothedVelocity","velocityBuffer.reduce$argument_0","createResult","getVelocity","getVelocityBuffer","getBufferSize","updateCalibration","reset","createVelocityCalculator"],"mappings":"AAA;OCgE;ECO;GDS;EEM;GFa;EGK;GHE;EIS;GJuE;EKK;2CCK,mBD;GLE;EOK;GP0B;EQK;GRE;ESK;GTE;EUK;GVE;EWK;GXG;EYK;GZI;CDC;OcK;CdI"},"hasCjsExports":false},"type":"js/module"}]}