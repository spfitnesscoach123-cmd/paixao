{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"REVENUECAT_CONFIG\", {\n    enumerable: true,\n    get: function () {\n      return REVENUECAT_CONFIG;\n    }\n  });\n  Object.defineProperty(exports, \"getPremiumEntitlement\", {\n    enumerable: true,\n    get: function () {\n      return getPremiumEntitlement;\n    }\n  });\n  Object.defineProperty(exports, \"getSubscriptionExpirationDate\", {\n    enumerable: true,\n    get: function () {\n      return getSubscriptionExpirationDate;\n    }\n  });\n  Object.defineProperty(exports, \"checkPremiumAccessFromInfo\", {\n    enumerable: true,\n    get: function () {\n      return checkPremiumAccessFromInfo;\n    }\n  });\n  Object.defineProperty(exports, \"hasProEntitlement\", {\n    enumerable: true,\n    get: function () {\n      return hasProEntitlement;\n    }\n  });\n  Object.defineProperty(exports, \"isInTrialPeriod\", {\n    enumerable: true,\n    get: function () {\n      return isInTrialPeriod;\n    }\n  });\n  Object.defineProperty(exports, \"getManagementURL\", {\n    enumerable: true,\n    get: function () {\n      return getManagementURL;\n    }\n  });\n  Object.defineProperty(exports, \"getApiKey\", {\n    enumerable: true,\n    get: function () {\n      return getApiKey;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // RevenueCat configuration\n  // These keys should be configured in RevenueCat dashboard\n  const REVENUECAT_CONFIG = {\n    // Public API keys from RevenueCat dashboard (safe to include in client code)\n    APPLE_API_KEY: _expoVirtualEnv.env.EXPO_PUBLIC_REVENUECAT_APPLE_KEY || '',\n    GOOGLE_API_KEY: _expoVirtualEnv.env.EXPO_PUBLIC_REVENUECAT_GOOGLE_KEY || '',\n    // Entitlement identifier configured in RevenueCat dashboard\n    // IMPORTANTE: Usar \"premium\" como identificador do entitlement\n    PREMIUM_ENTITLEMENT_ID: 'premium',\n    // Product identifiers (must match App Store Connect / Google Play Console)\n    PRODUCT_IDS: {\n      PRO_MONTHLY: 'com.peakperform.pro.monthly'\n    },\n    // Offering identifier\n    DEFAULT_OFFERING: 'default'\n  };\n\n  // Type definitions for RevenueCat\n\n  /**\n   * FONTE ÚNICA DA VERDADE: expirationDate\n   * \n   * O acesso premium é determinado EXCLUSIVAMENTE pela expirationDate do entitlement \"premium\".\n   * \n   * Regras:\n   * - premium = expirationDate > now\n   * - NÃO usar: entitlements.active, isActive, isTrial, isSubscribed, isCancelled, cache\n   * \n   * Comportamento:\n   * 1. Trial ativo → acesso completo\n   * 2. Trial cancelado mas dentro do período → acesso completo\n   * 3. Assinatura ativa → acesso completo\n   * 4. Assinatura cancelada mas dentro do período → acesso completo\n   * 5. expirationDate < now → bloquear acesso\n   */\n\n  /**\n   * Obtém o entitlement \"premium\" de entitlements.all (NÃO de entitlements.active)\n   * Isso garante que temos acesso à expirationDate mesmo após cancelamento\n   */\n  const getPremiumEntitlement = customerInfo => {\n    if (!customerInfo) return null;\n\n    // IMPORTANTE: Buscar de entitlements.all, NÃO de entitlements.active\n    // entitlements.all contém todos os entitlements, incluindo cancelados\n    const entitlement = customerInfo.entitlements.all[REVENUECAT_CONFIG.PREMIUM_ENTITLEMENT_ID];\n    return entitlement || null;\n  };\n\n  /**\n   * Obtém a data de expiração do entitlement premium\n   * Esta é a ÚNICA fonte de verdade para determinar acesso\n   */\n  const getSubscriptionExpirationDate = customerInfo => {\n    const entitlement = getPremiumEntitlement(customerInfo);\n    if (!entitlement || !entitlement.expirationDate) {\n      return null;\n    }\n    return new Date(entitlement.expirationDate);\n  };\n\n  /**\n   * FUNÇÃO PRINCIPAL: Verifica se o usuário tem acesso premium\n   * \n   * REGRA ÚNICA: premium = expirationDate > now\n   * \n   * NÃO usa: isActive, isTrial, entitlements.active, etc.\n   */\n  const checkPremiumAccessFromInfo = customerInfo => {\n    const entitlement = getPremiumEntitlement(customerInfo);\n    if (!entitlement || !entitlement.expirationDate) {\n      console.log('[PREMIUM] No entitlement or expirationDate found');\n      return false;\n    }\n    const expirationDate = new Date(entitlement.expirationDate);\n    const now = new Date();\n    const hasAccess = expirationDate > now;\n    console.log('[PREMIUM] Premium entitlement:', entitlement);\n    console.log('[PREMIUM] Expiration date:', entitlement.expirationDate);\n    console.log('[PREMIUM] Current date:', now.toISOString());\n    console.log('[PREMIUM] Premium access:', hasAccess);\n    return hasAccess;\n  };\n\n  /**\n   * @deprecated Use checkPremiumAccessFromInfo instead\n   * Mantido para compatibilidade, mas internamente usa a nova lógica\n   */\n  const hasProEntitlement = customerInfo => {\n    return checkPremiumAccessFromInfo(customerInfo);\n  };\n\n  /**\n   * Verifica se está em período de trial (informativo apenas, NÃO afeta acesso)\n   * O acesso é determinado EXCLUSIVAMENTE pela expirationDate\n   */\n  const isInTrialPeriod = customerInfo => {\n    const entitlement = getPremiumEntitlement(customerInfo);\n    if (!entitlement) return false;\n    return entitlement.periodType === 'trial';\n  };\n\n  /**\n   * Helper to get management URL for subscription\n   */\n  const getManagementURL = customerInfo => {\n    if (!customerInfo) return null;\n    return customerInfo.managementURL;\n  };\n\n  /**\n   * Get platform-specific API key\n   */\n  const getApiKey = () => {\n    if (Platform.default.OS === 'ios') {\n      return REVENUECAT_CONFIG.APPLE_API_KEY;\n    } else if (Platform.default.OS === 'android') {\n      return REVENUECAT_CONFIG.GOOGLE_API_KEY;\n    }\n    return '';\n  };\n  var _default = REVENUECAT_CONFIG;\n});","lineCount":191,"map":[[12,2,190,0,"Object"],[12,8,190,0],[12,9,190,0,"defineProperty"],[12,23,190,0],[12,24,190,0,"exports"],[12,31,190,0],[13,4,190,0,"enumerable"],[13,14,190,0],[14,4,190,0,"get"],[14,7,190,0],[14,18,190,0,"get"],[14,19,190,0],[15,6,190,0],[15,13,190,0,"_default"],[15,21,190,0],[16,4,190,0],[17,2,190,0],[18,2,5,0,"Object"],[18,8,5,0],[18,9,5,0,"defineProperty"],[18,23,5,0],[18,24,5,0,"exports"],[18,31,5,0],[19,4,5,0,"enumerable"],[19,14,5,0],[20,4,5,0,"get"],[20,7,5,0],[20,18,5,0,"get"],[20,19,5,0],[21,6,5,0],[21,13,5,0,"REVENUECAT_CONFIG"],[21,30,5,0],[22,4,5,0],[23,2,5,0],[24,2,100,0,"Object"],[24,8,100,0],[24,9,100,0,"defineProperty"],[24,23,100,0],[24,24,100,0,"exports"],[24,31,100,0],[25,4,100,0,"enumerable"],[25,14,100,0],[26,4,100,0,"get"],[26,7,100,0],[26,18,100,0,"get"],[26,19,100,0],[27,6,100,0],[27,13,100,0,"getPremiumEntitlement"],[27,34,100,0],[28,4,100,0],[29,2,100,0],[30,2,114,0,"Object"],[30,8,114,0],[30,9,114,0,"defineProperty"],[30,23,114,0],[30,24,114,0,"exports"],[30,31,114,0],[31,4,114,0,"enumerable"],[31,14,114,0],[32,4,114,0,"get"],[32,7,114,0],[32,18,114,0,"get"],[32,19,114,0],[33,6,114,0],[33,13,114,0,"getSubscriptionExpirationDate"],[33,42,114,0],[34,4,114,0],[35,2,114,0],[36,2,131,0,"Object"],[36,8,131,0],[36,9,131,0,"defineProperty"],[36,23,131,0],[36,24,131,0,"exports"],[36,31,131,0],[37,4,131,0,"enumerable"],[37,14,131,0],[38,4,131,0,"get"],[38,7,131,0],[38,18,131,0,"get"],[38,19,131,0],[39,6,131,0],[39,13,131,0,"checkPremiumAccessFromInfo"],[39,39,131,0],[40,4,131,0],[41,2,131,0],[42,2,155,0,"Object"],[42,8,155,0],[42,9,155,0,"defineProperty"],[42,23,155,0],[42,24,155,0,"exports"],[42,31,155,0],[43,4,155,0,"enumerable"],[43,14,155,0],[44,4,155,0,"get"],[44,7,155,0],[44,18,155,0,"get"],[44,19,155,0],[45,6,155,0],[45,13,155,0,"hasProEntitlement"],[45,30,155,0],[46,4,155,0],[47,2,155,0],[48,2,163,0,"Object"],[48,8,163,0],[48,9,163,0,"defineProperty"],[48,23,163,0],[48,24,163,0,"exports"],[48,31,163,0],[49,4,163,0,"enumerable"],[49,14,163,0],[50,4,163,0,"get"],[50,7,163,0],[50,18,163,0,"get"],[50,19,163,0],[51,6,163,0],[51,13,163,0,"isInTrialPeriod"],[51,28,163,0],[52,4,163,0],[53,2,163,0],[54,2,173,0,"Object"],[54,8,173,0],[54,9,173,0,"defineProperty"],[54,23,173,0],[54,24,173,0,"exports"],[54,31,173,0],[55,4,173,0,"enumerable"],[55,14,173,0],[56,4,173,0,"get"],[56,7,173,0],[56,18,173,0,"get"],[56,19,173,0],[57,6,173,0],[57,13,173,0,"getManagementURL"],[57,29,173,0],[58,4,173,0],[59,2,173,0],[60,2,181,0,"Object"],[60,8,181,0],[60,9,181,0,"defineProperty"],[60,23,181,0],[60,24,181,0,"exports"],[60,31,181,0],[61,4,181,0,"enumerable"],[61,14,181,0],[62,4,181,0,"get"],[62,7,181,0],[62,18,181,0,"get"],[62,19,181,0],[63,6,181,0],[63,13,181,0,"getApiKey"],[63,22,181,0],[64,4,181,0],[65,2,181,0],[66,2,188,2],[66,6,188,2,"_expoVirtualEnv"],[66,21,188,2],[66,24,188,2,"require"],[66,31,188,2],[66,32,188,2,"_dependencyMap"],[66,46,188,2],[67,2,188,2],[67,6,188,2,"_reactNativeWebDistExportsPlatform"],[67,40,188,2],[67,43,188,2,"require"],[67,50,188,2],[67,51,188,2,"_dependencyMap"],[67,65,188,2],[68,2,188,2],[68,6,188,2,"Platform"],[68,14,188,2],[68,17,188,2,"_interopDefault"],[68,32,188,2],[68,33,188,2,"_reactNativeWebDistExportsPlatform"],[68,67,188,2],[69,2,3,0],[70,2,4,0],[71,2,5,7],[71,8,5,13,"REVENUECAT_CONFIG"],[71,25,5,30],[71,28,5,33],[72,4,6,2],[73,4,7,2,"APPLE_API_KEY"],[73,17,7,15],[73,19,7,17,"_expoVirtualEnv"],[73,34,7,17],[73,35,7,17,"env"],[73,38,7,17],[73,39,7,17,"EXPO_PUBLIC_REVENUECAT_APPLE_KEY"],[73,71,7,17],[73,75,7,65],[73,77,7,67],[74,4,8,2,"GOOGLE_API_KEY"],[74,18,8,16],[74,20,8,18,"_expoVirtualEnv"],[74,35,8,18],[74,36,8,18,"env"],[74,39,8,18],[74,40,8,18,"EXPO_PUBLIC_REVENUECAT_GOOGLE_KEY"],[74,73,8,18],[74,77,8,67],[74,79,8,69],[75,4,10,2],[76,4,11,2],[77,4,12,2,"PREMIUM_ENTITLEMENT_ID"],[77,26,12,24],[77,28,12,26],[77,37,12,35],[78,4,14,2],[79,4,15,2,"PRODUCT_IDS"],[79,15,15,13],[79,17,15,15],[80,6,16,4,"PRO_MONTHLY"],[80,17,16,15],[80,19,16,17],[81,4,17,2],[81,5,17,3],[82,4,19,2],[83,4,20,2,"DEFAULT_OFFERING"],[83,20,20,18],[83,22,20,20],[84,2,21,0],[84,3,21,1],[86,2,23,0],[88,2,79,0],[89,0,80,0],[90,0,81,0],[91,0,82,0],[92,0,83,0],[93,0,84,0],[94,0,85,0],[95,0,86,0],[96,0,87,0],[97,0,88,0],[98,0,89,0],[99,0,90,0],[100,0,91,0],[101,0,92,0],[102,0,93,0],[103,0,94,0],[105,2,96,0],[106,0,97,0],[107,0,98,0],[108,0,99,0],[109,2,100,7],[109,8,100,13,"getPremiumEntitlement"],[109,29,100,34],[109,32,100,38,"customerInfo"],[109,44,100,81],[109,48,100,98],[110,4,101,2],[110,8,101,6],[110,9,101,7,"customerInfo"],[110,21,101,19],[110,23,101,21],[110,30,101,28],[110,34,101,32],[112,4,103,2],[113,4,104,2],[114,4,105,2],[114,10,105,8,"entitlement"],[114,21,105,19],[114,24,105,22,"customerInfo"],[114,36,105,34],[114,37,105,35,"entitlements"],[114,49,105,47],[114,50,105,48,"all"],[114,53,105,51],[114,54,105,52,"REVENUECAT_CONFIG"],[114,71,105,69],[114,72,105,70,"PREMIUM_ENTITLEMENT_ID"],[114,94,105,92],[114,95,105,93],[115,4,107,2],[115,11,107,9,"entitlement"],[115,22,107,20],[115,26,107,24],[115,30,107,28],[116,2,108,0],[116,3,108,1],[118,2,110,0],[119,0,111,0],[120,0,112,0],[121,0,113,0],[122,2,114,7],[122,8,114,13,"getSubscriptionExpirationDate"],[122,37,114,42],[122,40,114,46,"customerInfo"],[122,52,114,89],[122,56,114,107],[123,4,115,2],[123,10,115,8,"entitlement"],[123,21,115,19],[123,24,115,22,"getPremiumEntitlement"],[123,45,115,43],[123,46,115,44,"customerInfo"],[123,58,115,56],[123,59,115,57],[124,4,117,2],[124,8,117,6],[124,9,117,7,"entitlement"],[124,20,117,18],[124,24,117,22],[124,25,117,23,"entitlement"],[124,36,117,34],[124,37,117,35,"expirationDate"],[124,51,117,49],[124,53,117,51],[125,6,118,4],[125,13,118,11],[125,17,118,15],[126,4,119,2],[127,4,121,2],[127,11,121,9],[127,15,121,13,"Date"],[127,19,121,17],[127,20,121,18,"entitlement"],[127,31,121,29],[127,32,121,30,"expirationDate"],[127,46,121,44],[127,47,121,45],[128,2,122,0],[128,3,122,1],[130,2,124,0],[131,0,125,0],[132,0,126,0],[133,0,127,0],[134,0,128,0],[135,0,129,0],[136,0,130,0],[137,2,131,7],[137,8,131,13,"checkPremiumAccessFromInfo"],[137,34,131,39],[137,37,131,43,"customerInfo"],[137,49,131,86],[137,53,131,100],[138,4,132,2],[138,10,132,8,"entitlement"],[138,21,132,19],[138,24,132,22,"getPremiumEntitlement"],[138,45,132,43],[138,46,132,44,"customerInfo"],[138,58,132,56],[138,59,132,57],[139,4,134,2],[139,8,134,6],[139,9,134,7,"entitlement"],[139,20,134,18],[139,24,134,22],[139,25,134,23,"entitlement"],[139,36,134,34],[139,37,134,35,"expirationDate"],[139,51,134,49],[139,53,134,51],[140,6,135,4,"console"],[140,13,135,11],[140,14,135,12,"log"],[140,17,135,15],[140,18,135,16],[140,68,135,66],[140,69,135,67],[141,6,136,4],[141,13,136,11],[141,18,136,16],[142,4,137,2],[143,4,139,2],[143,10,139,8,"expirationDate"],[143,24,139,22],[143,27,139,25],[143,31,139,29,"Date"],[143,35,139,33],[143,36,139,34,"entitlement"],[143,47,139,45],[143,48,139,46,"expirationDate"],[143,62,139,60],[143,63,139,61],[144,4,140,2],[144,10,140,8,"now"],[144,13,140,11],[144,16,140,14],[144,20,140,18,"Date"],[144,24,140,22],[144,25,140,23],[144,26,140,24],[145,4,141,2],[145,10,141,8,"hasAccess"],[145,19,141,17],[145,22,141,20,"expirationDate"],[145,36,141,34],[145,39,141,37,"now"],[145,42,141,40],[146,4,143,2,"console"],[146,11,143,9],[146,12,143,10,"log"],[146,15,143,13],[146,16,143,14],[146,48,143,46],[146,50,143,48,"entitlement"],[146,61,143,59],[146,62,143,60],[147,4,144,2,"console"],[147,11,144,9],[147,12,144,10,"log"],[147,15,144,13],[147,16,144,14],[147,44,144,42],[147,46,144,44,"entitlement"],[147,57,144,55],[147,58,144,56,"expirationDate"],[147,72,144,70],[147,73,144,71],[148,4,145,2,"console"],[148,11,145,9],[148,12,145,10,"log"],[148,15,145,13],[148,16,145,14],[148,41,145,39],[148,43,145,41,"now"],[148,46,145,44],[148,47,145,45,"toISOString"],[148,58,145,56],[148,59,145,57],[148,60,145,58],[148,61,145,59],[149,4,146,2,"console"],[149,11,146,9],[149,12,146,10,"log"],[149,15,146,13],[149,16,146,14],[149,43,146,41],[149,45,146,43,"hasAccess"],[149,54,146,52],[149,55,146,53],[150,4,148,2],[150,11,148,9,"hasAccess"],[150,20,148,18],[151,2,149,0],[151,3,149,1],[153,2,151,0],[154,0,152,0],[155,0,153,0],[156,0,154,0],[157,2,155,7],[157,8,155,13,"hasProEntitlement"],[157,25,155,30],[157,28,155,34,"customerInfo"],[157,40,155,77],[157,44,155,91],[158,4,156,2],[158,11,156,9,"checkPremiumAccessFromInfo"],[158,37,156,35],[158,38,156,36,"customerInfo"],[158,50,156,48],[158,51,156,49],[159,2,157,0],[159,3,157,1],[161,2,159,0],[162,0,160,0],[163,0,161,0],[164,0,162,0],[165,2,163,7],[165,8,163,13,"isInTrialPeriod"],[165,23,163,28],[165,26,163,32,"customerInfo"],[165,38,163,75],[165,42,163,89],[166,4,164,2],[166,10,164,8,"entitlement"],[166,21,164,19],[166,24,164,22,"getPremiumEntitlement"],[166,45,164,43],[166,46,164,44,"customerInfo"],[166,58,164,56],[166,59,164,57],[167,4,165,2],[167,8,165,6],[167,9,165,7,"entitlement"],[167,20,165,18],[167,22,165,20],[167,29,165,27],[167,34,165,32],[168,4,167,2],[168,11,167,9,"entitlement"],[168,22,167,20],[168,23,167,21,"periodType"],[168,33,167,31],[168,38,167,36],[168,45,167,43],[169,2,168,0],[169,3,168,1],[171,2,170,0],[172,0,171,0],[173,0,172,0],[174,2,173,7],[174,8,173,13,"getManagementURL"],[174,24,173,29],[174,27,173,33,"customerInfo"],[174,39,173,76],[174,43,173,96],[175,4,174,2],[175,8,174,6],[175,9,174,7,"customerInfo"],[175,21,174,19],[175,23,174,21],[175,30,174,28],[175,34,174,32],[176,4,175,2],[176,11,175,9,"customerInfo"],[176,23,175,21],[176,24,175,22,"managementURL"],[176,37,175,35],[177,2,176,0],[177,3,176,1],[179,2,178,0],[180,0,179,0],[181,0,180,0],[182,2,181,7],[182,8,181,13,"getApiKey"],[182,17,181,22],[182,20,181,25,"getApiKey"],[182,21,181,25],[182,26,181,39],[183,4,182,2],[183,8,182,6,"Platform"],[183,16,182,14],[183,17,182,14,"default"],[183,24,182,14],[183,25,182,15,"OS"],[183,27,182,17],[183,32,182,22],[183,37,182,27],[183,39,182,29],[184,6,183,4],[184,13,183,11,"REVENUECAT_CONFIG"],[184,30,183,28],[184,31,183,29,"APPLE_API_KEY"],[184,44,183,42],[185,4,184,2],[185,5,184,3],[185,11,184,9],[185,15,184,13,"Platform"],[185,23,184,21],[185,24,184,21,"default"],[185,31,184,21],[185,32,184,22,"OS"],[185,34,184,24],[185,39,184,29],[185,48,184,38],[185,50,184,40],[186,6,185,4],[186,13,185,11,"REVENUECAT_CONFIG"],[186,30,185,28],[186,31,185,29,"GOOGLE_API_KEY"],[186,45,185,43],[187,4,186,2],[188,4,187,2],[188,11,187,9],[188,13,187,11],[189,2,188,0],[189,3,188,1],[190,2,190,0],[190,6,190,0,"_default"],[190,14,190,0],[190,17,190,15,"REVENUECAT_CONFIG"],[190,34,190,32],[191,0,190,33],[191,3]],"functionMap":{"names":["<global>","getPremiumEntitlement","getSubscriptionExpirationDate","checkPremiumAccessFromInfo","hasProEntitlement","isInTrialPeriod","getManagementURL","getApiKey"],"mappings":"AAA;qCCmG;CDQ;6CEM;CFQ;0CGS;CHkB;iCIM;CJE;+BKM;CLK;gCMK;CNG;yBOK;CPO"},"hasCjsExports":false},"type":"js/module"}]}