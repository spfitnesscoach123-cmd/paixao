{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":120},"end":{"line":3,"column":39,"index":159}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":160},"end":{"line":4,"column":69,"index":229}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":230},"end":{"line":5,"column":50,"index":280}}],"key":"oNCgyH4yx4pAIVZXLqqRGB2kuCY=","exportNames":["*"],"imports":1}},{"name":"../constants/theme","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":281},"end":{"line":6,"column":44,"index":325}}],"key":"wYsGrLzOZoewJzHaXfZf3q7qjsE=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[5], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _contextsAuthContext = require(_dependencyMap[6], \"../contexts/AuthContext\");\n  var _constantsTheme = require(_dependencyMap[7], \"../constants/theme\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  const ROLE_SELECTED_KEY = 'role_selected';\n  function Index() {\n    _s();\n    const {\n      isAuthenticated,\n      isLoading\n    } = (0, _contextsAuthContext.useAuth)();\n    const [redirectTo, setRedirectTo] = (0, _react.useState)(null);\n    const [isChecking, setIsChecking] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkRoleAndRedirect();\n    }, [isAuthenticated, isLoading]);\n    const checkRoleAndRedirect = async () => {\n      if (isLoading) return;\n      try {\n        // Check if user has already selected a role\n        const roleSelected = await AsyncStorage.default.getItem(ROLE_SELECTED_KEY);\n        if (!roleSelected) {\n          // First time opening the app - show role selection\n          setRedirectTo('/role-select');\n          return;\n        }\n\n        // Role was selected before - check authentication\n        if (isAuthenticated) {\n          setRedirectTo('/(tabs)/athletes');\n        } else {\n          // If role is 'coach', go to login; if 'athlete', go to token entry\n          if (roleSelected === 'coach') {\n            setRedirectTo('/login');\n          } else {\n            setRedirectTo('/athlete-token');\n          }\n        }\n      } catch (error) {\n        // On error, default to role selection\n        setRedirectTo('/role-select');\n      } finally {\n        setIsChecking(false);\n      }\n    };\n\n    // Show loading while checking\n    if (isLoading || isChecking || !redirectTo) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.container,\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: _constantsTheme.colors.accent.primary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this);\n    }\n\n    // Use Redirect component for navigation\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Redirect, {\n      href: redirectTo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 10\n    }, this);\n  }\n  _s(Index, \"wUUcj4aZ6P0x3lORNsJenSDI4jA=\", false, function () {\n    return [_contextsAuthContext.useAuth];\n  });\n  _c = Index;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: _constantsTheme.colors.dark.primary\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":117,"map":[[14,2,10,15,"Object"],[14,8,10,15],[14,9,10,15,"defineProperty"],[14,23,10,15],[14,24,10,15,"exports"],[14,31,10,15],[15,4,10,15,"enumerable"],[15,14,10,15],[16,4,10,15,"get"],[16,7,10,15],[16,18,10,15,"get"],[16,19,10,15],[17,6,10,15],[17,13,10,15,"Index"],[17,18,10,15],[18,4,10,15],[19,2,10,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,51],[21,6,1,51,"_reactNativeWebDistExportsView"],[21,36,1,51],[21,39,1,51,"require"],[21,46,1,51],[21,47,1,51,"_dependencyMap"],[21,61,1,51],[22,2,1,51],[22,6,1,51,"View"],[22,10,1,51],[22,13,1,51,"_interopDefault"],[22,28,1,51],[22,29,1,51,"_reactNativeWebDistExportsView"],[22,59,1,51],[23,2,1,51],[23,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[23,49,1,51],[23,52,1,51,"require"],[23,59,1,51],[23,60,1,51,"_dependencyMap"],[23,74,1,51],[24,2,1,51],[24,6,1,51,"ActivityIndicator"],[24,23,1,51],[24,26,1,51,"_interopDefault"],[24,41,1,51],[24,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[24,85,1,51],[25,2,1,51],[25,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[25,42,1,51],[25,45,1,51,"require"],[25,52,1,51],[25,53,1,51,"_dependencyMap"],[25,67,1,51],[26,2,1,51],[26,6,1,51,"StyleSheet"],[26,16,1,51],[26,19,1,51,"_interopDefault"],[26,34,1,51],[26,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[26,71,1,51],[27,2,3,0],[27,6,3,0,"_expoRouter"],[27,17,3,0],[27,20,3,0,"require"],[27,27,3,0],[27,28,3,0,"_dependencyMap"],[27,42,3,0],[28,2,4,0],[28,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,4,0],[28,45,4,0,"require"],[28,52,4,0],[28,53,4,0,"_dependencyMap"],[28,67,4,0],[29,2,4,0],[29,6,4,0,"AsyncStorage"],[29,18,4,0],[29,21,4,0,"_interopDefault"],[29,36,4,0],[29,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,4,0],[30,2,5,0],[30,6,5,0,"_contextsAuthContext"],[30,26,5,0],[30,29,5,0,"require"],[30,36,5,0],[30,37,5,0,"_dependencyMap"],[30,51,5,0],[31,2,6,0],[31,6,6,0,"_constantsTheme"],[31,21,6,0],[31,24,6,0,"require"],[31,31,6,0],[31,32,6,0,"_dependencyMap"],[31,46,6,0],[32,2,6,44],[32,6,6,44,"_reactJsxDevRuntime"],[32,25,6,44],[32,28,6,44,"require"],[32,35,6,44],[32,36,6,44,"_dependencyMap"],[32,50,6,44],[33,2,8,0],[33,8,8,6,"ROLE_SELECTED_KEY"],[33,25,8,23],[33,28,8,26],[33,43,8,41],[34,2,10,15],[34,11,10,24,"Index"],[34,16,10,29,"Index"],[34,17,10,29],[34,19,10,32],[35,4,10,32,"_s"],[35,6,10,32],[36,4,11,2],[36,10,11,8],[37,6,11,10,"isAuthenticated"],[37,21,11,25],[38,6,11,27,"isLoading"],[39,4,11,37],[39,5,11,38],[39,8,11,41],[39,12,11,41,"useAuth"],[39,32,11,48],[39,33,11,48,"useAuth"],[39,40,11,48],[39,42,11,49],[39,43,11,50],[40,4,12,2],[40,10,12,8],[40,11,12,9,"redirectTo"],[40,21,12,19],[40,23,12,21,"setRedirectTo"],[40,36,12,34],[40,37,12,35],[40,40,12,38],[40,44,12,38,"useState"],[40,50,12,46],[40,51,12,46,"useState"],[40,59,12,46],[40,61,12,62],[40,65,12,66],[40,66,12,67],[41,4,13,2],[41,10,13,8],[41,11,13,9,"isChecking"],[41,21,13,19],[41,23,13,21,"setIsChecking"],[41,36,13,34],[41,37,13,35],[41,40,13,38],[41,44,13,38,"useState"],[41,50,13,46],[41,51,13,46,"useState"],[41,59,13,46],[41,61,13,47],[41,65,13,51],[41,66,13,52],[42,4,15,2],[42,8,15,2,"useEffect"],[42,14,15,11],[42,15,15,11,"useEffect"],[42,24,15,11],[42,26,15,12],[42,32,15,18],[43,6,16,4,"checkRoleAndRedirect"],[43,26,16,24],[43,27,16,25],[43,28,16,26],[44,4,17,2],[44,5,17,3],[44,7,17,5],[44,8,17,6,"isAuthenticated"],[44,23,17,21],[44,25,17,23,"isLoading"],[44,34,17,32],[44,35,17,33],[44,36,17,34],[45,4,19,2],[45,10,19,8,"checkRoleAndRedirect"],[45,30,19,28],[45,33,19,31],[45,39,19,31,"checkRoleAndRedirect"],[45,40,19,31],[45,45,19,43],[46,6,20,4],[46,10,20,8,"isLoading"],[46,19,20,17],[46,21,20,19],[47,6,22,4],[47,10,22,8],[48,8,23,6],[49,8,24,6],[49,14,24,12,"roleSelected"],[49,26,24,24],[49,29,24,27],[49,35,24,33,"AsyncStorage"],[49,47,24,45],[49,48,24,45,"default"],[49,55,24,45],[49,56,24,46,"getItem"],[49,63,24,53],[49,64,24,54,"ROLE_SELECTED_KEY"],[49,81,24,71],[49,82,24,72],[50,8,26,6],[50,12,26,10],[50,13,26,11,"roleSelected"],[50,25,26,23],[50,27,26,25],[51,10,27,8],[52,10,28,8,"setRedirectTo"],[52,23,28,21],[52,24,28,22],[52,38,28,36],[52,39,28,37],[53,10,29,8],[54,8,30,6],[56,8,32,6],[57,8,33,6],[57,12,33,10,"isAuthenticated"],[57,27,33,25],[57,29,33,27],[58,10,34,8,"setRedirectTo"],[58,23,34,21],[58,24,34,22],[58,42,34,40],[58,43,34,41],[59,8,35,6],[59,9,35,7],[59,15,35,13],[60,10,36,8],[61,10,37,8],[61,14,37,12,"roleSelected"],[61,26,37,24],[61,31,37,29],[61,38,37,36],[61,40,37,38],[62,12,38,10,"setRedirectTo"],[62,25,38,23],[62,26,38,24],[62,34,38,32],[62,35,38,33],[63,10,39,8],[63,11,39,9],[63,17,39,15],[64,12,40,10,"setRedirectTo"],[64,25,40,23],[64,26,40,24],[64,42,40,40],[64,43,40,41],[65,10,41,8],[66,8,42,6],[67,6,43,4],[67,7,43,5],[67,8,43,6],[67,15,43,13,"error"],[67,20,43,18],[67,22,43,20],[68,8,44,6],[69,8,45,6,"setRedirectTo"],[69,21,45,19],[69,22,45,20],[69,36,45,34],[69,37,45,35],[70,6,46,4],[70,7,46,5],[70,16,46,14],[71,8,47,6,"setIsChecking"],[71,21,47,19],[71,22,47,20],[71,27,47,25],[71,28,47,26],[72,6,48,4],[73,4,49,2],[73,5,49,3],[75,4,51,2],[76,4,52,2],[76,8,52,6,"isLoading"],[76,17,52,15],[76,21,52,19,"isChecking"],[76,31,52,29],[76,35,52,33],[76,36,52,34,"redirectTo"],[76,46,52,44],[76,48,52,46],[77,6,53,4],[77,26,54,6],[77,30,54,6,"_reactJsxDevRuntime"],[77,49,54,6],[77,50,54,6,"jsxDEV"],[77,56,54,6],[77,58,54,7,"View"],[77,62,54,11],[77,63,54,11,"default"],[77,70,54,11],[78,8,54,12,"style"],[78,13,54,17],[78,15,54,19,"styles"],[78,21,54,25],[78,22,54,26,"container"],[78,31,54,36],[79,8,54,36,"children"],[79,16,54,36],[79,31,55,8],[79,35,55,8,"_reactJsxDevRuntime"],[79,54,55,8],[79,55,55,8,"jsxDEV"],[79,61,55,8],[79,63,55,9,"ActivityIndicator"],[79,80,55,26],[79,81,55,26,"default"],[79,88,55,26],[80,10,55,27,"size"],[80,14,55,31],[80,16,55,32],[80,23,55,39],[81,10,55,40,"color"],[81,15,55,45],[81,17,55,47,"colors"],[81,32,55,53],[81,33,55,53,"colors"],[81,39,55,53],[81,40,55,54,"accent"],[81,46,55,60],[81,47,55,61,"primary"],[82,8,55,69],[83,10,55,69,"fileName"],[83,18,55,69],[83,20,55,69,"_jsxFileName"],[83,32,55,69],[84,10,55,69,"lineNumber"],[84,20,55,69],[85,10,55,69,"columnNumber"],[85,22,55,69],[86,8,55,69],[86,15,55,71],[87,6,55,72],[88,8,55,72,"fileName"],[88,16,55,72],[88,18,55,72,"_jsxFileName"],[88,30,55,72],[89,8,55,72,"lineNumber"],[89,18,55,72],[90,8,55,72,"columnNumber"],[90,20,55,72],[91,6,55,72],[91,13,56,12],[91,14,56,13],[92,4,58,2],[94,4,60,2],[95,4,61,2],[95,24,61,9],[95,28,61,9,"_reactJsxDevRuntime"],[95,47,61,9],[95,48,61,9,"jsxDEV"],[95,54,61,9],[95,56,61,10,"_expoRouter"],[95,67,61,18],[95,68,61,18,"Redirect"],[95,76,61,18],[96,6,61,19,"href"],[96,10,61,23],[96,12,61,25,"redirectTo"],[97,4,61,43],[98,6,61,43,"fileName"],[98,14,61,43],[98,16,61,43,"_jsxFileName"],[98,28,61,43],[99,6,61,43,"lineNumber"],[99,16,61,43],[100,6,61,43,"columnNumber"],[100,18,61,43],[101,4,61,43],[101,11,61,45],[101,12,61,46],[102,2,62,0],[103,2,62,1,"_s"],[103,4,62,1],[103,5,10,24,"Index"],[103,10,10,29],[104,4,10,29],[104,12,11,41,"useAuth"],[104,32,11,48],[104,33,11,48,"useAuth"],[104,40,11,48],[105,2,11,48],[106,2,11,48,"_c"],[106,4,11,48],[106,7,10,24,"Index"],[106,12,10,29],[107,2,64,0],[107,8,64,6,"styles"],[107,14,64,12],[107,17,64,15,"StyleSheet"],[107,27,64,25],[107,28,64,25,"default"],[107,35,64,25],[107,36,64,26,"create"],[107,42,64,32],[107,43,64,33],[108,4,65,2,"container"],[108,13,65,11],[108,15,65,13],[109,6,66,4,"flex"],[109,10,66,8],[109,12,66,10],[109,13,66,11],[110,6,67,4,"justifyContent"],[110,20,67,18],[110,22,67,20],[110,30,67,28],[111,6,68,4,"alignItems"],[111,16,68,14],[111,18,68,16],[111,26,68,24],[112,6,69,4,"backgroundColor"],[112,21,69,19],[112,23,69,21,"colors"],[112,38,69,27],[112,39,69,27,"colors"],[112,45,69,27],[112,46,69,28,"dark"],[112,50,69,32],[112,51,69,33,"primary"],[113,4,70,2],[114,2,71,0],[114,3,71,1],[114,4,71,2],[115,2,71,3],[115,6,71,3,"_c"],[115,8,71,3],[116,2,71,3,"$RefreshReg$"],[116,14,71,3],[116,15,71,3,"_c"],[116,17,71,3],[117,0,71,3],[117,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkRoleAndRedirect"],"mappings":"AAA;eCS;YCK;GDE;+BEE;GF8B;CDa"},"hasCjsExports":false},"type":"js/module"}]}