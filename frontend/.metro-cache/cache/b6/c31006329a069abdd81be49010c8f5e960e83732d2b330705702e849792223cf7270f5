{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":120},"end":{"line":3,"column":39,"index":159}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":160},"end":{"line":4,"column":69,"index":229}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":230},"end":{"line":5,"column":50,"index":280}}],"key":"oNCgyH4yx4pAIVZXLqqRGB2kuCY=","exportNames":["*"],"imports":1}},{"name":"../constants/theme","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":281},"end":{"line":6,"column":44,"index":325}}],"key":"wYsGrLzOZoewJzHaXfZf3q7qjsE=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[5], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _contextsAuthContext = require(_dependencyMap[6], \"../contexts/AuthContext\");\n  var _constantsTheme = require(_dependencyMap[7], \"../constants/theme\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  const ROLE_SELECTED_KEY = 'role_selected';\n  function Index() {\n    const {\n      isAuthenticated,\n      isLoading\n    } = (0, _contextsAuthContext.useAuth)();\n    const [redirectTo, setRedirectTo] = (0, _react.useState)(null);\n    const [isChecking, setIsChecking] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkRoleAndRedirect();\n    }, [isAuthenticated, isLoading]);\n    const checkRoleAndRedirect = async () => {\n      if (isLoading) return;\n      try {\n        // Check if user has already selected a role\n        const roleSelected = await AsyncStorage.default.getItem(ROLE_SELECTED_KEY);\n        if (!roleSelected) {\n          // First time opening the app - show role selection\n          setRedirectTo('/role-select');\n          return;\n        }\n\n        // Role was selected before - check authentication\n        if (isAuthenticated) {\n          setRedirectTo('/(tabs)/athletes');\n        } else {\n          // If role is 'coach', go to login; if 'athlete', go to token entry\n          if (roleSelected === 'coach') {\n            setRedirectTo('/login');\n          } else {\n            setRedirectTo('/athlete-token');\n          }\n        }\n      } catch (error) {\n        // On error, default to role selection\n        setRedirectTo('/role-select');\n      } finally {\n        setIsChecking(false);\n      }\n    };\n\n    // Show loading while checking\n    if (isLoading || isChecking || !redirectTo) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: styles.container,\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: _constantsTheme.colors.accent.primary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this);\n    }\n\n    // Use Redirect component for navigation\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Redirect, {\n      href: redirectTo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 10\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: _constantsTheme.colors.dark.primary\n    }\n  });\n});","lineCount":109,"map":[[13,2,10,15,"Object"],[13,8,10,15],[13,9,10,15,"defineProperty"],[13,23,10,15],[13,24,10,15,"exports"],[13,31,10,15],[14,4,10,15,"enumerable"],[14,14,10,15],[15,4,10,15,"get"],[15,7,10,15],[15,18,10,15,"get"],[15,19,10,15],[16,6,10,15],[16,13,10,15,"Index"],[16,18,10,15],[17,4,10,15],[18,2,10,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,51],[20,6,1,51,"_reactNativeWebDistExportsView"],[20,36,1,51],[20,39,1,51,"require"],[20,46,1,51],[20,47,1,51,"_dependencyMap"],[20,61,1,51],[21,2,1,51],[21,6,1,51,"View"],[21,10,1,51],[21,13,1,51,"_interopDefault"],[21,28,1,51],[21,29,1,51,"_reactNativeWebDistExportsView"],[21,59,1,51],[22,2,1,51],[22,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[22,49,1,51],[22,52,1,51,"require"],[22,59,1,51],[22,60,1,51,"_dependencyMap"],[22,74,1,51],[23,2,1,51],[23,6,1,51,"ActivityIndicator"],[23,23,1,51],[23,26,1,51,"_interopDefault"],[23,41,1,51],[23,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[23,85,1,51],[24,2,1,51],[24,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[24,42,1,51],[24,45,1,51,"require"],[24,52,1,51],[24,53,1,51,"_dependencyMap"],[24,67,1,51],[25,2,1,51],[25,6,1,51,"StyleSheet"],[25,16,1,51],[25,19,1,51,"_interopDefault"],[25,34,1,51],[25,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[25,71,1,51],[26,2,3,0],[26,6,3,0,"_expoRouter"],[26,17,3,0],[26,20,3,0,"require"],[26,27,3,0],[26,28,3,0,"_dependencyMap"],[26,42,3,0],[27,2,4,0],[27,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[27,42,4,0],[27,45,4,0,"require"],[27,52,4,0],[27,53,4,0,"_dependencyMap"],[27,67,4,0],[28,2,4,0],[28,6,4,0,"AsyncStorage"],[28,18,4,0],[28,21,4,0,"_interopDefault"],[28,36,4,0],[28,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[28,73,4,0],[29,2,5,0],[29,6,5,0,"_contextsAuthContext"],[29,26,5,0],[29,29,5,0,"require"],[29,36,5,0],[29,37,5,0,"_dependencyMap"],[29,51,5,0],[30,2,6,0],[30,6,6,0,"_constantsTheme"],[30,21,6,0],[30,24,6,0,"require"],[30,31,6,0],[30,32,6,0,"_dependencyMap"],[30,46,6,0],[31,2,6,44],[31,6,6,44,"_reactJsxDevRuntime"],[31,25,6,44],[31,28,6,44,"require"],[31,35,6,44],[31,36,6,44,"_dependencyMap"],[31,50,6,44],[32,2,8,0],[32,8,8,6,"ROLE_SELECTED_KEY"],[32,25,8,23],[32,28,8,26],[32,43,8,41],[33,2,10,15],[33,11,10,24,"Index"],[33,16,10,29,"Index"],[33,17,10,29],[33,19,10,32],[34,4,11,2],[34,10,11,8],[35,6,11,10,"isAuthenticated"],[35,21,11,25],[36,6,11,27,"isLoading"],[37,4,11,37],[37,5,11,38],[37,8,11,41],[37,12,11,41,"useAuth"],[37,32,11,48],[37,33,11,48,"useAuth"],[37,40,11,48],[37,42,11,49],[37,43,11,50],[38,4,12,2],[38,10,12,8],[38,11,12,9,"redirectTo"],[38,21,12,19],[38,23,12,21,"setRedirectTo"],[38,36,12,34],[38,37,12,35],[38,40,12,38],[38,44,12,38,"useState"],[38,50,12,46],[38,51,12,46,"useState"],[38,59,12,46],[38,61,12,62],[38,65,12,66],[38,66,12,67],[39,4,13,2],[39,10,13,8],[39,11,13,9,"isChecking"],[39,21,13,19],[39,23,13,21,"setIsChecking"],[39,36,13,34],[39,37,13,35],[39,40,13,38],[39,44,13,38,"useState"],[39,50,13,46],[39,51,13,46,"useState"],[39,59,13,46],[39,61,13,47],[39,65,13,51],[39,66,13,52],[40,4,15,2],[40,8,15,2,"useEffect"],[40,14,15,11],[40,15,15,11,"useEffect"],[40,24,15,11],[40,26,15,12],[40,32,15,18],[41,6,16,4,"checkRoleAndRedirect"],[41,26,16,24],[41,27,16,25],[41,28,16,26],[42,4,17,2],[42,5,17,3],[42,7,17,5],[42,8,17,6,"isAuthenticated"],[42,23,17,21],[42,25,17,23,"isLoading"],[42,34,17,32],[42,35,17,33],[42,36,17,34],[43,4,19,2],[43,10,19,8,"checkRoleAndRedirect"],[43,30,19,28],[43,33,19,31],[43,39,19,31,"checkRoleAndRedirect"],[43,40,19,31],[43,45,19,43],[44,6,20,4],[44,10,20,8,"isLoading"],[44,19,20,17],[44,21,20,19],[45,6,22,4],[45,10,22,8],[46,8,23,6],[47,8,24,6],[47,14,24,12,"roleSelected"],[47,26,24,24],[47,29,24,27],[47,35,24,33,"AsyncStorage"],[47,47,24,45],[47,48,24,45,"default"],[47,55,24,45],[47,56,24,46,"getItem"],[47,63,24,53],[47,64,24,54,"ROLE_SELECTED_KEY"],[47,81,24,71],[47,82,24,72],[48,8,26,6],[48,12,26,10],[48,13,26,11,"roleSelected"],[48,25,26,23],[48,27,26,25],[49,10,27,8],[50,10,28,8,"setRedirectTo"],[50,23,28,21],[50,24,28,22],[50,38,28,36],[50,39,28,37],[51,10,29,8],[52,8,30,6],[54,8,32,6],[55,8,33,6],[55,12,33,10,"isAuthenticated"],[55,27,33,25],[55,29,33,27],[56,10,34,8,"setRedirectTo"],[56,23,34,21],[56,24,34,22],[56,42,34,40],[56,43,34,41],[57,8,35,6],[57,9,35,7],[57,15,35,13],[58,10,36,8],[59,10,37,8],[59,14,37,12,"roleSelected"],[59,26,37,24],[59,31,37,29],[59,38,37,36],[59,40,37,38],[60,12,38,10,"setRedirectTo"],[60,25,38,23],[60,26,38,24],[60,34,38,32],[60,35,38,33],[61,10,39,8],[61,11,39,9],[61,17,39,15],[62,12,40,10,"setRedirectTo"],[62,25,40,23],[62,26,40,24],[62,42,40,40],[62,43,40,41],[63,10,41,8],[64,8,42,6],[65,6,43,4],[65,7,43,5],[65,8,43,6],[65,15,43,13,"error"],[65,20,43,18],[65,22,43,20],[66,8,44,6],[67,8,45,6,"setRedirectTo"],[67,21,45,19],[67,22,45,20],[67,36,45,34],[67,37,45,35],[68,6,46,4],[68,7,46,5],[68,16,46,14],[69,8,47,6,"setIsChecking"],[69,21,47,19],[69,22,47,20],[69,27,47,25],[69,28,47,26],[70,6,48,4],[71,4,49,2],[71,5,49,3],[73,4,51,2],[74,4,52,2],[74,8,52,6,"isLoading"],[74,17,52,15],[74,21,52,19,"isChecking"],[74,31,52,29],[74,35,52,33],[74,36,52,34,"redirectTo"],[74,46,52,44],[74,48,52,46],[75,6,53,4],[75,26,54,6],[75,30,54,6,"_reactJsxDevRuntime"],[75,49,54,6],[75,50,54,6,"jsxDEV"],[75,56,54,6],[75,58,54,7,"View"],[75,62,54,11],[75,63,54,11,"default"],[75,70,54,11],[76,8,54,12,"style"],[76,13,54,17],[76,15,54,19,"styles"],[76,21,54,25],[76,22,54,26,"container"],[76,31,54,36],[77,8,54,36,"children"],[77,16,54,36],[77,31,55,8],[77,35,55,8,"_reactJsxDevRuntime"],[77,54,55,8],[77,55,55,8,"jsxDEV"],[77,61,55,8],[77,63,55,9,"ActivityIndicator"],[77,80,55,26],[77,81,55,26,"default"],[77,88,55,26],[78,10,55,27,"size"],[78,14,55,31],[78,16,55,32],[78,23,55,39],[79,10,55,40,"color"],[79,15,55,45],[79,17,55,47,"colors"],[79,32,55,53],[79,33,55,53,"colors"],[79,39,55,53],[79,40,55,54,"accent"],[79,46,55,60],[79,47,55,61,"primary"],[80,8,55,69],[81,10,55,69,"fileName"],[81,18,55,69],[81,20,55,69,"_jsxFileName"],[81,32,55,69],[82,10,55,69,"lineNumber"],[82,20,55,69],[83,10,55,69,"columnNumber"],[83,22,55,69],[84,8,55,69],[84,15,55,71],[85,6,55,72],[86,8,55,72,"fileName"],[86,16,55,72],[86,18,55,72,"_jsxFileName"],[86,30,55,72],[87,8,55,72,"lineNumber"],[87,18,55,72],[88,8,55,72,"columnNumber"],[88,20,55,72],[89,6,55,72],[89,13,56,12],[89,14,56,13],[90,4,58,2],[92,4,60,2],[93,4,61,2],[93,24,61,9],[93,28,61,9,"_reactJsxDevRuntime"],[93,47,61,9],[93,48,61,9,"jsxDEV"],[93,54,61,9],[93,56,61,10,"_expoRouter"],[93,67,61,18],[93,68,61,18,"Redirect"],[93,76,61,18],[94,6,61,19,"href"],[94,10,61,23],[94,12,61,25,"redirectTo"],[95,4,61,43],[96,6,61,43,"fileName"],[96,14,61,43],[96,16,61,43,"_jsxFileName"],[96,28,61,43],[97,6,61,43,"lineNumber"],[97,16,61,43],[98,6,61,43,"columnNumber"],[98,18,61,43],[99,4,61,43],[99,11,61,45],[99,12,61,46],[100,2,62,0],[101,2,64,0],[101,8,64,6,"styles"],[101,14,64,12],[101,17,64,15,"StyleSheet"],[101,27,64,25],[101,28,64,25,"default"],[101,35,64,25],[101,36,64,26,"create"],[101,42,64,32],[101,43,64,33],[102,4,65,2,"container"],[102,13,65,11],[102,15,65,13],[103,6,66,4,"flex"],[103,10,66,8],[103,12,66,10],[103,13,66,11],[104,6,67,4,"justifyContent"],[104,20,67,18],[104,22,67,20],[104,30,67,28],[105,6,68,4,"alignItems"],[105,16,68,14],[105,18,68,16],[105,26,68,24],[106,6,69,4,"backgroundColor"],[106,21,69,19],[106,23,69,21,"colors"],[106,38,69,27],[106,39,69,27,"colors"],[106,45,69,27],[106,46,69,28,"dark"],[106,50,69,32],[106,51,69,33,"primary"],[107,4,70,2],[108,2,71,0],[108,3,71,1],[108,4,71,2],[109,0,71,3],[109,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkRoleAndRedirect"],"mappings":"AAA;eCS;YCK;GDE;+BEE;GF8B;CDa"},"hasCjsExports":false},"type":"js/module"}]}