{"dependencies":[{"name":"bignumber.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":23,"index":147},"end":{"line":4,"column":46,"index":170}}],"key":"+wfjqTR3zurEF99pXx1Zrbq744s=","exportNames":["*"],"imports":1}},{"name":"./roundNumber","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":22,"index":194},"end":{"line":5,"column":46,"index":218}}],"key":"M7tJMioWEV1Tpvt/ZusQz+rXD54=","exportNames":["*"],"imports":1}},{"name":"./expandRoundMode","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":26,"index":246},"end":{"line":6,"column":54,"index":274}}],"key":"61+ShRtrLIovApLHxAYi/BWuJXY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.numberToHumanSize = numberToHumanSize;\n  var bignumber_js_1 = require(_dependencyMap[0], \"bignumber.js\");\n  var roundNumber_1 = require(_dependencyMap[1], \"./roundNumber\");\n  var expandRoundMode_1 = require(_dependencyMap[2], \"./expandRoundMode\");\n  var STORAGE_UNITS = [\"byte\", \"kb\", \"mb\", \"gb\", \"tb\", \"pb\", \"eb\"];\n  function numberToHumanSize(i18n, input, options) {\n    var roundMode = (0, expandRoundMode_1.expandRoundMode)(options.roundMode);\n    var base = 1024;\n    var num = new bignumber_js_1.BigNumber(input).abs();\n    var smallerThanBase = num.lt(base);\n    var numberToBeFormatted;\n    var computeExponent = (numeric, units) => {\n      var max = units.length - 1;\n      var exp = new bignumber_js_1.BigNumber(Math.log(numeric.toNumber())).div(Math.log(base)).integerValue(bignumber_js_1.BigNumber.ROUND_DOWN).toNumber();\n      return Math.min(max, exp);\n    };\n    var storageUnitKey = units => {\n      var keyEnd = smallerThanBase ? \"byte\" : units[exponent];\n      return `number.human.storage_units.units.${keyEnd}`;\n    };\n    var exponent = computeExponent(num, STORAGE_UNITS);\n    if (smallerThanBase) {\n      numberToBeFormatted = num.integerValue();\n    } else {\n      numberToBeFormatted = new bignumber_js_1.BigNumber((0, roundNumber_1.roundNumber)(num.div(Math.pow(base, exponent)), {\n        significant: options.significant,\n        precision: options.precision,\n        roundMode: options.roundMode\n      }));\n    }\n    var format = i18n.translate(\"number.human.storage_units.format\", {\n      defaultValue: \"%n %u\"\n    });\n    var unit = i18n.translate(storageUnitKey(STORAGE_UNITS), {\n      count: num.integerValue().toNumber()\n    });\n    var formattedNumber = numberToBeFormatted.toFixed(options.precision, roundMode);\n    if (options.stripInsignificantZeros) {\n      formattedNumber = formattedNumber.replace(/(\\..*?)0+$/, \"$1\").replace(/\\.$/, \"\");\n    }\n    return format.replace(\"%n\", formattedNumber).replace(\"%u\", unit);\n  }\n});","lineCount":49,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"numberToHumanSize"],[7,27,3,25],[7,30,3,28,"numberToHumanSize"],[7,47,3,45],[8,2,4,0],[8,6,4,6,"bignumber_js_1"],[8,20,4,20],[8,23,4,23,"require"],[8,30,4,30],[8,31,4,30,"_dependencyMap"],[8,45,4,30],[8,64,4,45],[8,65,4,46],[9,2,5,0],[9,6,5,6,"roundNumber_1"],[9,19,5,19],[9,22,5,22,"require"],[9,29,5,29],[9,30,5,29,"_dependencyMap"],[9,44,5,29],[9,64,5,45],[9,65,5,46],[10,2,6,0],[10,6,6,6,"expandRoundMode_1"],[10,23,6,23],[10,26,6,26,"require"],[10,33,6,33],[10,34,6,33,"_dependencyMap"],[10,48,6,33],[10,72,6,53],[10,73,6,54],[11,2,7,0],[11,6,7,6,"STORAGE_UNITS"],[11,19,7,19],[11,22,7,22],[11,23,7,23],[11,29,7,29],[11,31,7,31],[11,35,7,35],[11,37,7,37],[11,41,7,41],[11,43,7,43],[11,47,7,47],[11,49,7,49],[11,53,7,53],[11,55,7,55],[11,59,7,59],[11,61,7,61],[11,65,7,65],[11,66,7,66],[12,2,8,0],[12,11,8,9,"numberToHumanSize"],[12,28,8,26,"numberToHumanSize"],[12,29,8,27,"i18n"],[12,33,8,31],[12,35,8,33,"input"],[12,40,8,38],[12,42,8,40,"options"],[12,49,8,47],[12,51,8,49],[13,4,9,4],[13,8,9,10,"roundMode"],[13,17,9,19],[13,20,9,22],[13,21,9,23],[13,22,9,24],[13,24,9,26,"expandRoundMode_1"],[13,41,9,43],[13,42,9,44,"expandRoundMode"],[13,57,9,59],[13,59,9,61,"options"],[13,66,9,68],[13,67,9,69,"roundMode"],[13,76,9,78],[13,77,9,79],[14,4,10,4],[14,8,10,10,"base"],[14,12,10,14],[14,15,10,17],[14,19,10,21],[15,4,11,4],[15,8,11,10,"num"],[15,11,11,13],[15,14,11,16],[15,18,11,20,"bignumber_js_1"],[15,32,11,34],[15,33,11,35,"BigNumber"],[15,42,11,44],[15,43,11,45,"input"],[15,48,11,50],[15,49,11,51],[15,50,11,52,"abs"],[15,53,11,55],[15,54,11,56],[15,55,11,57],[16,4,12,4],[16,8,12,10,"smallerThanBase"],[16,23,12,25],[16,26,12,28,"num"],[16,29,12,31],[16,30,12,32,"lt"],[16,32,12,34],[16,33,12,35,"base"],[16,37,12,39],[16,38,12,40],[17,4,13,4],[17,8,13,8,"numberToBeFormatted"],[17,27,13,27],[18,4,14,4],[18,8,14,10,"computeExponent"],[18,23,14,25],[18,26,14,28,"computeExponent"],[18,27,14,29,"numeric"],[18,34,14,36],[18,36,14,38,"units"],[18,41,14,43],[18,46,14,48],[19,6,15,8],[19,10,15,14,"max"],[19,13,15,17],[19,16,15,20,"units"],[19,21,15,25],[19,22,15,26,"length"],[19,28,15,32],[19,31,15,35],[19,32,15,36],[20,6,16,8],[20,10,16,14,"exp"],[20,13,16,17],[20,16,16,20],[20,20,16,24,"bignumber_js_1"],[20,34,16,38],[20,35,16,39,"BigNumber"],[20,44,16,48],[20,45,16,49,"Math"],[20,49,16,53],[20,50,16,54,"log"],[20,53,16,57],[20,54,16,58,"numeric"],[20,61,16,65],[20,62,16,66,"toNumber"],[20,70,16,74],[20,71,16,75],[20,72,16,76],[20,73,16,77],[20,74,16,78],[20,75,17,13,"div"],[20,78,17,16],[20,79,17,17,"Math"],[20,83,17,21],[20,84,17,22,"log"],[20,87,17,25],[20,88,17,26,"base"],[20,92,17,30],[20,93,17,31],[20,94,17,32],[20,95,18,13,"integerValue"],[20,107,18,25],[20,108,18,26,"bignumber_js_1"],[20,122,18,40],[20,123,18,41,"BigNumber"],[20,132,18,50],[20,133,18,51,"ROUND_DOWN"],[20,143,18,61],[20,144,18,62],[20,145,19,13,"toNumber"],[20,153,19,21],[20,154,19,22],[20,155,19,23],[21,6,20,8],[21,13,20,15,"Math"],[21,17,20,19],[21,18,20,20,"min"],[21,21,20,23],[21,22,20,24,"max"],[21,25,20,27],[21,27,20,29,"exp"],[21,30,20,32],[21,31,20,33],[22,4,21,4],[22,5,21,5],[23,4,22,4],[23,8,22,10,"storageUnitKey"],[23,22,22,24],[23,25,22,28,"units"],[23,30,22,33],[23,34,22,38],[24,6,23,8],[24,10,23,14,"keyEnd"],[24,16,23,20],[24,19,23,23,"smallerThanBase"],[24,34,23,38],[24,37,23,41],[24,43,23,47],[24,46,23,50,"units"],[24,51,23,55],[24,52,23,56,"exponent"],[24,60,23,64],[24,61,23,65],[25,6,24,8],[25,13,24,15],[25,49,24,51,"keyEnd"],[25,55,24,57],[25,57,24,59],[26,4,25,4],[26,5,25,5],[27,4,26,4],[27,8,26,10,"exponent"],[27,16,26,18],[27,19,26,21,"computeExponent"],[27,34,26,36],[27,35,26,37,"num"],[27,38,26,40],[27,40,26,42,"STORAGE_UNITS"],[27,53,26,55],[27,54,26,56],[28,4,27,4],[28,8,27,8,"smallerThanBase"],[28,23,27,23],[28,25,27,25],[29,6,28,8,"numberToBeFormatted"],[29,25,28,27],[29,28,28,30,"num"],[29,31,28,33],[29,32,28,34,"integerValue"],[29,44,28,46],[29,45,28,47],[29,46,28,48],[30,4,29,4],[30,5,29,5],[30,11,30,9],[31,6,31,8,"numberToBeFormatted"],[31,25,31,27],[31,28,31,30],[31,32,31,34,"bignumber_js_1"],[31,46,31,48],[31,47,31,49,"BigNumber"],[31,56,31,58],[31,57,31,59],[31,58,31,60],[31,59,31,61],[31,61,31,63,"roundNumber_1"],[31,74,31,76],[31,75,31,77,"roundNumber"],[31,86,31,88],[31,88,31,90,"num"],[31,91,31,93],[31,92,31,94,"div"],[31,95,31,97],[31,96,31,98,"Math"],[31,100,31,102],[31,101,31,103,"pow"],[31,104,31,106],[31,105,31,107,"base"],[31,109,31,111],[31,111,31,113,"exponent"],[31,119,31,121],[31,120,31,122],[31,121,31,123],[31,123,31,125],[32,8,32,12,"significant"],[32,19,32,23],[32,21,32,25,"options"],[32,28,32,32],[32,29,32,33,"significant"],[32,40,32,44],[33,8,33,12,"precision"],[33,17,33,21],[33,19,33,23,"options"],[33,26,33,30],[33,27,33,31,"precision"],[33,36,33,40],[34,8,34,12,"roundMode"],[34,17,34,21],[34,19,34,23,"options"],[34,26,34,30],[34,27,34,31,"roundMode"],[35,6,35,8],[35,7,35,9],[35,8,35,10],[35,9,35,11],[36,4,36,4],[37,4,37,4],[37,8,37,10,"format"],[37,14,37,16],[37,17,37,19,"i18n"],[37,21,37,23],[37,22,37,24,"translate"],[37,31,37,33],[37,32,37,34],[37,67,37,69],[37,69,37,71],[38,6,38,8,"defaultValue"],[38,18,38,20],[38,20,38,22],[39,4,39,4],[39,5,39,5],[39,6,39,6],[40,4,40,4],[40,8,40,10,"unit"],[40,12,40,14],[40,15,40,17,"i18n"],[40,19,40,21],[40,20,40,22,"translate"],[40,29,40,31],[40,30,40,32,"storageUnitKey"],[40,44,40,46],[40,45,40,47,"STORAGE_UNITS"],[40,58,40,60],[40,59,40,61],[40,61,40,63],[41,6,41,8,"count"],[41,11,41,13],[41,13,41,15,"num"],[41,16,41,18],[41,17,41,19,"integerValue"],[41,29,41,31],[41,30,41,32],[41,31,41,33],[41,32,41,34,"toNumber"],[41,40,41,42],[41,41,41,43],[42,4,42,4],[42,5,42,5],[42,6,42,6],[43,4,43,4],[43,8,43,8,"formattedNumber"],[43,23,43,23],[43,26,43,26,"numberToBeFormatted"],[43,45,43,45],[43,46,43,46,"toFixed"],[43,53,43,53],[43,54,43,54,"options"],[43,61,43,61],[43,62,43,62,"precision"],[43,71,43,71],[43,73,43,73,"roundMode"],[43,82,43,82],[43,83,43,83],[44,4,44,4],[44,8,44,8,"options"],[44,15,44,15],[44,16,44,16,"stripInsignificantZeros"],[44,39,44,39],[44,41,44,41],[45,6,45,8,"formattedNumber"],[45,21,45,23],[45,24,45,26,"formattedNumber"],[45,39,45,41],[45,40,46,13,"replace"],[45,47,46,20],[45,48,46,21],[45,60,46,33],[45,62,46,35],[45,66,46,39],[45,67,46,40],[45,68,47,13,"replace"],[45,75,47,20],[45,76,47,21],[45,81,47,26],[45,83,47,28],[45,85,47,30],[45,86,47,31],[46,4,48,4],[47,4,49,4],[47,11,49,11,"format"],[47,17,49,17],[47,18,49,18,"replace"],[47,25,49,25],[47,26,49,26],[47,30,49,30],[47,32,49,32,"formattedNumber"],[47,47,49,47],[47,48,49,48],[47,49,49,49,"replace"],[47,56,49,56],[47,57,49,57],[47,61,49,61],[47,63,49,63,"unit"],[47,67,49,67],[47,68,49,68],[48,2,50,0],[49,0,50,1],[49,3]],"functionMap":{"names":["<global>","numberToHumanSize","computeExponent","storageUnitKey"],"mappings":"AAA;ACO;4BCM;KDO;2BEC;KFG;CDyB"},"hasCjsExports":true},"type":"js/module"}]}