{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"REVENUECAT_CONFIG\", {\n    enumerable: true,\n    get: function () {\n      return REVENUECAT_CONFIG;\n    }\n  });\n  Object.defineProperty(exports, \"getProEntitlement\", {\n    enumerable: true,\n    get: function () {\n      return getProEntitlement;\n    }\n  });\n  Object.defineProperty(exports, \"getSubscriptionExpirationDate\", {\n    enumerable: true,\n    get: function () {\n      return getSubscriptionExpirationDate;\n    }\n  });\n  Object.defineProperty(exports, \"checkProAccessFromInfo\", {\n    enumerable: true,\n    get: function () {\n      return checkProAccessFromInfo;\n    }\n  });\n  Object.defineProperty(exports, \"hasProEntitlement\", {\n    enumerable: true,\n    get: function () {\n      return hasProEntitlement;\n    }\n  });\n  Object.defineProperty(exports, \"isInTrialPeriod\", {\n    enumerable: true,\n    get: function () {\n      return isInTrialPeriod;\n    }\n  });\n  Object.defineProperty(exports, \"getManagementURL\", {\n    enumerable: true,\n    get: function () {\n      return getManagementURL;\n    }\n  });\n  Object.defineProperty(exports, \"getApiKey\", {\n    enumerable: true,\n    get: function () {\n      return getApiKey;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // RevenueCat configuration\n  // These keys should be configured in RevenueCat dashboard\n  const REVENUECAT_CONFIG = {\n    // Public API keys from RevenueCat dashboard (safe to include in client code)\n    APPLE_API_KEY: _expoVirtualEnv.env.EXPO_PUBLIC_REVENUECAT_APPLE_KEY || '',\n    GOOGLE_API_KEY: _expoVirtualEnv.env.EXPO_PUBLIC_REVENUECAT_GOOGLE_KEY || '',\n    // Entitlement identifier configured in RevenueCat dashboard\n    // IMPORTANTE: Usar o IDENTIFIER exato configurado no RevenueCat (não o display name)\n    PRO_ENTITLEMENT_ID: 'pro',\n    // Product identifiers (must match App Store Connect / Google Play Console)\n    // IMPORTANTE: Usar o Product ID exato configurado no App Store Connect\n    PRODUCT_IDS: {\n      PRO_MONTHLY: 'loadmanagerpro_pro_monthly'\n    },\n    // Offering identifier\n    DEFAULT_OFFERING: 'default'\n  };\n\n  // Type definitions for RevenueCat\n\n  /**\n   * FONTE ÚNICA DA VERDADE: expirationDate\n   * \n   * O acesso premium é determinado EXCLUSIVAMENTE pela expirationDate do entitlement \"pro\".\n   * \n   * Regras:\n   * - isPro = expirationDate > now\n   * - NÃO usar: entitlements.active, isActive, isTrial, isSubscribed, isCancelled, cache\n   * \n   * Comportamento:\n   * 1. Trial ativo → acesso completo\n   * 2. Trial cancelado mas dentro do período → acesso completo\n   * 3. Assinatura ativa → acesso completo\n   * 4. Assinatura cancelada mas dentro do período → acesso completo\n   * 5. expirationDate < now → bloquear acesso\n   */\n\n  /**\n   * Obtém o entitlement \"pro\" de entitlements.all (NÃO de entitlements.active)\n   * Isso garante que temos acesso à expirationDate mesmo após cancelamento\n   */\n  const getProEntitlement = customerInfo => {\n    if (!customerInfo) return null;\n\n    // IMPORTANTE: Buscar de entitlements.all, NÃO de entitlements.active\n    // entitlements.all contém todos os entitlements, incluindo cancelados\n    const entitlement = customerInfo.entitlements.all[REVENUECAT_CONFIG.PRO_ENTITLEMENT_ID];\n    return entitlement || null;\n  };\n\n  /**\n   * Obtém a data de expiração do entitlement pro\n   * Esta é a ÚNICA fonte de verdade para determinar acesso\n   */\n  const getSubscriptionExpirationDate = customerInfo => {\n    const entitlement = getProEntitlement(customerInfo);\n    if (!entitlement || !entitlement.expirationDate) {\n      return null;\n    }\n    return new Date(entitlement.expirationDate);\n  };\n\n  /**\n   * FUNÇÃO PRINCIPAL: Verifica se o usuário tem acesso pro\n   * \n   * REGRA ÚNICA: isPro = expirationDate > now\n   * \n   * NÃO usa: isActive, isTrial, entitlements.active, etc.\n   */\n  const checkProAccessFromInfo = customerInfo => {\n    const entitlement = getProEntitlement(customerInfo);\n    if (!entitlement || !entitlement.expirationDate) {\n      console.log('[PRO] No entitlement or expirationDate found');\n      return false;\n    }\n    const expirationDate = new Date(entitlement.expirationDate);\n    const now = new Date();\n    const hasAccess = expirationDate > now;\n    console.log('[PRO] Pro entitlement:', entitlement);\n    console.log('[PRO] Expiration date:', entitlement.expirationDate);\n    console.log('[PRO] Current date:', now.toISOString());\n    console.log('[PRO] Pro access:', hasAccess);\n    return hasAccess;\n  };\n\n  /**\n   * @deprecated Use checkProAccessFromInfo instead\n   * Mantido para compatibilidade, mas internamente usa a nova lógica\n   */\n  const hasProEntitlement = customerInfo => {\n    return checkProAccessFromInfo(customerInfo);\n  };\n\n  /**\n   * Verifica se está em período de trial (informativo apenas, NÃO afeta acesso)\n   * O acesso é determinado EXCLUSIVAMENTE pela expirationDate\n   */\n  const isInTrialPeriod = customerInfo => {\n    const entitlement = getProEntitlement(customerInfo);\n    if (!entitlement) return false;\n    return entitlement.periodType === 'trial';\n  };\n\n  /**\n   * Helper to get management URL for subscription\n   */\n  const getManagementURL = customerInfo => {\n    if (!customerInfo) return null;\n    return customerInfo.managementURL;\n  };\n\n  /**\n   * Get platform-specific API key\n   */\n  const getApiKey = () => {\n    if (Platform.default.OS === 'ios') {\n      return REVENUECAT_CONFIG.APPLE_API_KEY;\n    } else if (Platform.default.OS === 'android') {\n      return REVENUECAT_CONFIG.GOOGLE_API_KEY;\n    }\n    return '';\n  };\n  var _default = REVENUECAT_CONFIG;\n});","lineCount":192,"map":[[12,2,191,0,"Object"],[12,8,191,0],[12,9,191,0,"defineProperty"],[12,23,191,0],[12,24,191,0,"exports"],[12,31,191,0],[13,4,191,0,"enumerable"],[13,14,191,0],[14,4,191,0,"get"],[14,7,191,0],[14,18,191,0,"get"],[14,19,191,0],[15,6,191,0],[15,13,191,0,"_default"],[15,21,191,0],[16,4,191,0],[17,2,191,0],[18,2,5,0,"Object"],[18,8,5,0],[18,9,5,0,"defineProperty"],[18,23,5,0],[18,24,5,0,"exports"],[18,31,5,0],[19,4,5,0,"enumerable"],[19,14,5,0],[20,4,5,0,"get"],[20,7,5,0],[20,18,5,0,"get"],[20,19,5,0],[21,6,5,0],[21,13,5,0,"REVENUECAT_CONFIG"],[21,30,5,0],[22,4,5,0],[23,2,5,0],[24,2,101,0,"Object"],[24,8,101,0],[24,9,101,0,"defineProperty"],[24,23,101,0],[24,24,101,0,"exports"],[24,31,101,0],[25,4,101,0,"enumerable"],[25,14,101,0],[26,4,101,0,"get"],[26,7,101,0],[26,18,101,0,"get"],[26,19,101,0],[27,6,101,0],[27,13,101,0,"getProEntitlement"],[27,30,101,0],[28,4,101,0],[29,2,101,0],[30,2,115,0,"Object"],[30,8,115,0],[30,9,115,0,"defineProperty"],[30,23,115,0],[30,24,115,0,"exports"],[30,31,115,0],[31,4,115,0,"enumerable"],[31,14,115,0],[32,4,115,0,"get"],[32,7,115,0],[32,18,115,0,"get"],[32,19,115,0],[33,6,115,0],[33,13,115,0,"getSubscriptionExpirationDate"],[33,42,115,0],[34,4,115,0],[35,2,115,0],[36,2,132,0,"Object"],[36,8,132,0],[36,9,132,0,"defineProperty"],[36,23,132,0],[36,24,132,0,"exports"],[36,31,132,0],[37,4,132,0,"enumerable"],[37,14,132,0],[38,4,132,0,"get"],[38,7,132,0],[38,18,132,0,"get"],[38,19,132,0],[39,6,132,0],[39,13,132,0,"checkProAccessFromInfo"],[39,35,132,0],[40,4,132,0],[41,2,132,0],[42,2,156,0,"Object"],[42,8,156,0],[42,9,156,0,"defineProperty"],[42,23,156,0],[42,24,156,0,"exports"],[42,31,156,0],[43,4,156,0,"enumerable"],[43,14,156,0],[44,4,156,0,"get"],[44,7,156,0],[44,18,156,0,"get"],[44,19,156,0],[45,6,156,0],[45,13,156,0,"hasProEntitlement"],[45,30,156,0],[46,4,156,0],[47,2,156,0],[48,2,164,0,"Object"],[48,8,164,0],[48,9,164,0,"defineProperty"],[48,23,164,0],[48,24,164,0,"exports"],[48,31,164,0],[49,4,164,0,"enumerable"],[49,14,164,0],[50,4,164,0,"get"],[50,7,164,0],[50,18,164,0,"get"],[50,19,164,0],[51,6,164,0],[51,13,164,0,"isInTrialPeriod"],[51,28,164,0],[52,4,164,0],[53,2,164,0],[54,2,174,0,"Object"],[54,8,174,0],[54,9,174,0,"defineProperty"],[54,23,174,0],[54,24,174,0,"exports"],[54,31,174,0],[55,4,174,0,"enumerable"],[55,14,174,0],[56,4,174,0,"get"],[56,7,174,0],[56,18,174,0,"get"],[56,19,174,0],[57,6,174,0],[57,13,174,0,"getManagementURL"],[57,29,174,0],[58,4,174,0],[59,2,174,0],[60,2,182,0,"Object"],[60,8,182,0],[60,9,182,0,"defineProperty"],[60,23,182,0],[60,24,182,0,"exports"],[60,31,182,0],[61,4,182,0,"enumerable"],[61,14,182,0],[62,4,182,0,"get"],[62,7,182,0],[62,18,182,0,"get"],[62,19,182,0],[63,6,182,0],[63,13,182,0,"getApiKey"],[63,22,182,0],[64,4,182,0],[65,2,182,0],[66,2,189,2],[66,6,189,2,"_expoVirtualEnv"],[66,21,189,2],[66,24,189,2,"require"],[66,31,189,2],[66,32,189,2,"_dependencyMap"],[66,46,189,2],[67,2,189,2],[67,6,189,2,"_reactNativeWebDistExportsPlatform"],[67,40,189,2],[67,43,189,2,"require"],[67,50,189,2],[67,51,189,2,"_dependencyMap"],[67,65,189,2],[68,2,189,2],[68,6,189,2,"Platform"],[68,14,189,2],[68,17,189,2,"_interopDefault"],[68,32,189,2],[68,33,189,2,"_reactNativeWebDistExportsPlatform"],[68,67,189,2],[69,2,3,0],[70,2,4,0],[71,2,5,7],[71,8,5,13,"REVENUECAT_CONFIG"],[71,25,5,30],[71,28,5,33],[72,4,6,2],[73,4,7,2,"APPLE_API_KEY"],[73,17,7,15],[73,19,7,17,"_expoVirtualEnv"],[73,34,7,17],[73,35,7,17,"env"],[73,38,7,17],[73,39,7,17,"EXPO_PUBLIC_REVENUECAT_APPLE_KEY"],[73,71,7,17],[73,75,7,65],[73,77,7,67],[74,4,8,2,"GOOGLE_API_KEY"],[74,18,8,16],[74,20,8,18,"_expoVirtualEnv"],[74,35,8,18],[74,36,8,18,"env"],[74,39,8,18],[74,40,8,18,"EXPO_PUBLIC_REVENUECAT_GOOGLE_KEY"],[74,73,8,18],[74,77,8,67],[74,79,8,69],[75,4,10,2],[76,4,11,2],[77,4,12,2,"PRO_ENTITLEMENT_ID"],[77,22,12,20],[77,24,12,22],[77,29,12,27],[78,4,14,2],[79,4,15,2],[80,4,16,2,"PRODUCT_IDS"],[80,15,16,13],[80,17,16,15],[81,6,17,4,"PRO_MONTHLY"],[81,17,17,15],[81,19,17,17],[82,4,18,2],[82,5,18,3],[83,4,20,2],[84,4,21,2,"DEFAULT_OFFERING"],[84,20,21,18],[84,22,21,20],[85,2,22,0],[85,3,22,1],[87,2,24,0],[89,2,80,0],[90,0,81,0],[91,0,82,0],[92,0,83,0],[93,0,84,0],[94,0,85,0],[95,0,86,0],[96,0,87,0],[97,0,88,0],[98,0,89,0],[99,0,90,0],[100,0,91,0],[101,0,92,0],[102,0,93,0],[103,0,94,0],[104,0,95,0],[106,2,97,0],[107,0,98,0],[108,0,99,0],[109,0,100,0],[110,2,101,7],[110,8,101,13,"getProEntitlement"],[110,25,101,30],[110,28,101,34,"customerInfo"],[110,40,101,77],[110,44,101,94],[111,4,102,2],[111,8,102,6],[111,9,102,7,"customerInfo"],[111,21,102,19],[111,23,102,21],[111,30,102,28],[111,34,102,32],[113,4,104,2],[114,4,105,2],[115,4,106,2],[115,10,106,8,"entitlement"],[115,21,106,19],[115,24,106,22,"customerInfo"],[115,36,106,34],[115,37,106,35,"entitlements"],[115,49,106,47],[115,50,106,48,"all"],[115,53,106,51],[115,54,106,52,"REVENUECAT_CONFIG"],[115,71,106,69],[115,72,106,70,"PRO_ENTITLEMENT_ID"],[115,90,106,88],[115,91,106,89],[116,4,108,2],[116,11,108,9,"entitlement"],[116,22,108,20],[116,26,108,24],[116,30,108,28],[117,2,109,0],[117,3,109,1],[119,2,111,0],[120,0,112,0],[121,0,113,0],[122,0,114,0],[123,2,115,7],[123,8,115,13,"getSubscriptionExpirationDate"],[123,37,115,42],[123,40,115,46,"customerInfo"],[123,52,115,89],[123,56,115,107],[124,4,116,2],[124,10,116,8,"entitlement"],[124,21,116,19],[124,24,116,22,"getProEntitlement"],[124,41,116,39],[124,42,116,40,"customerInfo"],[124,54,116,52],[124,55,116,53],[125,4,118,2],[125,8,118,6],[125,9,118,7,"entitlement"],[125,20,118,18],[125,24,118,22],[125,25,118,23,"entitlement"],[125,36,118,34],[125,37,118,35,"expirationDate"],[125,51,118,49],[125,53,118,51],[126,6,119,4],[126,13,119,11],[126,17,119,15],[127,4,120,2],[128,4,122,2],[128,11,122,9],[128,15,122,13,"Date"],[128,19,122,17],[128,20,122,18,"entitlement"],[128,31,122,29],[128,32,122,30,"expirationDate"],[128,46,122,44],[128,47,122,45],[129,2,123,0],[129,3,123,1],[131,2,125,0],[132,0,126,0],[133,0,127,0],[134,0,128,0],[135,0,129,0],[136,0,130,0],[137,0,131,0],[138,2,132,7],[138,8,132,13,"checkProAccessFromInfo"],[138,30,132,35],[138,33,132,39,"customerInfo"],[138,45,132,82],[138,49,132,96],[139,4,133,2],[139,10,133,8,"entitlement"],[139,21,133,19],[139,24,133,22,"getProEntitlement"],[139,41,133,39],[139,42,133,40,"customerInfo"],[139,54,133,52],[139,55,133,53],[140,4,135,2],[140,8,135,6],[140,9,135,7,"entitlement"],[140,20,135,18],[140,24,135,22],[140,25,135,23,"entitlement"],[140,36,135,34],[140,37,135,35,"expirationDate"],[140,51,135,49],[140,53,135,51],[141,6,136,4,"console"],[141,13,136,11],[141,14,136,12,"log"],[141,17,136,15],[141,18,136,16],[141,64,136,62],[141,65,136,63],[142,6,137,4],[142,13,137,11],[142,18,137,16],[143,4,138,2],[144,4,140,2],[144,10,140,8,"expirationDate"],[144,24,140,22],[144,27,140,25],[144,31,140,29,"Date"],[144,35,140,33],[144,36,140,34,"entitlement"],[144,47,140,45],[144,48,140,46,"expirationDate"],[144,62,140,60],[144,63,140,61],[145,4,141,2],[145,10,141,8,"now"],[145,13,141,11],[145,16,141,14],[145,20,141,18,"Date"],[145,24,141,22],[145,25,141,23],[145,26,141,24],[146,4,142,2],[146,10,142,8,"hasAccess"],[146,19,142,17],[146,22,142,20,"expirationDate"],[146,36,142,34],[146,39,142,37,"now"],[146,42,142,40],[147,4,144,2,"console"],[147,11,144,9],[147,12,144,10,"log"],[147,15,144,13],[147,16,144,14],[147,40,144,38],[147,42,144,40,"entitlement"],[147,53,144,51],[147,54,144,52],[148,4,145,2,"console"],[148,11,145,9],[148,12,145,10,"log"],[148,15,145,13],[148,16,145,14],[148,40,145,38],[148,42,145,40,"entitlement"],[148,53,145,51],[148,54,145,52,"expirationDate"],[148,68,145,66],[148,69,145,67],[149,4,146,2,"console"],[149,11,146,9],[149,12,146,10,"log"],[149,15,146,13],[149,16,146,14],[149,37,146,35],[149,39,146,37,"now"],[149,42,146,40],[149,43,146,41,"toISOString"],[149,54,146,52],[149,55,146,53],[149,56,146,54],[149,57,146,55],[150,4,147,2,"console"],[150,11,147,9],[150,12,147,10,"log"],[150,15,147,13],[150,16,147,14],[150,35,147,33],[150,37,147,35,"hasAccess"],[150,46,147,44],[150,47,147,45],[151,4,149,2],[151,11,149,9,"hasAccess"],[151,20,149,18],[152,2,150,0],[152,3,150,1],[154,2,152,0],[155,0,153,0],[156,0,154,0],[157,0,155,0],[158,2,156,7],[158,8,156,13,"hasProEntitlement"],[158,25,156,30],[158,28,156,34,"customerInfo"],[158,40,156,77],[158,44,156,91],[159,4,157,2],[159,11,157,9,"checkProAccessFromInfo"],[159,33,157,31],[159,34,157,32,"customerInfo"],[159,46,157,44],[159,47,157,45],[160,2,158,0],[160,3,158,1],[162,2,160,0],[163,0,161,0],[164,0,162,0],[165,0,163,0],[166,2,164,7],[166,8,164,13,"isInTrialPeriod"],[166,23,164,28],[166,26,164,32,"customerInfo"],[166,38,164,75],[166,42,164,89],[167,4,165,2],[167,10,165,8,"entitlement"],[167,21,165,19],[167,24,165,22,"getProEntitlement"],[167,41,165,39],[167,42,165,40,"customerInfo"],[167,54,165,52],[167,55,165,53],[168,4,166,2],[168,8,166,6],[168,9,166,7,"entitlement"],[168,20,166,18],[168,22,166,20],[168,29,166,27],[168,34,166,32],[169,4,168,2],[169,11,168,9,"entitlement"],[169,22,168,20],[169,23,168,21,"periodType"],[169,33,168,31],[169,38,168,36],[169,45,168,43],[170,2,169,0],[170,3,169,1],[172,2,171,0],[173,0,172,0],[174,0,173,0],[175,2,174,7],[175,8,174,13,"getManagementURL"],[175,24,174,29],[175,27,174,33,"customerInfo"],[175,39,174,76],[175,43,174,96],[176,4,175,2],[176,8,175,6],[176,9,175,7,"customerInfo"],[176,21,175,19],[176,23,175,21],[176,30,175,28],[176,34,175,32],[177,4,176,2],[177,11,176,9,"customerInfo"],[177,23,176,21],[177,24,176,22,"managementURL"],[177,37,176,35],[178,2,177,0],[178,3,177,1],[180,2,179,0],[181,0,180,0],[182,0,181,0],[183,2,182,7],[183,8,182,13,"getApiKey"],[183,17,182,22],[183,20,182,25,"getApiKey"],[183,21,182,25],[183,26,182,39],[184,4,183,2],[184,8,183,6,"Platform"],[184,16,183,14],[184,17,183,14,"default"],[184,24,183,14],[184,25,183,15,"OS"],[184,27,183,17],[184,32,183,22],[184,37,183,27],[184,39,183,29],[185,6,184,4],[185,13,184,11,"REVENUECAT_CONFIG"],[185,30,184,28],[185,31,184,29,"APPLE_API_KEY"],[185,44,184,42],[186,4,185,2],[186,5,185,3],[186,11,185,9],[186,15,185,13,"Platform"],[186,23,185,21],[186,24,185,21,"default"],[186,31,185,21],[186,32,185,22,"OS"],[186,34,185,24],[186,39,185,29],[186,48,185,38],[186,50,185,40],[187,6,186,4],[187,13,186,11,"REVENUECAT_CONFIG"],[187,30,186,28],[187,31,186,29,"GOOGLE_API_KEY"],[187,45,186,43],[188,4,187,2],[189,4,188,2],[189,11,188,9],[189,13,188,11],[190,2,189,0],[190,3,189,1],[191,2,191,0],[191,6,191,0,"_default"],[191,14,191,0],[191,17,191,15,"REVENUECAT_CONFIG"],[191,34,191,32],[192,0,191,33],[192,3]],"functionMap":{"names":["<global>","getProEntitlement","getSubscriptionExpirationDate","checkProAccessFromInfo","hasProEntitlement","isInTrialPeriod","getManagementURL","getApiKey"],"mappings":"AAA;iCCoG;CDQ;6CEM;CFQ;sCGS;CHkB;iCIM;CJE;+BKM;CLK;gCMK;CNG;yBOK;CPO"},"hasCjsExports":false},"type":"js/module"}]}